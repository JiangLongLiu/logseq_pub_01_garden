(function(){
shadow$provide[294]=function(ra,U,Da,O){var B=U(1);!function(H,u){"object"==typeof O&&"object"==typeof Da?Da.exports=u(U(6),U(15)):"function"==typeof define&&define.amd?define(["react","react-dom"],u):"object"==typeof O?O.Excalidraw=u(U(6),U(15)):H.Excalidraw=u(H.React,H.ReactDOM)}(self,function(H,u){return(()=>{function A(J){if(b[J])return b[J].exports;var t=b[J]={id:J,exports:{}};return I[J](t,t.exports,A),t.exports}var v,x,D,I={5374:J=>{function t(n,G,M,N,T,oa,da){try{var X=n[oa](da),Y=X.value}catch(W){return void M(W)}X.done?
G(Y):Promise.resolve(Y).then(N,T)}J.exports=function(n){return function(){var G=this,M=arguments;return new Promise(function(N,T){function oa(Y){t(X,N,T,oa,da,"next",Y)}function da(Y){t(X,N,T,oa,da,"throw",Y)}var X=n.apply(G,M);oa(void 0)})}}},566:J=>{J.exports=function(t,n,G){return n in t?Object.defineProperty(t,n,{value:G,enumerable:!0,configurable:!0,writable:!0}):t[n]=G,t}},6950:J=>{function t(){return J.exports=t=Object.assign||function(n){for(var G=1;G<arguments.length;G++){var M=arguments[G],
N;for(N in M)Object.prototype.hasOwnProperty.call(M,N)&&(n[N]=M[N])}return n},t.apply(this,arguments)}J.exports=t},5474:(J,t,n)=>{var G=n(8387);J.exports=function(M,N){if(null==M)return{};var T,oa=G(M,N);if(Object.getOwnPropertySymbols){var da=Object.getOwnPropertySymbols(M);for(T=0;T<da.length;T++){var X=da[T];0<=N.indexOf(X)||Object.prototype.propertyIsEnumerable.call(M,X)&&(oa[X]=M[X])}}return oa}},8387:J=>{J.exports=function(t,n){if(null==t)return{};var G,M={},N=Object.keys(t);for(G=0;G<N.length;G++){var T=
N[G];0<=n.indexOf(T)||(M[T]=t[T])}return M}},6009:(J,t,n)=>{t=n(487);n=n(8328);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},1395:(J,t,n)=>{t=n(487);n=n(6121);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},3211:(J,t,n)=>{t=n(487);n=n(2510);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||
{}},5574:(J,t,n)=>{t=n(487);n=n(7972);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},4518:(J,t,n)=>{t=n(487);n=n(190);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},3040:(J,t,n)=>{t=n(487);n=n(6718);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},8623:(J,t,n)=>{t=n(487);n=n(3623);
"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},4193:(J,t,n)=>{t=n(487);n=n(103);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},341:(J,t,n)=>{t=n(487);n=n(7061);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},9705:(J,t,n)=>{t=n(487);n=n(1498);"string"==typeof(n=n.__esModule?n.default:
n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},7143:(J,t,n)=>{t=n(487);n=n(666);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},7428:(J,t,n)=>{t=n(487);n=n(849);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},8465:(J,t,n)=>{t=n(487);n=n(6915);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",
singleton:!1});J.exports=n.locals||{}},8680:(J,t,n)=>{t=n(487);n=n(7030);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},205:(J,t,n)=>{t=n(487);n=n(3994);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},8416:(J,t,n)=>{t=n(487);n=n(700);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||
{}},2816:(J,t,n)=>{t=n(487);n=n(287);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},1575:(J,t,n)=>{t=n(487);n=n(5657);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},7287:(J,t,n)=>{t=n(487);n=n(7392);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},8518:(J,t,n)=>{t=n(487);n=n(6065);
"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},5849:(J,t,n)=>{t=n(487);n=n(83);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},9478:(J,t,n)=>{t=n(487);n=n(1554);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},2680:(J,t,n)=>{t=n(487);n=n(1970);"string"==typeof(n=n.__esModule?n.default:
n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},3142:(J,t,n)=>{t=n(487);n=n(961);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},8234:(J,t,n)=>{t=n(487);n=n(4878);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},4651:(J,t,n)=>{t=n(487);n=n(1988);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",
singleton:!1});J.exports=n.locals||{}},2189:(J,t,n)=>{t=n(487);n=n(3245);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[J.id,n,""]]);t(n,{insert:"head",singleton:!1});J.exports=n.locals||{}},487:(J,t,n)=>{function G(sa){for(var ja=-1,ha=0;ha<W.length;ha++)if(W[ha].identifier===sa){ja=ha;break}return ja}function M(sa,ja){for(var ha={},ka=[],wa=0;wa<sa.length;wa++){var ea=sa[wa],P=ja.base?ea[0]+ja.base:ea[0],aa=ha[P]||0,V="".concat(P," ").concat(aa);ha[P]=aa+1;P=G(V);ea={css:ea[1],media:ea[2],sourceMap:ea[3]};
-1!==P?(W[P].references++,W[P].updater(ea)):W.push({identifier:V,updater:da(ea,ja),references:1});ka.push(V)}return ka}function N(sa){var ja=document.createElement("style"),ha=sa.attributes||{};if(void 0===ha.nonce){var ka=n.nc;ka&&(ha.nonce=ka)}if(Object.keys(ha).forEach(function(wa){ja.setAttribute(wa,ha[wa])}),"function"==typeof sa.insert)sa.insert(ja);else{sa=Y(sa.insert||"head");if(!sa)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
sa.appendChild(ja)}return ja}function T(sa,ja,ha,ka){ha=ha?"":ka.media?"@media ".concat(ka.media," {").concat(ka.css,"}"):ka.css;sa.styleSheet?sa.styleSheet.cssText=Ka(ja,ha):(ha=document.createTextNode(ha),ka=sa.childNodes,ka[ja]&&sa.removeChild(ka[ja]),ka.length?sa.insertBefore(ha,ka[ja]):sa.appendChild(ha))}function oa(sa,ja,ha){ja=ha.css;var ka=ha.media;ha=ha.sourceMap;if(ka?sa.setAttribute("media",ka):sa.removeAttribute("media"),ha&&"undefined"!=typeof btoa&&(ja+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(ha)))),
" */")),sa.styleSheet)sa.styleSheet.cssText=ja;else{for(;sa.firstChild;)sa.removeChild(sa.firstChild);sa.appendChild(document.createTextNode(ja))}}function da(sa,ja){if(ja.singleton){var ha=Ba++;var ka=fa||(fa=N(ja));var wa=T.bind(null,ka,ha,!1);var ea=T.bind(null,ka,ha,!0)}else ka=N(ja),wa=oa.bind(null,ka,ja),ea=function(){if(null===ka.parentNode)var P=!1;else ka.parentNode.removeChild(ka),P=void 0;!P};return wa(sa),function(P){P?(P.css!==sa.css||P.media!==sa.media||P.sourceMap!==sa.sourceMap)&&
wa(sa=P):ea()}}var X,Y=function(){var sa={};return function(ja){if(void 0===sa[ja]){var ha=document.querySelector(ja);if(window.HTMLIFrameElement&&ha instanceof window.HTMLIFrameElement)try{ha=ha.contentDocument.head}catch(ka){ha=null}sa[ja]=ha}return sa[ja]}}(),W=[],ya,Ka=(ya=[],function(sa,ja){return ya[sa]=ja,ya.filter(Boolean).join("\n")}),fa=null,Ba=0;J.exports=function(sa,ja){(ja=ja||{}).singleton||"boolean"==typeof ja.singleton||(ja.singleton=(void 0===X&&(X=!(!(window&&document&&document.all)||
window.atob)),X));var ha=M(sa=sa||[],ja);return function(ka){if(ka=ka||[],"[object Array]"===Object.prototype.toString.call(ka)){for(var wa=0;wa<ha.length;wa++){var ea=G(ha[wa]);W[ea].references--}ka=M(ka,ja);for(wa=0;wa<ha.length;wa++)ea=G(ha[wa]),0===W[ea].references&&(W[ea].updater(),W.splice(ea,1));ha=ka}}}},2829:J=>{J.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version."},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:J=>{J.exports=JSON.parse('{"ar-SA":84,"bg-BG":96,"ca-ES":95,"de-DE":100,"el-GR":100,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":94,"hu-HU":84,"id-ID":100,"it-IT":100,"ja-JP":98,"kab-KAB":97,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":93,"pa-IN":97,"pl-PL":98,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":98,"sk-SK":98,"sv-SE":100,"tr-TR":84,"uk-UA":97,"zh-CN":98,"zh-TW":100}')},788:(J,t,n)=>{function G(N){if(!n.o(M,N))return Promise.resolve().then(()=>
{var da=Error("Cannot find module '"+N+"'");throw da.code="MODULE_NOT_FOUND",da;});var T=M[N],oa=T[0];return Promise.all(T.slice(1).map(n.e)).then(()=>n.t(oa,3))}var M={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};G.keys=()=>Object.keys(M);G.id=788;J.exports=G},7154:J=>{function t(){return J.exports=t=Object.assign||function(n){for(var G=1;G<arguments.length;G++){var M=arguments[G],N;for(N in M)Object.prototype.hasOwnProperty.call(M,N)&&(n[N]=M[N])}return n},t.apply(this,arguments)}J.exports=t},6479:(J,t,n)=>{var G=n(7316);J.exports=function(M,N){if(null==M)return{};var T,oa=G(M,N);if(Object.getOwnPropertySymbols){var da=Object.getOwnPropertySymbols(M);
for(T=0;T<da.length;T++){var X=da[T];0<=N.indexOf(X)||Object.prototype.propertyIsEnumerable.call(M,X)&&(oa[X]=M[X])}}return oa}},7316:J=>{J.exports=function(t,n){if(null==t)return{};var G,M={},N=Object.keys(t);for(G=0;G<N.length;G++){var T=N[G];0<=n.indexOf(T)||(M[T]=t[T])}return M}},8328:(J,t,n)=>{n.r(t);n.d(t,{default:()=>N});t=n(3645);var G=n.n(t);t=n(1667);t=n.n(t);var M=n(7464);n=n(9638);G=G()(function(T){return T[1]});M=t()(M.Z);n=t()(n.Z);G.push([J.id,'@font-face{font-family:"Virgil";src:url('+
M+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+n+");font-display:swap}",""]);const N=G},6121:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const G=n},2510:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const G=n},7972:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const G=n},190:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const G=n},6718:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const G=n},3623:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const G=n},103:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const G=n},7061:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);
n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const G=n},1498:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const G=n},666:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const G=n},849:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const G=n},6915:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});
t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const G=n},7030:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const G=n},3994:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const G=n},700:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const G=n},287:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const G=n},5657:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const G=n},7392:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const G=n},6065:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const G=n},83:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const G=n},1554:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const G=n},1970:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const G=n},961:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const G=n},4878:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const G=n},1988:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:root{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const G=n},3245:(J,t,n)=>{n.r(t);n.d(t,{default:()=>G});t=n(3645);n=n.n(t)()(function(M){return M[1]});n.push([J.id,"",""]);n.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const G=n},3645:J=>{J.exports=function(t){var n=[];return n.toString=function(){return this.map(function(G){var M=t(G);return G[2]?"@media ".concat(G[2]," {").concat(M,"}"):M}).join("")},n.i=function(G,M,N){"string"==typeof G&&(G=[[null,
G,""]]);var T={};if(N)for(var oa=0;oa<this.length;oa++){var da=this[oa][0];null!=da&&(T[da]=!0)}for(oa=0;oa<G.length;oa++)da=[].concat(G[oa]),N&&T[da[0]]||(M&&(da[2]?da[2]="".concat(M," and ").concat(da[2]):da[2]=M),n.push(da))},n}},1667:J=>{J.exports=function(t,n){return n||(n={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),n.hash&&(t+=n.hash),/["'() \t\n]/.test(t)||n.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},9638:(J,
t,n)=>{n.d(t,{Z:()=>G});const G=n.p+"excalidraw-assets/Cascadia.woff2"},7464:(J,t,n)=>{n.d(t,{Z:()=>G});const G=n.p+"excalidraw-assets/Virgil.woff2"},8288:(J,t,n)=>{n.d(t,{iC:()=>M,f:()=>N,qx:()=>T,Iw:()=>oa,$e:()=>da,wZ:()=>X,ay:()=>Y,oc:()=>W,Oh:()=>ya,Ks:()=>G,Vi:()=>Ka,$C:()=>fa,ut:()=>Ba,_D:()=>sa,n5:()=>ja,rk:()=>ha,Hg:()=>ka,hs:()=>wa,eQ:()=>ea,k:()=>P,LO:()=>aa,I:()=>V,Gj:()=>xa,nM:()=>Ua,Lg:()=>Fa,HM:()=>La,V4:()=>Za,EH:()=>Ma,Gi:()=>tb});var G;J=n(2189);n=n.n(J);var M="Excalidraw",N=10,
T=8,oa=5,da=1,X=30,Y=Math.PI/12,W={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},ya={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Hb){Hb.COPY="copy";Hb.PASTE="paste";Hb.CUT="cut";Hb.KEYDOWN="keydown";Hb.KEYUP="keyup";Hb.MOUSE_MOVE="mousemove";Hb.RESIZE="resize";Hb.UNLOAD="unload";Hb.BLUR="blur";Hb.DRAG_OVER="dragover";Hb.DROP="drop";Hb.GESTURE_END="gestureend";Hb.BEFORE_UNLOAD="beforeunload";Hb.GESTURE_START="gesturestart";Hb.GESTURE_CHANGE="gesturechange";
Hb.POINTER_MOVE="pointermove";Hb.POINTER_UP="pointerup";Hb.STATE_CHANGE="statechange";Hb.WHEEL="wheel";Hb.TOUCH_START="touchstart";Hb.TOUCH_END="touchend";Hb.HASHCHANGE="hashchange";Hb.VISIBILITY_CHANGE="visibilitychange";Hb.SCROLL="scroll"}(G||(G={}));var Ka={TEST:"test",DEVELOPMENT:"development"},fa={SHAPE_ACTIONS_MENU:"App-menu__left"},Ba={1:"Virgil",2:"Helvetica",3:"Cascadia"},sa="Segoe UI Emoji",ja=20,ha=1,ka="left",wa="top",ea="{version}",P=20,aa={excalidraw:"application/vnd.excalidraw+json",
excalidrawlib:"application/vnd.excalidrawlib+json"},V={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},xa=300,Ua=500,Fa=5E3,La=100,Za=.1,Ma={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},tb=n().appearanceFilter},3956:(J,t,n)=>{function G(d,f){return Math.pow(d[0]-f[0],2)+Math.pow(d[1]-f[1],2)}function M(d,f,h){return[d[0]+(f[0]-d[0])*h,d[1]+(f[1]-d[1])*h]}function N(d,f,h,m){m=m||[];{var w=d[f+0],C=d[f+1];var S=d[f+2];const na=d[f+3];var R=3*C[0]-2*w[0]-na[0];R*=R;C=3*C[1]-2*w[1]-na[1];C*=C;let Ia=3*
S[0]-2*na[0]-w[0];Ia*=Ia;w=3*S[1]-2*na[1]-w[1];S=(w*=w,R<Ia&&(R=Ia),C<w&&(C=w),R+C)}S<h?(h=d[f+0],m.length?1<(ba=m[m.length-1],ua=h,Math.sqrt(G(ba,ua)))&&m.push(h):m.push(h),m.push(d[f+3])):(ba=d[f+0],R=d[f+1],ua=d[f+2],d=d[f+3],f=M(ba,R,.5),C=M(R,ua,.5),ua=M(ua,d,.5),R=M(f,C,.5),C=M(C,ua,.5),w=M(R,C,.5),N([ba,f,R,w],0,h,m),N([w,C,ua,d],0,h,m));var ba,ua;return m}function T(d,f){return oa(d,0,d.length,f)}function oa(d,f,h,m,w){w=w||[];const C=d[f],S=d[h-1];let R=0,ba=1;for(let Na=f+1;Na<h-1;++Na){var ua=
d[Na];var na=C,Ia=S,Oa=G(na,Ia);0===Oa?ua=G(ua,na):(Oa=((ua[0]-na[0])*(Ia[0]-na[0])+(ua[1]-na[1])*(Ia[1]-na[1]))/Oa,ua=(Oa=Math.max(0,Math.min(1,Oa)),G(ua,M(na,Ia,Oa))));ua>R&&(R=ua,ba=Na)}return Math.sqrt(R)>m?(oa(d,f,ba+1,m,w),oa(d,ba,h,m,w)):(w.length||w.push(C),w.push(S)),w}function da(d,f=.15,h){const m=[],w=(d.length-1)/3;for(let C=0;C<w;C++)N(d,3*C,f,m);return h&&0<h?oa(m,0,m.length,h):m}function X(d,f,h){if(d&&d.length){const [m,w]=f;f=Math.PI/180*h;const C=Math.cos(f),S=Math.sin(f);d.forEach(R=>
{const [ba,ua]=R;R[0]=(ba-m)*C-(ua-w)*S+m;R[1]=(ba-m)*S+(ua-w)*C+w})}}function Y(d){const f=d[0];d=d[1];return Math.sqrt(Math.pow(f[0]-d[0],2)+Math.pow(f[1]-d[1],2))}function W(d,f,h,m){const w=f[1]-d[1];f=d[0]-f[0];d=w*d[0]+f*d[1];const C=m[1]-h[1];m=h[0]-m[0];h=C*h[0]+m*h[1];const S=w*m-C*f;return S?[(m*d-f*h)/S,(w*h-C*d)/S]:null}function ya(d,f,h){const m=d.length;if(3>m)return!1;const w=[Number.MAX_SAFE_INTEGER,h];f=[f,h];h=0;for(let C=0;C<m;C++){const S=d[C],R=d[(C+1)%m];if(Ba(S,R,f,w)){if(0===
fa(S,f,R))return Ka(S,f,R);h++}}return 1==h%2}function Ka(d,f,h){return f[0]<=Math.max(d[0],h[0])&&f[0]>=Math.min(d[0],h[0])&&f[1]<=Math.max(d[1],h[1])&&f[1]>=Math.min(d[1],h[1])}function fa(d,f,h){d=(f[1]-d[1])*(h[0]-f[0])-(f[0]-d[0])*(h[1]-f[1]);return 0===d?0:0<d?1:2}function Ba(d,f,h,m){const w=fa(d,f,h),C=fa(d,f,m),S=fa(h,m,d),R=fa(h,m,f);return w!==C&&S!==R||!(0!==w||!Ka(d,h,f))||!(0!==C||!Ka(d,m,f))||!(0!==S||!Ka(h,d,m))||!(0!==R||!Ka(h,f,m))}function sa(d,f){const h=[0,0],m=Math.round(f.hachureAngle+
90);m&&X(d,h,m);f=function(w,C){var S=[...w];S[0].join(",")!==S[S.length-1].join(",")&&S.push([S[0][0],S[0][1]]);w=[];if(S&&2<S.length){let ba=C.hachureGap;0>ba&&(ba=4*C.strokeWidth);ba=Math.max(ba,.1);C=[];for(var R=0;R<S.length-1;R++){const Ia=S[R],Oa=S[R+1];if(Ia[1]!==Oa[1]){const Na=Math.min(Ia[1],Oa[1]);C.push({ymin:Na,ymax:Math.max(Ia[1],Oa[1]),x:Na===Ia[1]?Ia[0]:Oa[0],islope:(Oa[0]-Ia[0])/(Oa[1]-Ia[1])})}}if(C.sort((Ia,Oa)=>Ia.ymin<Oa.ymin?-1:Ia.ymin>Oa.ymin?1:Ia.x<Oa.x?-1:Ia.x>Oa.x?1:Ia.ymax===
Oa.ymax?0:(Ia.ymax-Oa.ymax)/Math.abs(Ia.ymax-Oa.ymax)),!C.length)return w;let ua=[],na=C[0].ymin;for(;ua.length||C.length;){if(C.length){S=-1;for(R=0;R<C.length&&!(C[R].ymin>na);R++)S=R;C.splice(0,S+1).forEach(Ia=>{ua.push({s:na,edge:Ia})})}if(ua=ua.filter(Ia=>!(Ia.edge.ymax<=na)),ua.sort((Ia,Oa)=>Ia.edge.x===Oa.edge.x?0:(Ia.edge.x-Oa.edge.x)/Math.abs(Ia.edge.x-Oa.edge.x)),1<ua.length)for(S=0;S<ua.length;S+=2){R=S+1;if(R>=ua.length)break;w.push([[Math.round(ua[S].edge.x),na],[Math.round(ua[R].edge.x),
na]])}na+=ba;ua.forEach(Ia=>{Ia.edge.x+=ba*Ia.edge.islope})}}return w}(d,f);return m&&(X(d,h,-m),function(w,C,S){const R=[];w.forEach(ba=>R.push(...ba));X(R,C,S)}(f,h,-m)),f}function ja(d){const f=[];a:{var h=d;for(var m=[];""!==h;){if(!h.match(/^([ \t\r\n,]+)/))if(h.match(/^([aAcChHlLmMqQsStTvVzZ])/))m[m.length]={type:0,text:RegExp.$1};else{if(!h.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){h=[];break a}m[m.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}h=h.substr(RegExp.$1.length)}h=
(m[m.length]={type:2,text:""},m)}m="BOD";let w=0;for(var C=h[w];2!==C.type;){let S=0;const R=[];if("BOD"===m){if("M"!==C.text&&"m"!==C.text)return ja("M0,0"+d);w++;S=$d[C.text];m=C.text}else 1===C.type?S=$d[m]:(w++,S=$d[C.text],m=C.text);if(!(w+S<h.length))throw Error("Path data ended short");for(C=w;C<w+S;C++){const ba=h[C];if(1!==ba.type)throw Error("Param not a number: "+m+","+ba.text);R[R.length]=+ba.text}if("number"!=typeof $d[m])throw Error("Bad segment: "+m);f.push({key:m,data:R});w+=S;C=h[w];
"M"===m&&(m="L");"m"===m&&(m="l")}return f}function ha(d){let f=0,h=0,m=0,w=0;const C=[];for(const {key:S,data:R}of d)switch(S){case "M":C.push({key:"M",data:[...R]});[f,h]=R;[m,w]=R;break;case "m":f+=R[0];h+=R[1];C.push({key:"M",data:[f,h]});m=f;w=h;break;case "L":C.push({key:"L",data:[...R]});[f,h]=R;break;case "l":f+=R[0];h+=R[1];C.push({key:"L",data:[f,h]});break;case "C":C.push({key:"C",data:[...R]});f=R[4];h=R[5];break;case "c":d=R.map((ba,ua)=>ua%2?ba+h:ba+f);C.push({key:"C",data:d});f=d[4];
h=d[5];break;case "Q":C.push({key:"Q",data:[...R]});f=R[2];h=R[3];break;case "q":d=R.map((ba,ua)=>ua%2?ba+h:ba+f);C.push({key:"Q",data:d});f=d[2];h=d[3];break;case "A":C.push({key:"A",data:[...R]});f=R[5];h=R[6];break;case "a":f+=R[5];h+=R[6];C.push({key:"A",data:[R[0],R[1],R[2],R[3],R[4],f,h]});break;case "H":C.push({key:"H",data:[...R]});f=R[0];break;case "h":f+=R[0];C.push({key:"H",data:[f]});break;case "V":C.push({key:"V",data:[...R]});h=R[0];break;case "v":h+=R[0];C.push({key:"V",data:[h]});
break;case "S":C.push({key:"S",data:[...R]});f=R[2];h=R[3];break;case "s":d=R.map((ba,ua)=>ua%2?ba+h:ba+f);C.push({key:"S",data:d});f=d[2];h=d[3];break;case "T":C.push({key:"T",data:[...R]});f=R[0];h=R[1];break;case "t":f+=R[0];h+=R[1];C.push({key:"T",data:[f,h]});break;case "Z":case "z":C.push({key:"Z",data:[]}),f=m,h=w}return C}function ka(d){const f=[];var h="";let m=0,w=0,C=0,S=0,R=0,ba=0;for(const {key:na,data:Ia}of d){switch(na){case "M":f.push({key:"M",data:[...Ia]});[m,w]=Ia;[C,S]=Ia;break;
case "C":f.push({key:"C",data:[...Ia]});m=Ia[4];w=Ia[5];R=Ia[2];ba=Ia[3];break;case "L":f.push({key:"L",data:[...Ia]});[m,w]=Ia;break;case "H":m=Ia[0];f.push({key:"L",data:[m,w]});break;case "V":w=Ia[0];f.push({key:"L",data:[m,w]});break;case "S":var ua=d=0;"C"===h||"S"===h?(d=m+(m-R),ua=w+(w-ba)):(d=m,ua=w);f.push({key:"C",data:[d,ua,...Ia]});R=Ia[0];ba=Ia[1];m=Ia[2];w=Ia[3];break;case "T":{const [Oa,Na]=Ia;ua=d=0;"Q"===h||"T"===h?(d=m+(m-R),ua=w+(w-ba)):(d=m,ua=w);f.push({key:"C",data:[m+2*(d-m)/
3,w+2*(ua-w)/3,Oa+2*(d-Oa)/3,Na+2*(ua-Na)/3,Oa,Na]});R=d;ba=ua;m=Oa;w=Na;break}case "Q":{const [Oa,Na,fb,db]=Ia;f.push({key:"C",data:[m+2*(Oa-m)/3,w+2*(Na-w)/3,fb+2*(Oa-fb)/3,db+2*(Na-db)/3,fb,db]});R=Oa;ba=Na;m=fb;w=db;break}case "A":{h=Math.abs(Ia[0]);d=Math.abs(Ia[1]);ua=Ia[2];const Oa=Ia[3],Na=Ia[4],fb=Ia[5],db=Ia[6];if(0===h||0===d)f.push({key:"C",data:[m,w,fb,db,fb,db]}),m=fb,w=db;else if(m!==fb||w!==db)ea(m,w,fb,db,h,d,ua,Oa,Na).forEach(function(Cb){f.push({key:"C",data:Cb})}),m=fb,w=db;break}case "Z":f.push({key:"Z",
data:[]}),m=C,w=S}h=na}return f}function wa(d,f,h){return[d*Math.cos(h)-f*Math.sin(h),d*Math.sin(h)+f*Math.cos(h)]}function ea(d,f,h,m,w,C,S,R,ba,ua){const na=(Ia=S,Math.PI*Ia/180);var Ia;Ia=[];if(ua)[R,Oa,Na,fb]=ua;else{[d,f]=wa(d,f,-na);[h,m]=wa(h,m,-na);var Oa=(d-h)/2;var Na=(f-m)/2;var fb=Oa*Oa/(w*w)+Na*Na/(C*C);1<fb&&(fb=Math.sqrt(fb),w*=fb,C*=fb);fb=w*w;var db=C*C;R=(R===ba?-1:1)*Math.sqrt(Math.abs((fb*db-fb*Na*Na-db*Oa*Oa)/(fb*Na*Na+db*Oa*Oa)));Na=R*w*Na/C+(d+h)/2;fb=R*-C*Oa/w+(f+m)/2;R=Math.asin(parseFloat(((f-
fb)/C).toFixed(9)));Oa=Math.asin(parseFloat(((m-fb)/C).toFixed(9)));d<Na&&(R=Math.PI-R);h<Na&&(Oa=Math.PI-Oa);0>R&&(R=2*Math.PI+R);0>Oa&&(Oa=2*Math.PI+Oa);ba&&R>Oa&&(R-=2*Math.PI);!ba&&Oa>R&&(Oa-=2*Math.PI)}if(Math.abs(Oa-R)>120*Math.PI/180){Ia=Oa;db=h;const Cb=m;Oa=ba&&Oa>R?R+120*Math.PI/180:R+120*Math.PI/180*-1;Ia=ea(h=Na+w*Math.cos(Oa),m=fb+C*Math.sin(Oa),db,Cb,w,C,S,0,ba,[Oa,Ia,Na,fb])}S=Math.tan((Oa-R)/4);w=4/3*w*S;S*=4/3*C;C=[d,f];d=[d+w*Math.sin(R),f-S*Math.cos(R)];f=[h+w*Math.sin(Oa),m-S*
Math.cos(Oa)];h=[h,m];if(d[0]=2*C[0]-d[0],d[1]=2*C[1]-d[1],ua)return[d,f,h].concat(Ia);Ia=[d,f,h].concat(Ia);ua=[];for(h=0;h<Ia.length;h+=3)m=wa(Ia[h][0],Ia[h][1],na),d=wa(Ia[h+1][0],Ia[h+1][1],na),f=wa(Ia[h+2][0],Ia[h+2][1],na),ua.push([m[0],m[1],d[0],d[1],f[0],f[1]]);return ua}function P(d,f,h){const m=(d||[]).length;if(2<m){const w=[];for(let C=0;C<m-1;C++)w.push(...Hb(d[C][0],d[C][1],d[C+1][0],d[C+1][1],h));return f&&w.push(...Hb(d[m-1][0],d[m-1][1],d[0][0],d[0][1],h)),{type:"path",ops:w}}return 2===
m?{type:"path",ops:Hb(d[0][0],d[0][1],d[1][0],d[1][1],h)}:{type:"path",ops:[]}}function aa(d,f){let h=lc(d,1+.2*f.roughness,f);if(!f.disableMultiStroke){var m=1.5*(1+.22*f.roughness);{const w=Object.assign({},f);w.randomizer=void 0;f.seed&&(w.seed=f.seed+1);f=w}d=lc(d,m,f);h=h.concat(d)}return{type:"path",ops:h}}function V(d,f,h){const m=2*Math.PI/Math.max(h.curveStepCount,h.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(f/2,2))/2)));d=Math.abs(d/2);f=Math.abs(f/
2);const w=1-h.curveFitting;return d+=tb(d*w,h),f+=tb(f*w,h),{increment:m,rx:d,ry:f}}function xa(d,f,h,m){const [w,C]=tc(m.increment,d,f,m.rx,m.ry,1,m.increment*Ma(.1,Ma(.4,1,h),h),h);let S=Sb(w,null,h);h.disableMultiStroke||([d]=tc(m.increment,d,f,m.rx,m.ry,1.5,0,h),h=Sb(d,null,h),S=S.concat(h));return{estimatedPoints:C,opset:{type:"path",ops:S}}}function Ua(d,f,h,m,w,C,S,R,ba){h=Math.abs(h/2);m=Math.abs(m/2);h+=tb(.01*h,ba);for(m+=tb(.01*m,ba);0>w;)w+=2*Math.PI,C+=2*Math.PI;C-w>2*Math.PI&&(w=0,
C=2*Math.PI);var ua=Math.min(2*Math.PI/ba.curveStepCount/2,(C-w)/2);const na=Gc(ua,d,f,h,m,w,C,1,ba);ba.disableMultiStroke||(ua=Gc(ua,d,f,h,m,w,C,1.5,ba),na.push(...ua));return S&&(R?na.push(...Hb(d,f,d+h*Math.cos(w),f+m*Math.sin(w),ba),...Hb(d,f,d+h*Math.cos(C),f+m*Math.sin(C),ba)):na.push({op:"lineTo",data:[d,f]},{op:"lineTo",data:[d+h*Math.cos(w),f+m*Math.sin(w)]})),{type:"path",ops:na}}function Fa(d,f){const h=[];if(d.length){const m=f.maxRandomnessOffset||0,w=d.length;if(2<w){h.push({op:"move",
data:[d[0][0]+tb(m,f),d[0][1]+tb(m,f)]});for(let C=1;C<w;C++)h.push({op:"lineTo",data:[d[C][0]+tb(m,f),d[C][1]+tb(m,f)]})}}return{type:"fillPath",ops:h}}function La(d,f){{var h=hj;let m=f.fillStyle||"hachure";if(!ef[m])switch(m){case "zigzag":ef[m]||(ef[m]=new wd(h));break;case "cross-hatch":ef[m]||(ef[m]=new Ng(h));break;case "dots":ef[m]||(ef[m]=new Pc(h));break;case "dashed":ef[m]||(ef[m]=new hh(h));break;case "zigzag-line":ef[m]||(ef[m]=new Ah(h));break;default:m="hachure",ef[m]||(ef[m]=new zf(h))}h=
ef[m]}return h.fillPolygon(d,f)}function Za(d){return d.randomizer||(d.randomizer=new xj(d.seed||0)),d.randomizer.next()}function Ma(d,f,h,m=1){return h.roughness*m*(Za(h)*(f-d)+d)}function tb(d,f,h=1){return Ma(-d,d,f,h)}function Hb(d,f,h,m,w,C=!1){const S=C?w.disableMultiStrokeFill:w.disableMultiStroke;C=cc(d,f,h,m,w,!0,!1);if(S)return C;d=cc(d,f,h,m,w,!0,!0);return C.concat(d)}function cc(d,f,h,m,w,C,S){var R=Math.pow(d-h,2)+Math.pow(f-m,2),ba=Math.sqrt(R);let ua;ua=200>ba?1:500<ba?.4:-.0016668*
ba+1.233334;let na=w.maxRandomnessOffset||0;na*na*100>R&&(na=ba/10);R=na/2;ba=.2+.2*Za(w);let Ia=w.bowing*w.maxRandomnessOffset*(m-f)/200,Oa=w.bowing*w.maxRandomnessOffset*(d-h)/200;Ia=tb(Ia,w,ua);Oa=tb(Oa,w,ua);const Na=[];return C&&(S?Na.push({op:"move",data:[d+tb(R,w,ua),f+tb(R,w,ua)]}):Na.push({op:"move",data:[d+tb(na,w,ua),f+tb(na,w,ua)]})),S?Na.push({op:"bcurveTo",data:[Ia+d+(h-d)*ba+tb(R,w,ua),Oa+f+(m-f)*ba+tb(R,w,ua),Ia+d+2*(h-d)*ba+tb(R,w,ua),Oa+f+2*(m-f)*ba+tb(R,w,ua),h+tb(R,w,ua),m+tb(R,
w,ua)]}):Na.push({op:"bcurveTo",data:[Ia+d+(h-d)*ba+tb(na,w,ua),Oa+f+(m-f)*ba+tb(na,w,ua),Ia+d+2*(h-d)*ba+tb(na,w,ua),Oa+f+2*(m-f)*ba+tb(na,w,ua),h+tb(na,w,ua),m+tb(na,w,ua)]}),Na}function lc(d,f,h){const m=[];m.push([d[0][0]+tb(f,h),d[0][1]+tb(f,h)]);m.push([d[0][0]+tb(f,h),d[0][1]+tb(f,h)]);for(let w=1;w<d.length;w++)m.push([d[w][0]+tb(f,h),d[w][1]+tb(f,h)]),w===d.length-1&&m.push([d[w][0]+tb(f,h),d[w][1]+tb(f,h)]);return Sb(m,null,h)}function Sb(d,f,h){const m=d.length,w=[];if(3<m){const C=[],
S=1-h.curveTightness;w.push({op:"move",data:[d[1][0],d[1][1]]});for(let R=1;R+2<m;R++){const ba=d[R];C[0]=[ba[0],ba[1]];C[1]=[ba[0]+(S*d[R+1][0]-S*d[R-1][0])/6,ba[1]+(S*d[R+1][1]-S*d[R-1][1])/6];C[2]=[d[R+1][0]+(S*d[R][0]-S*d[R+2][0])/6,d[R+1][1]+(S*d[R][1]-S*d[R+2][1])/6];C[3]=[d[R+1][0],d[R+1][1]];w.push({op:"bcurveTo",data:[C[1][0],C[1][1],C[2][0],C[2][1],C[3][0],C[3][1]]})}f&&2===f.length&&(d=h.maxRandomnessOffset,w.push({op:"lineTo",data:[f[0]+tb(d,h),f[1]+tb(d,h)]}))}else 3===m?(w.push({op:"move",
data:[d[1][0],d[1][1]]}),w.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===m&&w.push(...Hb(d[0][0],d[0][1],d[1][0],d[1][1],h));return w}function tc(d,f,h,m,w,C,S,R){const ba=[],ua=[],na=tb(.5,R)-Math.PI/2;ua.push([tb(C,R)+f+.9*m*Math.cos(na-d),tb(C,R)+h+.9*w*Math.sin(na-d)]);for(let Ia=na;Ia<2*Math.PI+na-.01;Ia+=d){const Oa=[tb(C,R)+f+m*Math.cos(Ia),tb(C,R)+h+w*Math.sin(Ia)];ba.push(Oa);ua.push(Oa)}return ua.push([tb(C,R)+f+m*Math.cos(na+2*Math.PI+.5*S),tb(C,R)+h+
w*Math.sin(na+2*Math.PI+.5*S)]),ua.push([tb(C,R)+f+.98*m*Math.cos(na+S),tb(C,R)+h+.98*w*Math.sin(na+S)]),ua.push([tb(C,R)+f+.9*m*Math.cos(na+.5*S),tb(C,R)+h+.9*w*Math.sin(na+.5*S)]),[ua,ba]}function Gc(d,f,h,m,w,C,S,R,ba){var ua=C+tb(.1,ba);C=[];for(C.push([tb(R,ba)+f+.9*m*Math.cos(ua-d),tb(R,ba)+h+.9*w*Math.sin(ua-d)]);ua<=S;ua+=d)C.push([tb(R,ba)+f+m*Math.cos(ua),tb(R,ba)+h+w*Math.sin(ua)]);return C.push([f+m*Math.cos(S),h+w*Math.sin(S)]),C.push([f+m*Math.cos(S),h+w*Math.sin(S)]),Sb(C,null,ba)}
function $b(d,f,h,m,w,C,S,R){const ba=[],ua=[R.maxRandomnessOffset||1,(R.maxRandomnessOffset||1)+.3];let na;const Ia=R.disableMultiStroke?1:2;for(let Oa=0;Oa<Ia;Oa++)0===Oa?ba.push({op:"move",data:[S[0],S[1]]}):ba.push({op:"move",data:[S[0]+tb(ua[0],R),S[1]+tb(ua[0],R)]}),na=[w+tb(ua[Oa],R),C+tb(ua[Oa],R)],ba.push({op:"bcurveTo",data:[d+tb(ua[Oa],R),f+tb(ua[Oa],R),h+tb(ua[Oa],R),m+tb(ua[Oa],R),na[0],na[1]]});return ba}function xc(d){var f,h,m="";if("string"==typeof d||"number"==typeof d)m+=d;else if("object"==
typeof d)if(Array.isArray(d))for(f=0;f<d.length;f++)d[f]&&(h=xc(d[f]))&&(m&&(m+=" "),m+=h);else for(f in d)d[f]&&(m&&(m+=" "),m+=f);return m}function jc(){for(var d,f,h=0,m="";h<arguments.length;)(d=arguments[h++])&&(f=xc(d))&&(m&&(m+=" "),m+=f);return m}function Zc(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function gb(d){for(var f=
1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Zc(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Zc(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Kb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,
w).enumerable}));h.push.apply(h,m)}return h}function sb(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Kb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Kb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Cc(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);
f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function qb(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Cc(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Cc(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Ya(d,f){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Ea(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Ya(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ya(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,
m))})}return d}function Qa(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Wa(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Qa(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Qa(Object(h)).forEach(function(m){Object.defineProperty(d,
m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Ib(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function zb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function dc(d){for(var f=
1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?zb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):zb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function nc(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,
w).enumerable}));h.push.apply(h,m)}return h}function Dc(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?nc(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):nc(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function pc(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);
f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Hc(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?pc(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):pc(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Kd(d,f){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function xd(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Kd(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Kd(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,
m))})}return d}function Ed(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function ge(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Ed(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ed(Object(h)).forEach(function(m){Object.defineProperty(d,
m,Object.getOwnPropertyDescriptor(h,m))})}return d}function ue(d){var f=d.options,h=d.value,m=d.label,w=d.onChange,C=d.onClose,S=qa().useRef(),R=qa().useRef(),ba=qa().useRef(null);qa().useEffect(function(){R.current?R.current.focus():ba.current&&ba.current.focus()},[]);return qa().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":m,onKeyDown:function(ua){var na=f.find(function(fb){return fb.keyBinding===ua.key.toLowerCase()});if(ua.metaKey||ua.altKey||ua.ctrlKey||
!na)if("Tab"===ua.key)setTimeout(function(){R.current!==document.activeElement&&C()},0);else if(ye(ua.key)){na=ie.rtl;if(-1!==(Na=Array.prototype.indexOf.call(ba.current.children,document.activeElement))){var Ia=f.length,Oa=Na;switch(ua.key){case na?"ArrowLeft":"ArrowRight":case "ArrowDown":Oa=(Na+1)%Ia;break;case na?"ArrowRight":"ArrowLeft":case "ArrowUp":Oa=(Ia+Na-1)%Ia}ba.current.children[Oa].focus()}ua.preventDefault()}else"Escape"!==ua.key&&"Enter"!==ua.key||(ua.preventDefault(),C());else{var Na=
f.indexOf(na);ba.current.children[Na].focus();ua.preventDefault()}ua.nativeEvent.stopImmediatePropagation()}},qa().createElement("div",{className:"picker-content",ref:ba},f.map(function(ua,na){return qa().createElement("button",{className:"picker-option",onClick:function(Ia){Ia.currentTarget.focus();w(ua.value)},title:"".concat(ua.text," — ").concat(ua.keyBinding.toUpperCase()),"aria-label":ua.text||"none","aria-keyshortcuts":ua.keyBinding,key:ua.text,ref:function(Ia){Ia&&0===na&&(S.current=Ia);Ia&&
ua.value===h&&(R.current=Ia)},onFocus:function(){w(ua.value)}},ua.icon,qa().createElement("span",{className:"picker-keybinding"},ua.keyBinding))})))}function xf(d){var f,h=d.value,m=d.label,w=d.options,C=d.onChange;d=d.group;d=void 0===d?"":d;var S=qa().useState(!1),R=S[0],ba=S[1],ua=qa().useRef(null);S=ie.rtl;return qa().createElement("label",{className:"picker-container"},qa().createElement("button",{name:d,className:R?"active":"","aria-label":m,onClick:function(){return ba(!R)},ref:ua},null===
(f=w.find(function(na){return na.value===h}))||void 0===f?void 0:f.icon),qa().createElement(qa().Suspense,{fallback:""},R?qa().createElement(qa().Fragment,null,qa().createElement(Ga,Jc()({onCloseRequest:function(na){return na.target!==ua.current&&ba(!1)}},S?{right:5.5}:{left:-5.5}),qa().createElement(ue,{options:w,value:h,label:m,onChange:C,onClose:function(){var na;ba(!1);null===(na=ua.current)||void 0===na||na.focus()}})),qa().createElement("div",{className:"picker-triangle"})):null))}function ci(d,
f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Td(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?ci(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):ci(Object(h)).forEach(function(m){Object.defineProperty(d,
m,Object.getOwnPropertyDescriptor(h,m))})}return d}function qf(){return(0,Jd.useContext)(df)}function Lg(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Wd(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Lg(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,
Object.getOwnPropertyDescriptors(h)):Lg(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function rf(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Zf(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?rf(Object(h),!0).forEach(function(m){ce()(d,
m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):rf(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}async function oh(...d){return(await on).default(...d)}async function Qf(...d){return(await qk).default(...d)}function eh(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,
w).enumerable}));h.push.apply(h,m)}return h}function he(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?eh(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):eh(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function rg(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);
f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function ri(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?rg(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):rg(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function cf(d,f){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function qe(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?cf(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):cf(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,
m))})}return d}function yh(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function yf(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?yh(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):yh(Object(h)).forEach(function(m){Object.defineProperty(d,
m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Jf(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function ti(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Jf(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):
Jf(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function gk(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Be(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?gk(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):gk(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function cg(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Od(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?cg(Object(h),
!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):cg(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Tb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Mc(d){for(var f=1;f<arguments.length;f++){var h=
null!=arguments[f]?arguments[f]:{};f%2?Tb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Tb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Cg(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,
m)}return h}function sg(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Cg(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Cg(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Ld(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,
w).enumerable}));h.push.apply(h,m)}return h}function We(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Ld(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ld(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Ud(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);
f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function vc(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Ud(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ud(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function kb(d,f){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Ja(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?kb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):kb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,
m))})}return d}function eb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Mb(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?eb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):eb(Object(h)).forEach(function(m){Object.defineProperty(d,
m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Vb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Nc(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Vb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):
Vb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function vb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Nb(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?vb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):vb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Xb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Ta(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Xb(Object(h),
!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Xb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Uc(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Rd(d){for(var f=1;f<arguments.length;f++){var h=
null!=arguments[f]?arguments[f]:{};f%2?Uc(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Uc(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function jd(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,
m)}return h}function fh(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function Gb(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,m)}return h}function gh(d){for(var f=1;f<arguments.length;f++){var h=
null!=arguments[f]?arguments[f]:{};f%2?Gb(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Gb(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function Wg(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}));h.push.apply(h,
m)}return h}function Oc(d){for(var f=1;f<arguments.length;f++){var h=null!=arguments[f]?arguments[f]:{};f%2?Wg(Object(h),!0).forEach(function(m){ce()(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Wg(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}n.r(t);n.d(t,{default:()=>Np,defaultLang:()=>Pf,getElementMap:()=>th,getSceneVersion:()=>gf,getSyncableElements:()=>ok,languages:()=>gj,
restore:()=>Al,restoreAppState:()=>yl,restoreElements:()=>wj});var Ae=n(7154),Rf=n.n(Ae),Hk=n(6479),ui=n.n(Hk),Jd=n(4698),qa=n.n(Jd),Pb=n(8288);const Ni=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.2"}');"production"!==Pb.Vi.TEST&&(n.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Ni.u2,"@").concat(Ni.i8,"/dist/"));var Qj=n(5374),ld=n.n(Qj),Ff=n(2829),vi=n(2051),Ug=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");
for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<
C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},Pf={code:"en",label:"English"},gj=[{code:"ar-SA",
label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},
{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",
label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Pf]).sort(function(d,f){return d.label>f.label?1:-1}).filter(function(d){return 85<=vi[d.code]});"production"===Pb.Vi.DEVELOPMENT&&gj.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var te,ie=Pf,Dg={},tf=function(){var d=ld()(function(f){return Ug(this,function(h){switch(h.label){case 0:return ie=f,document.documentElement.dir=ie.rtl?"rtl":
"ltr",document.documentElement.lang=ie.code,f.code.startsWith("__test__")?(Dg={},[3,3]):[3,1];case 1:return[4,n(788)("./".concat(ie.code,".json"))];case 2:Dg=h.sent(),h.label=3;case 3:return[2]}})});return function(f){return d.apply(this,arguments)}}(),uf=function(d,f){for(var h=0;h<f.length;++h){var m=f[h];if(void 0===d[m])return;d=d[m]}if("string"==typeof d)return d},hb=function(d,f){if(ie.code.startsWith("__test__"))return d=f?"".concat(d,"(").concat(JSON.stringify(f).slice(1,-1),")"):d,"‪[[".concat(d,
"]]‬");var h=d.split(".");h=uf(Dg,h)||uf(Ff,h);if(void 0===h)throw Error("Can't find translation for ".concat(d));if(f)for(var m in f)h=h.replace("{{".concat(m,"}}"),f[m]);return h},Ie=function(){return qa().createElement("div",{className:"LoadingMessage"},qa().createElement("span",null,hb("labels.loadingScene")))},Xg=(te=function(d,f){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,
w)&&(h[w]=m[w])})(d,f)},function(d,f){function h(){this.constructor=d}te(d,f);d.prototype=null===f?Object.create(f):(h.prototype=f.prototype,new h)}),re=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,
{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:
void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},vj=function(d){function f(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var w;m=this;return w=m=d.apply(this,h)||this,m.state={isLoading:!0},w}return Xg(f,d),f.prototype.componentDidMount=function(){var h=this;return ld()(function(){var m;return re(this,
function(w){switch(w.label){case 0:return m=gj.find(function(C){return C.code===h.props.langCode})||Pf,[4,tf(m)];case 1:return w.sent(),h.setState({isLoading:!1}),[2]}})})()},f.prototype.render=function(){return this.state.isLoading?qa().createElement(Ie,null):this.props.children},f}(qa().Component),zh=n(566),ce=n.n(zh);class zf{constructor(d){this.helper=d}fillPolygon(d,f){return this._fillPolygon(d,f)}_fillPolygon(d,f,h=!1){let m=sa(d,f);h&&(d=this.connectingLines(d,m),m=m.concat(d));return{type:"fillSketch",
ops:this.renderLines(m,f)}}renderLines(d,f){const h=[];for(const m of d)h.push(...this.helper.doubleLineOps(m[0][0],m[0][1],m[1][0],m[1][1],f));return h}connectingLines(d,f){const h=[];if(1<f.length)for(let w=1;w<f.length;w++){var m=f[w-1];3>Y(m)||(m=[f[w][0],m[1]],3<Y(m)&&(m=this.splitOnIntersections(d,m),h.push(...m)))}return h}midPointInPolygon(d,f){return ya(d,(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2)}splitOnIntersections(d,f){var h=Math.max(5,.1*Y(f)),m=[];for(var w=0;w<d.length;w++){var C=d[w],
S=d[(w+1)%d.length];if(Ba(C,S,...f)&&(C=W(C,S,f[0],f[1]))){S=Y([C,f[0]]);const R=Y([C,f[1]]);S>h&&R>h&&m.push({point:C,distance:S})}}if(1<m.length){h=m.sort((R,ba)=>R.distance-ba.distance).map(R=>R.point);if(ya(d,...f[0])||h.shift(),ya(d,...f[1])||h.pop(),1>=h.length)return this.midPointInPolygon(d,f)?[f]:[];f=[f[0],...h,f[1]];h=[];for(m=0;m<f.length-1;m+=2)w=[f[m],f[m+1]],this.midPointInPolygon(d,w)&&h.push(w);return h}return this.midPointInPolygon(d,f)?[f]:[]}}class wd extends zf{fillPolygon(d,
f){return this._fillPolygon(d,f,!0)}}class Ng extends zf{fillPolygon(d,f){const h=this._fillPolygon(d,f);f=Object.assign({},f,{hachureAngle:f.hachureAngle+90});d=this._fillPolygon(d,f);return h.ops=h.ops.concat(d.ops),h}}class Pc{constructor(d){this.helper=d}fillPolygon(d,f){d=sa(d,f=Object.assign({},f,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,f)}dotsOnLines(d,f){const h=[];let m=f.hachureGap;0>m&&(m=4*f.strokeWidth);m=Math.max(m,.1);let w=f.fillWeight;0>w&&(w=f.strokeWidth/
2);const C=m/4;for(const ua of d){var S=Y(ua);d=Math.ceil(S/m)-1;S-=d*m;const na=(ua[0][0]+ua[1][0])/2-m/4,Ia=Math.min(ua[0][1],ua[1][1]);for(let Oa=0;Oa<d;Oa++){var R=Ia+S+Oa*m,ba=this.helper.randOffsetWithRange(na-C,na+C,f);R=this.helper.randOffsetWithRange(R-C,R+C,f);ba=this.helper.ellipse(ba,R,w,w,f);h.push(...ba.ops)}}return{type:"fillSketch",ops:h}}}class hh{constructor(d){this.helper=d}fillPolygon(d,f){d=sa(d,f);return{type:"fillSketch",ops:this.dashedLine(d,f)}}dashedLine(d,f){const h=0>f.dashOffset?
0>f.hachureGap?4*f.strokeWidth:f.hachureGap:f.dashOffset,m=0>f.dashGap?0>f.hachureGap?4*f.strokeWidth:f.hachureGap:f.dashGap,w=[];return d.forEach(C=>{var S=Y(C);const R=Math.floor(S/(h+m));S=(S+m-R*(h+m))/2;let ba=C[0];var ua=C[1];ba[0]>ua[0]&&(ba=C[1],ua=C[0]);C=Math.atan((ua[1]-ba[1])/(ua[0]-ba[0]));for(ua=0;ua<R;ua++){var na=ua*(h+m),Ia=na+h;na=[ba[0]+na*Math.cos(C)+S*Math.cos(C),ba[1]+na*Math.sin(C)+S*Math.sin(C)];Ia=[ba[0]+Ia*Math.cos(C)+S*Math.cos(C),ba[1]+Ia*Math.sin(C)+S*Math.sin(C)];w.push(...this.helper.doubleLineOps(na[0],
na[1],Ia[0],Ia[1],f))}}),w}}class Ah{constructor(d){this.helper=d}fillPolygon(d,f){const h=0>f.hachureGap?4*f.strokeWidth:f.hachureGap,m=0>f.zigzagOffset?h:f.zigzagOffset;d=sa(d,f=Object.assign({},f,{hachureGap:h+m}));return{type:"fillSketch",ops:this.zigzagLines(d,m,f)}}zigzagLines(d,f,h){const m=[];return d.forEach(w=>{var C=Y(w);C=Math.round(C/(2*f));let S=w[0];var R=w[1];S[0]>R[0]&&(S=w[1],R=w[0]);w=Math.atan((R[1]-S[1])/(R[0]-S[0]));for(R=0;R<C;R++){var ba=2*R*f,ua=2*(R+1)*f,na=Math.sqrt(2*Math.pow(f,
2));ba=[S[0]+ba*Math.cos(w),S[1]+ba*Math.sin(w)];ua=[S[0]+ua*Math.cos(w),S[1]+ua*Math.sin(w)];na=[ba[0]+na*Math.cos(w+Math.PI/4),ba[1]+na*Math.sin(w+Math.PI/4)];m.push(...this.helper.doubleLineOps(ba[0],ba[1],na[0],na[1],h),...this.helper.doubleLineOps(na[0],na[1],ua[0],ua[1],h))}}),m}}const ef={};class xj{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const $d={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,
V:1,v:1,Z:0,z:0},hj={randOffset:function(d,f){return tb(d,f)},randOffsetWithRange:function(d,f,h){return Ma(d,f,h)},ellipse:function(d,f,h,m,w){h=V(h,m,w);return xa(d,f,w,h).opset},doubleLineOps:function(d,f,h,m,w){return Hb(d,f,h,m,w,!0)}};class mg{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,
seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,f,h){return{shape:d,sets:f||[],options:h||this.defaultOptions}}line(d,f,h,m,w){w=this._o(w);return this._d("line",[{type:"path",ops:Hb(d,f,h,m,w)}],w)}rectangle(d,f,h,m,w){w=this._o(w);const C=[];
var S=P([[d,f],[d+h,f],[d+h,f+m],[d,f+m]],!0,w);w.fill&&(d=[[d,f],[d+h,f],[d+h,f+m],[d,f+m]],"solid"===w.fillStyle?C.push(Fa(d,w)):C.push(La(d,w)));return"none"!==w.stroke&&C.push(S),this._d("rectangle",C,w)}ellipse(d,f,h,m,w){w=this._o(w);const C=[];m=V(h,m,w);h=xa(d,f,w,m);w.fill&&("solid"===w.fillStyle?(d=xa(d,f,w,m).opset,d.type="fillPath",C.push(d)):C.push(La(h.estimatedPoints,w)));return"none"!==w.stroke&&C.push(h.opset),this._d("ellipse",C,w)}circle(d,f,h,m){d=this.ellipse(d,f,h,h,m);return d.shape=
"circle",d}linearPath(d,f){f=this._o(f);return this._d("linearPath",[P(d,!1,f)],f)}arc(d,f,h,m,w,C,S=!1,R){R=this._o(R);const ba=[],ua=Ua(d,f,h,m,w,C,S,!0,R);if(S&&R.fill)if("solid"===R.fillStyle)d=Ua(d,f,h,m,w,C,!0,!1,R),d.type="fillPath",ba.push(d);else{S=ba.push;{h=Math.abs(h/2);m=Math.abs(m/2);h+=tb(.01*h,R);for(m+=tb(.01*m,R);0>w;)w+=2*Math.PI,C+=2*Math.PI;C-w>2*Math.PI&&(w=0,C=2*Math.PI);const na=(C-w)/R.curveStepCount,Ia=[];for(;w<=C;w+=na)Ia.push([d+h*Math.cos(w),f+m*Math.sin(w)]);d=(Ia.push([d+
h*Math.cos(C),f+m*Math.sin(C)]),Ia.push([d,f]),La(Ia,R))}S.call(ba,d)}return"none"!==R.stroke&&ba.push(ua),this._d("arc",ba,R)}curve(d,f){f=this._o(f);const h=[],m=aa(d,f);f.fill&&"none"!==f.fill&&3<=d.length&&(d=da(function(w,C=0){var S=w.length;if(3>S)throw Error("A curve must have at least three points.");const R=[];if(3===S)R.push([...w[0]],[...w[1]],[...w[2]],[...w[2]]);else{S=[];S.push(w[0],w[0]);for(var ba=1;ba<w.length;ba++)S.push(w[ba]),ba===w.length-1&&S.push(w[ba]);w=[];C=1-C;R.push([...S[0]]);
for(ba=1;ba+2<S.length;ba++){const ua=S[ba];w[0]=[ua[0],ua[1]];w[1]=[ua[0]+(C*S[ba+1][0]-C*S[ba-1][0])/6,ua[1]+(C*S[ba+1][1]-C*S[ba-1][1])/6];w[2]=[S[ba+1][0]+(C*S[ba][0]-C*S[ba+2][0])/6,S[ba+1][1]+(C*S[ba][1]-C*S[ba+2][1])/6];w[3]=[S[ba+1][0],S[ba+1][1]];R.push(w[1],w[2],w[3])}}return R}(d),10,(1+f.roughness)/2),"solid"===f.fillStyle?h.push(Fa(d,f)):h.push(La(d,f)));return"none"!==f.stroke&&h.push(m),this._d("curve",h,f)}polygon(d,f){f=this._o(f);const h=[],m=P(d,!0,f);return f.fill&&("solid"===
f.fillStyle?h.push(Fa(d,f)):h.push(La(d,f))),"none"!==f.stroke&&h.push(m),this._d("polygon",h,f)}path(d,f){const h=this._o(f),m=[];if(!d)return this._d("path",m,h);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");f=h.fill&&"transparent"!==h.fill&&"none"!==h.fill;const w="none"!==h.stroke,C=!!(h.simplification&&1>h.simplification),S=function(R,ba,ua){var na=ka(ha(ja(R)));R=[];let Ia=[];var Oa=[0,0];let Na=[];const fb=()=>{4<=Na.length&&Ia.push(...da(Na,ba));Na=[]};for(const {key:db,
data:Cb}of na)switch(db){case "M":fb();Ia.length&&(R.push(Ia),Ia=[]);Oa=[Cb[0],Cb[1]];Ia.push(Oa);break;case "L":fb();Ia.push([Cb[0],Cb[1]]);break;case "C":Na.length||(na=Ia.length?Ia[Ia.length-1]:Oa,Na.push([na[0],na[1]]));Na.push([Cb[0],Cb[1]]);Na.push([Cb[2],Cb[3]]);Na.push([Cb[4],Cb[5]]);break;case "Z":fb(),Ia.push([Oa[0],Oa[1]])}fb();Ia.length&&(R.push(Ia),Ia=[]);if(!ua)return R;Oa=[];for(const db of R)R=T(db,ua),R.length&&Oa.push(R);return Oa}(d,1,C?4-4*h.simplification:(1+h.roughness)/2);if(f)if(h.combineNestedSvgPaths){const R=
[];S.forEach(ba=>R.push(...ba));"solid"===h.fillStyle?m.push(Fa(R,h)):m.push(La(R,h))}else S.forEach(R=>{"solid"===h.fillStyle?m.push(Fa(R,h)):m.push(La(R,h))});return w&&(C?S.forEach(R=>{m.push(P(R,!1,h))}):m.push(function(R,ba){R=ka(ha(ja(R)));const ua=[];let na=[0,0],Ia=[0,0];for(const {key:Oa,data:Na}of R)switch(Oa){case "M":{const fb=1*(ba.maxRandomnessOffset||0);ua.push({op:"move",data:Na.map(db=>db+tb(fb,ba))});Ia=[Na[0],Na[1]];na=[Na[0],Na[1]];break}case "L":ua.push(...Hb(Ia[0],Ia[1],Na[0],
Na[1],ba));Ia=[Na[0],Na[1]];break;case "C":{const [fb,db,Cb,ec,gc,sc]=Na;ua.push(...$b(fb,db,Cb,ec,gc,sc,Ia,ba));Ia=[gc,sc];break}case "Z":ua.push(...Hb(Ia[0],Ia[1],na[0],na[1],ba)),Ia=[na[0],na[1]]}return{type:"path",ops:ua}}(d,h))),this._d("path",m,h)}opsToPath(d){let f="";for(const h of d.ops)switch(d=h.data,h.op){case "move":f+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":f+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":f+=`L${d[0]} ${d[1]} `}return f.trim()}toPaths(d){var f=
d.sets||[];d=d.options||this.defaultOptions;const h=[];for(const m of f){f=null;switch(m.type){case "path":f={d:this.opsToPath(m),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":f={d:this.opsToPath(m),stroke:"none",strokeWidth:0,fill:d.fill||"none"};break;case "fillSketch":f=this.fillSketch(m,d)}f&&h.push(f)}return h}fillSketch(d,f){let h=f.fillWeight;return 0>h&&(h=f.strokeWidth/2),{d:this.opsToPath(d),stroke:f.fill||"none",strokeWidth:h,fill:"none"}}}class ng{constructor(d,
f){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new mg(f)}draw(d){const f=d.sets||[],h=d.options||this.getDefaultOptions(),m=this.ctx;for(const w of f)switch(w.type){case "path":m.save();m.strokeStyle="none"===h.stroke?"transparent":h.stroke;m.lineWidth=h.strokeWidth;h.strokeLineDash&&m.setLineDash(h.strokeLineDash);h.strokeLineDashOffset&&(m.lineDashOffset=h.strokeLineDashOffset);this._drawToContext(m,w);m.restore();break;case "fillPath":m.save();m.fillStyle=h.fill||"";this._drawToContext(m,
w,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");m.restore();break;case "fillSketch":this.fillSketch(m,w,h)}}fillSketch(d,f,h){let m=h.fillWeight;0>m&&(m=h.strokeWidth/2);d.save();h.fillLineDash&&d.setLineDash(h.fillLineDash);h.fillLineDashOffset&&(d.lineDashOffset=h.fillLineDashOffset);d.strokeStyle=h.fill||"";d.lineWidth=m;this._drawToContext(d,f);d.restore()}_drawToContext(d,f,h="nonzero"){d.beginPath();for(const m of f.ops){const w=m.data;switch(m.op){case "move":d.moveTo(w[0],w[1]);
break;case "bcurveTo":d.bezierCurveTo(w[0],w[1],w[2],w[3],w[4],w[5]);break;case "lineTo":d.lineTo(w[0],w[1])}}"fillPath"===f.type?d.fill(h):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,f,h,m,w){d=this.gen.line(d,f,h,m,w);return this.draw(d),d}rectangle(d,f,h,m,w){d=this.gen.rectangle(d,f,h,m,w);return this.draw(d),d}ellipse(d,f,h,m,w){d=this.gen.ellipse(d,f,h,m,w);return this.draw(d),d}circle(d,f,h,m){d=this.gen.circle(d,f,h,m);return this.draw(d),
d}linearPath(d,f){d=this.gen.linearPath(d,f);return this.draw(d),d}polygon(d,f){d=this.gen.polygon(d,f);return this.draw(d),d}arc(d,f,h,m,w,C,S=!1,R){d=this.gen.arc(d,f,h,m,w,C,S,R);return this.draw(d),d}curve(d,f){d=this.gen.curve(d,f);return this.draw(d),d}path(d,f){d=this.gen.path(d,f);return this.draw(d),d}}class Ok{constructor(d,f){this.svg=d;this.gen=new mg(f)}draw(d){var f=d.sets||[];const h=d.options||this.getDefaultOptions(),m=this.svg.ownerDocument||window.document,w=m.createElementNS("http://www.w3.org/2000/svg",
"g");for(const C of f){f=null;switch(C.type){case "path":f=m.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("d",this.opsToPath(C));f.setAttribute("stroke",h.stroke);f.setAttribute("stroke-width",h.strokeWidth+"");f.setAttribute("fill","none");h.strokeLineDash&&f.setAttribute("stroke-dasharray",h.strokeLineDash.join(" ").trim());h.strokeLineDashOffset&&f.setAttribute("stroke-dashoffset",`${h.strokeLineDashOffset}`);break;case "fillPath":f=m.createElementNS("http://www.w3.org/2000/svg",
"path");f.setAttribute("d",this.opsToPath(C));f.setAttribute("stroke","none");f.setAttribute("stroke-width","0");f.setAttribute("fill",h.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||f.setAttribute("fill-rule","evenodd");break;case "fillSketch":f=this.fillSketch(m,C,h)}f&&w.appendChild(f)}return w}fillSketch(d,f,h){let m=h.fillWeight;0>m&&(m=h.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(f)),d.setAttribute("stroke",h.fill||""),
d.setAttribute("stroke-width",m+""),d.setAttribute("fill","none"),h.fillLineDash&&d.setAttribute("stroke-dasharray",h.fillLineDash.join(" ").trim()),h.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${h.fillLineDashOffset}`),d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,f,h,m,w){d=this.gen.line(d,f,h,m,w);return this.draw(d)}rectangle(d,f,h,m,w){d=this.gen.rectangle(d,f,h,m,w);return this.draw(d)}ellipse(d,
f,h,m,w){d=this.gen.ellipse(d,f,h,m,w);return this.draw(d)}circle(d,f,h,m){d=this.gen.circle(d,f,h,m);return this.draw(d)}linearPath(d,f){d=this.gen.linearPath(d,f);return this.draw(d)}polygon(d,f){d=this.gen.polygon(d,f);return this.draw(d)}arc(d,f,h,m,w,C,S=!1,R){d=this.gen.arc(d,f,h,m,w,C,S,R);return this.draw(d)}curve(d,f){d=this.gen.curve(d,f);return this.draw(d)}path(d,f){d=this.gen.path(d,f);return this.draw(d)}}const ih={canvas:(d,f)=>new ng(d,f),svg:(d,f)=>new Ok(d,f),generator:d=>new mg(d),
newSeed:()=>mg.newSeed()};var lf=function(d){return null!=d&&"text"===d.type},Md=function(d){return null!=d&&Yg(d.type)},Yg=function(d){return"arrow"===d||"line"===d||"draw"===d},tg=function(d){return null!=d&&"arrow"===d.type},xi=function(d){return null!=d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},le=function(d,f,h,m,w){return[(d-h)*Math.cos(w)-(f-m)*Math.sin(w)+h,(d-h)*Math.sin(w)+(f-m)*Math.cos(w)+m]},Sj=function(d,f,h){return le(d[0],d[1],f[0],f[1],h)},
fi=function(d,f,h,m,w,C,S,R){var ba=Math.cos(m);m=Math.sin(m);return d.e&&d.w?f+=w+S:d.e?(f+=w*(1+ba),h+=w*m,f+=S*(1-ba),h+=S*-m):d.w&&(f+=w*(1-ba),h+=w*-m,f+=S*(1+ba),h+=S*m),d.n&&d.s?h+=C+R:d.n?(f+=C*m,h+=C*(1-ba),f+=R*-m,h+=R*(1+ba)):d.s&&(f+=C*-m,h+=C*(1+ba),f+=R*m,h+=R*(1-ba)),[f,h]},ph=function(d,f){if(void 0===f&&(f=1),3<=d.length){var h=[d[0],d[d.length-1]];d=h[0];h=h[1];return Math.hypot(h[0]-d[0],h[1]-d[1])<=Pb.qx/f}return!1},Ch=function(d,f,h){var m=d.length;if(3>m)return!1;var w=[Number.MAX_SAFE_INTEGER,
h];f=[f,h];for(var C=h=0;C<m;C++){var S=d[C],R=d[(C+1)%m],ba=S,ua=R,na=f,Ia=w,Oa=Dh(ba,ua,na),Na=Dh(ba,ua,Ia),fb=Dh(na,Ia,ba),db=Dh(na,Ia,ua);if(Oa!==Na&&fb!==db||0===Oa&&Sh(ba,na,ua)||0===Na&&Sh(ba,Ia,ua)||0===fb&&Sh(na,ba,Ia)||0===db&&Sh(na,ua,Ia)){if(0===Dh(S,f,R))return Sh(S,f,R);h++}}return 1==h%2},Sh=function(d,f,h){return f[0]<=Math.max(d[0],h[0])&&f[0]>=Math.min(d[0],h[0])&&f[1]<=Math.max(d[1],h[1])&&f[1]>=Math.min(d[1],h[1])},Dh=function(d,f,h){d=(f[1]-d[1])*(h[0]-f[0])-(f[0]-d[0])*(h[1]-
f[1]);return 0===d?0:0<d?1:2},ug=function(d,f,h){return h?[Math.round(d/h)*h,Math.round(f/h)*h]:[d,f]},Th=function(d,f,h){var m=h.map(function(ba){return ba[d]}),w=Math.max.apply(Math,m);m=Math.min.apply(Math,m);w-=m;var C=0===w?1:f/w,S=1/0;f=h.map(function(ba){return ba.map(function(ua,na){if(na!==d)return ua;ua*=C;return S=Math.min(ua,S),ua})});if(2===f.length)return f;var R=m-S;return f.map(function(ba){return ba.map(function(ua,na){return na===d?ua+R:ua})})},Me=function(d){return Md(d)?lk(d):
[d.x,d.y,d.x+d.width,d.y+d.height]},Uh=function(d){for(var f=0,h=d.sets;f<h.length;f++){var m=h[f];if("path"===m.type)return m.ops}return d.sets[0].ops},Oi=function(d,f){var h=[0,0];d=d.reduce(function(m,w){var C,S=w.op;w=w.data;if("move"===S)h=w;else if("bcurveTo"===S){var R=[w[0],w[1]],ba=[w[2],w[3]],ua=[w[4],w[5]],na=h;h=ua;S=function(Na,fb){return Math.pow(1-Na,3)*ua[fb]+3*Na*Math.pow(1-Na,2)*ba[fb]+3*Math.pow(Na,2)*(1-Na)*R[fb]+na[fb]*Math.pow(Na,3)};for(w=0;1>=w;){var Ia=S(w,0),Oa=S(w,1);f&&
(Ia=(C=f(Ia,Oa))[0],Oa=C[1]);m.minY=Math.min(m.minY,Oa);m.minX=Math.min(m.minX,Ia);m.maxX=Math.max(m.maxX,Ia);m.maxY=Math.max(m.maxY,Oa);w+=.1}}return m},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,d.minY,d.maxX,d.maxY]},lk=function(d){if(2>d.points.length||!ag.get(d)){var f=d.points.reduce(function(h,m){var w=m[0];m=m[1];return h.minY=Math.min(h.minY,m),h.minX=Math.min(h.minX,w),h.maxX=Math.max(h.maxX,w),h.maxY=Math.max(h.maxY,m),h},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[f.minX+
d.x,f.minY+d.y,f.maxX+d.x,f.maxY+d.y]}f=ag.get(d);f=Uh(f[0]);f=Oi(f);return[f[0]+d.x,f[1]+d.y,f[2]+d.x,f[3]+d.y]},eg=function(d){var f=Me(d),h=f[0],m=f[1],w=f[2],C=f[3];f=(h+w)/2;var S=(m+C)/2;if(Md(d))return function(Ia,Oa,Na){if(2>Ia.points.length||!ag.get(Ia)){var fb=Ia.points.reduce(function(db,Cb){var ec,gc=Cb[0];Cb=Cb[1];return gc=(ec=le(Ia.x+gc,Ia.y+Cb,Oa,Na,Ia.angle))[0],Cb=ec[1],db.minY=Math.min(db.minY,Cb),db.minX=Math.min(db.minX,gc),db.maxX=Math.max(db.maxX,gc),db.maxY=Math.max(db.maxY,
Cb),db},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[fb.minX,fb.minY,fb.maxX,fb.maxY]}fb=ag.get(Ia);fb=Uh(fb[0]);return Oi(fb,function(db,Cb){return le(Ia.x+db,Ia.y+Cb,Oa,Na,Ia.angle)})}(d,f,S);if("diamond"===d.type){m=le(f,m,f,S,d.angle);var R=m[0];m=m[1];C=le(f,C,f,S,d.angle);var ba=C[0];C=C[1];var ua=le(h,S,f,S,d.angle);h=ua[0];ua=ua[1];S=le(w,S,f,S,d.angle);f=S[0];S=S[1];return[Math.min(R,ba,h,f),Math.min(m,C,ua,S),Math.max(R,ba,h,f),Math.max(m,C,ua,S)]}if("ellipse"===d.type)return w=(w-h)/
2,R=(C-m)/2,m=Math.cos(d.angle),ba=Math.sin(d.angle),d=Math.hypot(w*m,R*ba),w=Math.hypot(R*m,w*ba),[f-d,S-w,f+d,S+w];ba=le(h,m,f,S,d.angle);R=ba[0];ba=ba[1];ua=le(h,C,f,S,d.angle);h=ua[0];ua=ua[1];var na=le(w,C,f,S,d.angle);C=na[0];na=na[1];S=le(w,m,f,S,d.angle);f=S[0];S=S[1];return[Math.min(R,h,C,f),Math.min(ba,ua,na,S),Math.max(R,h,C,f),Math.max(ba,ua,na,S)]},Yc=function(d){if(!d.length)return[0,0,0,0];var f=1/0,h=-1/0,m=1/0,w=-1/0;return d.forEach(function(C){C=eg(C);var S=C[1],R=C[2],ba=C[3];
f=Math.min(f,C[0]);m=Math.min(m,S);h=Math.max(h,R);w=Math.max(w,ba)}),[f,m,h,w]},og=function(d,f,h){if(!Md(d))return[d.x,d.y,d.x+f,d.y+h];f=Th(0,f,Th(1,h,d.points));h=ih.generator();f="sharp"===d.strokeSharpness?h.linearPath(f,Fh(d)):h.curve(f,Fh(d));f=Uh(f);f=Oi(f);return[f[0]+d.x,f[1]+d.y,f[2]+d.x,f[3]+d.y]},De=function(d,f,h){var m=ih.generator();f="sharp"===h?m.linearPath(f,Fh(d)):m.curve(f,Fh(d));f=Uh(f);f=Oi(f);return[f[0]+d.x,f[1]+d.y,f[2]+d.x,f[3]+d.y]};const hd=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var mf=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},nf=function(d){return[hd.Q6[d],hd.iQ[d],hd.pl[d],hd.ht[d],hd.QN[d],hd.iN[d],hd.sl[d],hd.$C[d],hd.ek[d],hd.LR[d],hd.er[d],hd.$y[d]]};const Eh={canvasBackground:mf([hd.ix,hd.MA[0],hd.MA[1]],nf(0)),elementBackground:mf(["transparent",hd.MA[4],hd.MA[6]],nf(6)),elementStroke:mf([hd.Sn,hd.MA[8],hd.MA[7]],nf(9))};var Eg=
n(6207),Zg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Pi=/^Win/.test(window.navigator.platform),Fd=Zg?"metaKey":"ctrlKey",ye=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},Fg=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},yi=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},gi=function(d){var f=
d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(Pb.ut[f],", ").concat(Pb._D))},of=function(d,f){var h=document.createElement("div"),m=document.body;h.style.position="absolute";h.style.whiteSpace="pre";h.style.font=f;m.appendChild(h);h.innerText=d.split("\n").map(function(w){return w||" "}).join("\n");d=h.offsetWidth;f=h.offsetHeight;m=document.createElement("span");m.style.display="inline-block";m.style.overflow="hidden";m.style.width="1px";m.style.height="1px";h.appendChild(m);m=
m.offsetTop+m.offsetHeight;return document.body.removeChild(h),{width:d,height:f,baseline:m}},Kf=function(d,f){var h,m=0,w=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];h=C;clearTimeout(m);m=window.setTimeout(function(){return d.apply(void 0,C)},f)};return w.flush=function(){clearTimeout(m);h&&d.apply(void 0,h)},w.cancel=function(){clearTimeout(m)},w},Le=function(d){d&&(d.style.cursor="")},Og=function(d,f){d&&(d.style.cursor=f)},Gg=function(d,f){d&&("selection"===f?Le(d):d.style.cursor=
Pb.oc.CROSSHAIR)},Ri=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===d?void 0:d.nodeName)},wc=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Zg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},Lf=function(d,f){var h=f.zoom,m=1/h.value;return{x:(d.clientX-h.translation.x-f.offsetLeft)*m-f.scrollX,y:(d.clientY-h.translation.y-
f.offsetTop)*m-f.scrollY}},vg=function(d,f){var h=f.zoom;return{x:(d.sceneX+f.scrollX+f.offsetLeft)*h.value+h.translation.x,y:(d.sceneY+f.scrollY+f.offsetTop)*h.value+h.translation.y}},Mf=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},ff=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),fg=function(d){return{x:d[0],y:d[1]}},Bj=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},Ad=function(d){return function(f){(0,
Eg.unstable_batchedUpdates)(d,f)}},Hg=function(d,f){var h,m=[{value:1,symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(h=m.length-1;0<h&&!(d>=m[h].value);h--);return(d/m[h].value).toFixed(f).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+m[h].symbol},El=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||Pb.eQ},jj=function(){var d=new Map,f=Pb.rk,h=Pb.n5,m=hd.Sn,w=Pb.Hg,C=window.innerHeight,S="".concat(hb("labels.untitled"),
"-"),R=S.concat;var ba=new Date;var ua=ba.getFullYear();var na="".concat(ba.getMonth()+1).padStart(2,"0"),Ia="".concat(ba.getDate()).padStart(2,"0"),Oa="".concat(ba.getHours()).padStart(2,"0");ba="".concat(ba.getMinutes()).padStart(2,"0");ua="".concat(ua,"-").concat(na,"-").concat(Ia,"-").concat(Oa).concat(ba);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:f,
currentItemFontSize:h,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:m,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:w,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,
fileHandle:null,gridSize:null,height:C,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:R.call(S,ua),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],
toastMessage:null,viewBackgroundColor:hd.ix,width:window.innerWidth,zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},Nf={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,
export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,
export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,
export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,
export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},
viewModeEnabled:{browser:!1,export:!1}},Wj=function(d,f){for(var h={},m=0,w=Object.keys(d);m<w.length;m++){var C=w[m],S=Nf[C];null!=S&&S[f]&&(h[C]=d[C])}return h},rl=jj(),Gl=[12,8],Qk=[3,6],hi=function(d,f,h){switch(h.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":f.draw(ag.get(d));break;case "arrow":case "draw":case "line":ag.get(d).forEach(function(Ia){f.draw(Ia)});break;default:if(!lf(d))throw Error("Unimplemented type ".concat(d.type));var m=ff.test(d.text),w=
m&&!h.canvas.isConnected;w&&document.body.appendChild(h.canvas);h.canvas.setAttribute("dir",m?"rtl":"ltr");m=h.font;h.font=gi(d);var C=h.fillStyle;h.fillStyle=d.strokeColor;var S=h.textAlign;h.textAlign=d.textAlign;var R=d.text.replace(/\r\n?/g,"\n").split("\n"),ba=d.height/R.length,ua=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var na=0;na<R.length;na++)h.fillText(R[na],d,(na+1)*ba-ua);h.fillStyle=C;h.font=m;h.textAlign=S;w&&h.canvas.remove()}h.globalAlpha=
1},Si=new WeakMap,ag=new WeakMap,Fh=function(d){var f={seed:d.seed,strokeLineDash:"dashed"===d.strokeStyle?Gl:"dotted"===d.strokeStyle?Qk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return f.fillStyle=d.fillStyle,f.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,
"ellipse"===d.type&&(f.curveFitting=1),f;case "line":case "draw":return ph(d.points)&&(f.fillStyle=d.fillStyle,f.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),f;case "arrow":return f;default:throw Error("Unimplemented type ".concat(d.type));}},Se=function(d,f){var h=ag.get(d)||null;if(!h){switch(Si.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){h=d.width;var m=d.height,w=.25*Math.min(h,m);h=f.path("M ".concat(w," 0 L ").concat(h-w," 0 Q ").concat(h," 0, ").concat(h,
" ").concat(w," L ").concat(h," ").concat(m-w," Q ").concat(h," ").concat(m,", ").concat(h-w," ").concat(m," L ").concat(w," ").concat(m," Q 0 ").concat(m,", 0 ").concat(m-w," L 0 ").concat(w," Q 0 0, ").concat(w," 0"),Fh(d))}else h=f.rectangle(0,0,d.width,d.height,Fh(d));break;case "diamond":h=function(S){var R=Math.floor(S.width/2)+1,ba=Math.floor(S.height/2)+1;return[R,0,S.width,ba,R,S.height,0,ba]}(d);h=f.polygon([[h[0],h[1]],[h[2],h[3]],[h[4],h[5]],[h[6],h[7]]],Fh(d));break;case "ellipse":h=
f.ellipse(d.width/2,d.height/2,d.width,d.height,Fh(d));break;case "line":case "draw":case "arrow":var C=Fh(d);h=d.points.length?d.points:[[0,0]];if(h="sharp"===d.strokeSharpness?C.fill?[f.polygon(h,C)]:[f.linearPath(h,C)]:[f.curve(h,C)],"arrow"===d.type){m=d.startArrowhead;m=void 0===m?null:m;w=d.endArrowhead;w=void 0===w?"arrow":w;function S(R,ba,ua,na){ba=function(fb,db,Cb,ec){db=Uh(db[0]);if(1>db.length)return null;var gc="start"===Cb?1:db.length-1,sc=db[gc].data,pd=[sc[4],sc[5]],nd=[sc[2],sc[3]],
Dd=[sc[0],sc[1]];db=db[gc-1];var vd=[0,0];"move"===db.op?vd=db.data:"bcurveTo"===db.op&&(vd=[db.data[4],db.data[5]]);gc=function(zc,Vc){return Math.pow(1-zc,3)*pd[Vc]+3*zc*Math.pow(1-zc,2)*nd[Vc]+3*Math.pow(zc,2)*(1-zc)*Dd[Vc]+vd[Vc]*Math.pow(zc,3)};db="start"===Cb?vd:pd;Cb=db[0];db=db[1];sc=[gc(.3,0),gc(.3,1)];gc=sc[0];sc=sc[1];var Pd=Math.hypot(Cb-gc,db-sc);gc=(Cb-gc)/Pd;sc=(db-sc)/Pd;Pd={arrow:30,bar:15,dot:15}[ec];fb=fb.points.reduce(function(zc,Vc,ad,Hd){ad=0<ad?Hd[ad-1]:[0,0];return zc+Math.hypot(Vc[0]-
ad[0],Vc[1]-ad[1])},0);Pd=Math.min(Pd,fb/2);fb=Cb-gc*Pd;gc=db-sc*Pd;if("dot"===ec)return[Cb,db,Math.hypot(gc-db,fb-Cb)];sc={arrow:20,bar:90}[ec];Pd=le(fb,gc,Cb,db,-sc*Math.PI/180);ec=Pd[0];Pd=Pd[1];fb=le(fb,gc,Cb,db,sc*Math.PI/180);return[Cb,db,ec,Pd,fb[0],fb[1]]}(R,ba,ua,na);if(null===ba)return[];if("dot"===na)return[f.circle(ba[0],ba[1],ba[2],gb(gb({},C),{},{fill:R.strokeColor,fillStyle:"solid"}))];na=ba[0];ua=ba[1];var Ia=ba[2],Oa=ba[3],Na=ba[4];ba=ba[5];return"dotted"===R.strokeStyle?C.strokeLineDash=
[3,4]:delete C.strokeLineDash,[f.line(Ia,Oa,na,ua,C),f.line(Na,ba,na,ua,C)]}null!==m&&(m=S(d,h,"start",m),h.push.apply(h,m));null!==w&&(m=S(d,h,"end",w),h.push.apply(h,m))}break;case "text":h=[]}ag.set(d,h)}},wk=function(d,f,h,m,w){var C=f.generator;switch(d.type){case "selection":h.translate(d.x+w.scrollX,d.y+w.scrollY);f=h.fillStyle;h.fillStyle="rgba(0, 0, 255, 0.10)";h.fillRect(0,0,d.width,d.height);h.fillStyle=f;h.translate(-d.x-w.scrollX,-d.y-w.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Se(d,
C),m){f=w?w.zoom:rl.zoom;C=(m=Si.get(d))&&m.canvasZoom!==f.value&&!(null!=w&&w.shouldCacheIgnoreZoom);if(!m||C){m=document.createElement("canvas");C=m.getContext("2d");var S=0,R=0;if(Md(d)){S=Me(d);var ba=S[0];R=S[1];var ua=S[3];m.width=Math.abs(ba-S[2])*window.devicePixelRatio*f.value+40*f.value;m.height=Math.abs(R-ua)*window.devicePixelRatio*f.value+40*f.value;S=d.x>ba?Math.floor(Math.abs(d.x-ba))*window.devicePixelRatio*f.value:0;R=d.y>R?Math.floor(Math.abs(d.y-R))*window.devicePixelRatio*f.value:
0;C.translate(S,R)}else m.width=d.width*window.devicePixelRatio*f.value+40*f.value,m.height=d.height*window.devicePixelRatio*f.value+40*f.value;C.translate(20*f.value,20*f.value);C.scale(window.devicePixelRatio*f.value,window.devicePixelRatio*f.value);ba=ih.canvas(m);f=(hi(d,ba,C),C.translate(-20*f.value,-20*f.value),C.scale(1/(window.devicePixelRatio*f.value),1/(window.devicePixelRatio*f.value)),{element:d,canvas:m,canvasZoom:f.value,canvasOffsetX:S,canvasOffsetY:R});d=(Si.set(d,f),f)}else d=m;f=
d.element;S=Me(f);m=S[0];C=S[1];R=S[2];S=S[3];ba=((m+R)/2+w.scrollX)*window.devicePixelRatio;w=((C+S)/2+w.scrollY)*window.devicePixelRatio;h.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);h.translate(ba,w);h.rotate(f.angle);h.drawImage(d.canvas,-(R-m)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(S-C)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);h.rotate(-f.angle);h.translate(-ba,-w);h.scale(window.devicePixelRatio,
window.devicePixelRatio);!0}else C=Me(d),R=C[0],m=C[1],S=C[2],ba=C[3],C=(R+S)/2+w.scrollX,w=(m+ba)/2+w.scrollY,R=(S-R)/2-(d.x-R),m=(ba-m)/2-(d.y-m),h.translate(C,w),h.rotate(d.angle),h.translate(-R,-m),hi(d,f,h),h.translate(R,m),h.rotate(-d.angle),h.translate(-C,-w);break;default:throw Error("Unimplemented type ".concat(d.type));}},rd=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(f,h){"string"==
typeof f?this.sceneMapById.set(f,h):this.sceneMapByElement.set(f,h)},d.getScene=function(f){return"string"==typeof f?this.sceneMapById.get(f)||null:this.sceneMapByElement.get(f)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(f){return this.elementsMap.get(f)||null},d.prototype.getNonDeletedElement=function(f){return(f=this.getElement(f))&&!f.isDeleted?f:null},d.prototype.getNonDeletedElements=
function(f){var h=this,m=[];return f.forEach(function(w){w=h.getNonDeletedElement(w);null!=w&&m.push(w)}),m},d.prototype.replaceAllElements=function(f){var h=this;this.elements=f;this.elementsMap.clear();f.forEach(function(m){h.elementsMap.set(m.id,m);d.mapElementToScene(m,h)});this.nonDeletedElements=dd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var f=0,h=Array.from(this.callbacks);f<h.length;f++)(0,h[f])()},d.prototype.addCallback=function(f){var h=this;if(this.callbacks.has(f))throw Error();
return this.callbacks.add(f),function(){if(!h.callbacks.has(f))throw Error();h.callbacks.delete(f)}},d.prototype.destroy=function(){var f=this;d.sceneMapById.forEach(function(h,m){h===f&&d.sceneMapById.delete(m)});this.callbacks.clear()},d}();rd.sceneMapByElement=new WeakMap;rd.sceneMapById=new Map;var rh=new xj(Date.now()),ii=function(){return Math.floor(rh.next()*Math.pow(2,31))},ji=function(){return((d=21)=>{let f="",h=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let m=63&h[d];f+=36>m?
m.toString(36):62>m?(m-26).toString(36).toUpperCase():63>m?"_":"-"}return f})()},Bd=function(d,f){var h,m=!1,w=f.points,C;for(C in void 0!==w&&(f=sb(sb({},function(Na){var fb=Na.map(function(db){return db[0]});Na=Na.map(function(db){return db[1]});return{width:Math.max.apply(Math,fb)-Math.min.apply(Math,fb),height:Math.max.apply(Math,Na)-Math.min.apply(Math,Na)}}(w)),f)),f){var S=f[C];if(void 0!==S&&(d[C]!==S||"object"==typeof S&&null!==S&&"groupIds"!==C)){if("points"===C){var R=d[C],ba=S;if(R.length===
ba.length){for(var ua=!1,na=R.length;--na;){var Ia=R[na],Oa=ba[na];if(Ia[0]!==Oa[0]||Ia[1]!==Oa[1]){ua=!0;break}}if(!ua)continue}}d[C]=S;m=!0}}m&&(void 0===f.height&&void 0===f.width&&void 0===w||ag.delete(d),d.version++,d.versionNonce=ii(),null===(h=rd.getScene(d))||void 0===h||h.informMutation())},Ye=function(d,f){return sb(sb(sb({},d),f),{},{version:d.version+1,versionNonce:ii()})},Tf=function(d){return Md(d)?2>d.points.length:0===d.width&&0===d.height},Gf=function(d,f,h){var m=Math.abs(f),w=Math.abs(h);
"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(w/m)/Pb.ay)*Pb.ay,0===d?h=0:d===Math.PI/2?f=0:h=Math.round(m*Math.tan(d))*Math.sign(h)||h):"selection"!==d&&(h=m*Math.sign(h));return{width:f,height:h}},Cj=function(d){var f={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var h=Math.abs(d.width);f.width=h;f.x=d.x-h}0>d.height&&(h=Math.abs(d.height),f.height=h,f.y=d.y-h);return f},Rk=n(5474),li=n.n(Rk),Wh=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;
d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},Nd=function(d,f,h){var m,w;h=h.filter(function(C){return C.groupIds.includes(d)});return 2>h.length?f.selectedGroupIds[d]||f.editingGroupId===d?qb(qb({},f),{},{selectedGroupIds:qb(qb({},f.selectedGroupIds),{},(m={},m[d]=!1,m)),editingGroupId:null}):f:qb(qb({},f),{},{selectedGroupIds:qb(qb({},f.selectedGroupIds),{},(w={},w[d]=!0,w)),selectedElementIds:qb(qb({},f.selectedElementIds),Object.fromEntries(h.map(function(C){return[C.id,
!0]})))})},Dj=function(d,f){return f.groupIds.filter(function(h){return h!==d.editingGroupId}).find(function(h){return d.selectedGroupIds[h]})},Xj=function(d){return Object.entries(d.selectedGroupIds).filter(function(f){f[0];return f[1]}).map(function(f){var h=f[0];f[1];return h})},Ej=function(d,f){for(var h=qb({},d),m=0,w=Ee(f,d);m<w.length;m++){var C=w[m].groupIds;if(d.editingGroupId){var S=C.indexOf(d.editingGroupId);-1<S&&(C=C.slice(0,S))}0<C.length&&(h=Nd(C[C.length-1],h,f))}return h},lj=function(d,
f){return d.filter(function(h){return h.groupIds.includes(f)})},Pg=function(d,f){var h,m,w=f.x,C=f.y,S=f.strokeColor,R=f.backgroundColor,ba=f.fillStyle,ua=f.strokeWidth,na=f.strokeStyle,Ia=f.roughness,Oa=f.opacity,Na=f.width;Na=void 0===Na?0:Na;var fb=f.height;fb=void 0===fb?0:fb;var db=f.angle;db=void 0===db?0:db;var Cb=f.groupIds;Cb=void 0===Cb?[]:Cb;var ec=f.strokeSharpness,gc=f.boundElementIds;gc=void 0===gc?null:gc;f=li()(f,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:f.id||ji(),type:d,x:w,y:C,width:Na,height:fb,angle:db,strokeColor:S,backgroundColor:R,fillStyle:ba,strokeWidth:ua,strokeStyle:na,roughness:Ia,opacity:Oa,groupIds:Cb,strokeSharpness:ec,seed:null!==(h=f.seed)&&void 0!==h?h:ii(),version:f.version||1,versionNonce:null!==(m=f.versionNonce)&&void 0!==m?m:0,isDeleted:!1,boundElementIds:gc}},Jh=function(d){return Pg(d.type,d)},Yj=function(d,f){return{x:"center"===d.textAlign?f.width/2:"right"===d.textAlign?f.width:0,y:"middle"===d.verticalAlign?
f.height/2:0}},Ai=function(d){var f=of(d.text,gi(d)),h=Yj(d,f);return Ye(Ea(Ea({},Pg("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-h.x,y:d.y-h.y,width:f.width,height:f.height,baseline:f.baseline}),{})},Kh=function(d){return Ea(Ea({},Pg(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},td=function(d,f){if(void 0===
f&&(f=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var h="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},m;for(m in d)d.hasOwnProperty(m)&&(0!==f||"shape"!==m&&"canvas"!==m)&&(h[m]=td(d[m],f+1));return h}if(Array.isArray(d)){h=d.length;for(m=Array(h);h--;)m[h]=td(d[h],f+1);return m}return d},Bi=function(d,f,h,m){h=td(h);return h.id=ji(),h.seed=ii(),h.groupIds=function(w,C,S){var R=Wh(w);C=C?w.indexOf(C):-1;w=-1<C?C:w.length;
for(C=0;C<w;C++)R[C]=S(R[C]);return R}(h.groupIds,d,function(w){return f.has(w)||f.set(w,ji()),f.get(w)}),m&&(h=Object.assign(h,m)),h},Uk={mouse:8,pen:16,touch:28},Ci={e:!0,s:!0,n:!0,w:!0},tl={e:!0,s:!0,n:!0,w:!0},Vk={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},Di={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},Sf=function(d,f,h,m,w,C,S){d=le(d+h/2,f+m/2,w,C,S);return[d[0]-h/2,d[1]-m/2,h,m]},Aj=function(d,f,h,m,w){var C=d[0],S=d[1],R=d[2];d=d[3];void 0===w&&(w={});var ba=Uk[m];m=ba/h.value;var ua=ba/h.value,na=ba/h.value,
Ia=ba/h.value,Oa=R-C,Na=d-S,fb=(C+R)/2,db=(S+d)/2,Cb=4/h.value;ba=(ba-8)/(2*h.value);var ec={nw:w.nw?void 0:Sf(C-Cb-na+ba,S-Cb-Ia+ba,m,ua,fb,db,f),ne:w.ne?void 0:Sf(R+Cb-ba,S-Cb-Ia+ba,m,ua,fb,db,f),sw:w.sw?void 0:Sf(C-Cb-na+ba,d+Cb-ba,m,ua,fb,db,f),se:w.se?void 0:Sf(R+Cb-ba,d+Cb-ba,m,ua,fb,db,f),rotation:w.rotation?void 0:Sf(C+Oa/2-m/2,S-Cb-Ia+ba-16/h.value,m,ua,fb,db,f)};h=5*Uk.mouse/h.value;return Math.abs(Oa)>h&&(w.n||(ec.n=Sf(C+Oa/2-m/2,S-Cb-Ia+ba,m,ua,fb,db,f)),w.s||(ec.s=Sf(C+Oa/2-m/2,d+Cb-
ba,m,ua,fb,db,f))),Math.abs(Na)>h&&(w.w||(ec.w=Sf(C-Cb-na+ba,S+Na/2-ua/2,m,ua,fb,db,f)),w.e||(ec.e=Sf(R+Cb-ba,S+Na/2-ua/2,m,ua,fb,db,f))),ec},gg=function(d,f,h){void 0===h&&(h="mouse");var m={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var w=d.points[1];0===w[0]||0===w[1]?m=Di:0<w[0]&&0>w[1]?m=Vk:0<w[0]&&0<w[1]?m=Di:0>w[0]&&0<w[1]?m=Vk:0>w[0]&&0>w[1]&&(m=Di)}}else"text"===d.type&&(m=tl);return Aj(Me(d),d.angle,f,h,m)},pf=function(d,f){return[0,0,0,0,f,d,1,0]},
Ig=function(d,f){void 0===d&&(d=0);void 0===f&&(f=0);var h=[0,0,0,0,0,0,0,0];if(0>f||7<f)throw Error("Expected `index` betwen 0 and 7, got `".concat(f,"`"));return 0!==d&&(h[f]=d),h},zk=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},kj=function(d,f){return"number"==typeof f?[d[0]-f,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-f[0],d[1]-f[1],d[2]-f[2],d[3]-f[3],d[4]-f[4],d[5]-f[5],d[6]-f[6],d[7]-f[7]]},Ui=function(d,f){return"number"==typeof f?[d[0]*f,d[1]*f,d[2]*f,d[3]*f,d[4]*f,d[5]*
f,d[6]*f,d[7]*f]:[f[0]*d[0]+f[2]*d[2]+f[3]*d[3]-f[6]*d[6],f[1]*d[0]+f[0]*d[1]-f[4]*d[2]+f[5]*d[3]+f[2]*d[4]-f[3]*d[5]-f[7]*d[6]-f[6]*d[7],f[2]*d[0]+f[0]*d[2]-f[6]*d[3]+f[3]*d[6],f[3]*d[0]+f[6]*d[2]+f[0]*d[3]-f[2]*d[6],f[4]*d[0]+f[2]*d[1]-f[1]*d[2]+f[7]*d[3]+f[0]*d[4]+f[6]*d[5]-f[5]*d[6]+f[3]*d[7],f[5]*d[0]-f[3]*d[1]+f[7]*d[2]+f[1]*d[3]-f[6]*d[4]+f[0]*d[5]+f[4]*d[6]+f[2]*d[7],f[6]*d[0]+f[3]*d[2]-f[2]*d[3]+f[0]*d[6],f[7]*d[0]+f[6]*d[1]+f[5]*d[2]+f[4]*d[3]+f[3]*d[4]+f[2]*d[5]+f[1]*d[6]+f[0]*d[7]]},Wi=
function(d,f){return[Yh(d,f),d[1]*f[7]+d[4]*f[5]-d[5]*f[4]+d[7]*f[1],d[2]*f[7]-d[4]*f[6]+d[6]*f[4]+d[7]*f[2],d[3]*f[7]+d[5]*f[6]-d[6]*f[5]+d[7]*f[3],d[4]*f[7]+d[7]*f[4],d[5]*f[7]+d[7]*f[5],d[6]*f[7]+d[7]*f[6],d[7]*f[7]]},Yh=function(d,f){return d[0]*f[7]+d[1]*f[6]+d[2]*f[5]+d[3]*f[4]+d[4]*f[3]+d[5]*f[2]+d[6]*f[1]+d[7]*f[0]},Xk=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},Vh=function(d){var f=Xk(d);return 0===f||1===f?d:Ui(d,(0>d[6]?-1:1)/f)},Ih=(Ig(1,1),Ig(1,2),
Ig(1,3),Ig(1,4),Ig(1,5),Ig(1,6),Ig(1,7),function(d,f,h){return Vh([0,h,d,f,0,0,0,0])}),hg=function(d,f){return h=d,[(m=f)[0]*h[0]+m[2]*h[2]+m[3]*h[3]-m[6]*h[6],m[1]*h[0]+m[0]*h[1]-m[4]*h[2]+m[5]*h[3]+m[2]*h[4]-m[3]*h[5]-m[7]*h[6]-m[6]*h[7],m[2]*h[0]+m[0]*h[2]-m[6]*h[3]+m[3]*h[6],m[3]*h[0]+m[6]*h[2]+m[0]*h[3]-m[2]*h[6],m[4]*h[0]+m[7]*h[3]+m[0]*h[4]+m[3]*h[7],m[5]*h[0]+m[7]*h[2]+m[0]*h[5]+m[2]*h[7],m[6]*h[0]+m[0]*h[6],m[7]*h[0]+m[0]*h[7]];var h,m},Xh=function(d){return[0,0,0,0,d[1],d[0],1,0]},mj=function(d){return[d[5],
d[4]]},Zj=function(d,f){return h=Ui(d,Math.sin(f/2)),m=Math.cos(f/2),"number"==typeof m?[h[0]+m,h[1],h[2],h[3],h[4],h[5],h[6],h[7]]:[h[0]+m[0],h[1]+m[1],h[2]+m[2],h[3]+m[3],h[4]+m[4],h[5]+m[5],h[6]+m[6],h[7]+m[7]];var h,m},Lh=function(d,f){return Vh(Ui(Ui(d,f),zk(d)))},Fj=function(d,f,h,m){var w=10/f.zoom.value;return!nj(d,f,[h,m])&&il(d,[h,m],w)},nj=function(d,f,h){f=10/f.zoom.value;if("text"===d.type)var m=Ak;else"arrow"===d.type?m=!1:(m="transparent"!==d.backgroundColor,m="line"===d.type||"draw"===
d.type?m&&ph(d.points):m),m=m?Ze:xg;return Tk({element:d,point:h,threshold:f,check:m})},il=function(d,f,h){var m=f[0],w=f[1],C=Me(d);f=C[0];var S=C[1],R=C[2];C=C[3];m=le(m,w,(f+R)/2,(S+C)/2,-d.angle);d=m[0];m=m[1];return d>f-h&&d<R+h&&m>S-h&&m<C+h},Zh=function(d,f){var h=f.x;f=f.y;var m=Vi(d,d.width,d.height);return Tk({element:d,point:[h,f],threshold:m,check:qg})},Vi=function(d,f,h){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(f,h),32))},Tk=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var f=
xk(d.element,d.point);return d.check(f,d.threshold);case "arrow":case "line":case "draw":return Rg(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},xk=function(d,f){switch(d.type){case "rectangle":case "text":var h=Af(d,f),m=h[1],w=h[2];d=Math;f=d.max;h=Ih(0,1,-h[3]);h=Yh(m,h);w=Ih(1,0,-w);m=Yh(m,w);return f.call(d,h,m);case "diamond":return m=Af(d,f),d=m[1],f=m[2],m=m[3],f=Ih(m,f,-m*f),Yh(d,f);case "ellipse":return d=nk(d,f),f=d[1],-Math.sign(f[1])*
Yh(d[0],f)}},Ak=function(d,f){return 0>d},Ze=function(d,f){return d<f},xg=function(d,f){return Math.abs(d)<f},qg=function(d,f){return 0<=d&&d<f},nk=function(d,f){f=Af(d,f);d=f[1];var h=f[2],m=f[3];f=mj(d);var w=f[0],C=f[1],S=.707,R=.707;[0,1,2,3].forEach(function(ba){ba=(h*h-m*m)*Math.pow(S,3)/h;var ua=(m*m-h*h)*Math.pow(R,3)/m,na=w-ba,Ia=C-ua,Oa=Math.hypot(m*R-ua,h*S-ba),Na=Math.hypot(Ia,na);S=Math.min(1,Math.max(0,(na*Oa/Na+ba)/h));R=Math.min(1,Math.max(0,(Ia*Oa/Na+ua)/m));ba=Math.hypot(R,S);S/=
ba;R/=ba});f=pf(h*S,m*R);return[d,hg(Vh(Wi(f,d)),f)]},Rg=function(d){var f=d.element,h=d.threshold;if(!ag.get(f))return!1;var m=Af(d.element,d.point),w=m[0],C=m[1],S=m[2];m=Ih(0,1,-m[3]);S=Ih(1,0,-S);if(!Ze(Yh(C,m),h)||!Ze(Yh(C,S),h))return!1;w=mj(w);var R=w[0],ba=w[1];w=ag.get(f);return d.check===Ze&&w.some(function(ua){var na=f.strokeSharpness;var Ia=[],Oa=!1,Na=0;for(ua=Uh(ua);Na<ua.length;Na++){var fb=ua[Na];"move"===fb.op?(Oa=!Oa)&&Ia.push([fb.data[0],fb.data[1]]):"bcurveTo"===fb.op&&Oa&&(Ia.push([fb.data[0],
fb.data[1]]),Ia.push([fb.data[2],fb.data[3]]),Ia.push([fb.data[4],fb.data[5]]))}4<=Ia.length?"sharp"===na?na=Ch(Ia,R,ba):(na=da(Ia,10,5),na=Ch(na,R,ba)):na=!1;return na})?!0:w.some(function(ua){return ij(ua,R,ba,h)})},Af=function(d,f){var h,m=Xh(f);f=Me(d);var w=Yk(f),C=Zj(w,d.angle);m=Lh(C,m);w=kj(m,[0,0,0,0,w[4],w[5],0,0]);w=[0,0,0,0,Math.abs(w[4]),Math.abs(w[5]),1,0];d=(h=d.x,[0,0,0,0,d.y,h,0,0]);return[kj(m,d),w,(f[2]-f[0])/2,(f[3]-f[1])/2]},ze=function(d){var f=Me(d);f=Yk(f);d=Zj(f,d.angle);
f=[0,0,0,0,f[4],f[5],0,0];f=zk([1,0,0,0,-.5*f[5],.5*f[4],0,0]);return Ui(f,d)},Yk=function(d){return pf((d[0]+d[2])/2,(d[1]+d[3])/2)},me=function(d,f,h,m){switch(void 0===m&&(m=0),d.type){case "rectangle":case "text":case "diamond":var w=Tj(d);var C=w.flatMap(function(S,R){R=[S,w[(R+1)%4]];var ba=m;S=R[0];R=R[1];var ua=[0,0,0,0,R[4]-S[4],R[5]-S[5],0,0];var na=Math.sqrt(Math.abs(ua[7]*ua[7]-ua[5]*ua[5]-ua[4]*ua[4]+ua[1]*ua[1]));ua=0===na||1===na?ua:Ui(ua,1/na);ba*=.5;ba=[1,0,0,0,ba*ua[4],ba*ua[5],
0,0];R=[Lh(ba,S),Lh(ba,R)];S=R[0];R=R[1];if(0<=Yh(S,f)*Yh(R,f))var Ia=[];else{a:{S=Vh(Wi(R,S));S=Vh((Ia=f,[(Oa=S)[0]*Ia[0],Oa[1]*Ia[0]+Oa[0]*Ia[1],Oa[2]*Ia[0]+Oa[0]*Ia[2],Oa[3]*Ia[0]+Oa[0]*Ia[3],Oa[4]*Ia[0]+Oa[2]*Ia[1]-Oa[1]*Ia[2]+Oa[0]*Ia[4],Oa[5]*Ia[0]-Oa[3]*Ia[1]+Oa[1]*Ia[3]+Oa[0]*Ia[5],Oa[6]*Ia[0]+Oa[3]*Ia[2]-Oa[2]*Ia[3]+Oa[0]*Ia[6],Oa[7]*Ia[0]+Oa[6]*Ia[1]+Oa[5]*Ia[2]+Oa[4]*Ia[3]+Oa[3]*Ia[4]+Oa[2]*Ia[5]+Oa[1]*Ia[6]]));break a;var Oa}Ia=[S]}return Ia}).concat(w.flatMap(function(S){var R=m;if(0===
R)var ba=0===Yh(f,S)?[S]:[];else{ba=f[2];var ua=f[3],na=f[1],Ia=mj(S);S=Ia[0];var Oa=Ia[1];Ia=ba*ba+ua*ua;R=R*R*Ia-Math.pow(ba*S+ua*Oa+na,2);if(0===Ia||0>=R)ba=[];else{R=Math.sqrt(R);var Na=S*ua*ua-Oa*ba*ua-ba*na;na=Oa*ba*ba-S*ba*ua-ua*na;ba=[pf((Na+ua*R)/Ia,(na-ba*R)/Ia),pf((Na-ua*R)/Ia,(na+ba*R)/Ia)]}}return ba}));break;case "ellipse":C=Uj(d,m,f)}if(2>C.length)return[];d=C.sort(function(S,R){return Xk(Wi(S,h))-Xk(Wi(R,h))});return[d[0],d[d.length-1]]},Tj=function(d,f){void 0===f&&(f=1);var h=f*
d.width/2;f=f*d.height/2;switch(d.type){case "rectangle":case "text":return[pf(h,f),pf(h,-f),pf(-h,-f),pf(-h,f)];case "diamond":return[pf(0,f),pf(h,0),pf(0,-f),pf(-h,0)]}},Uj=function(d,f,h){var m=d.width/2+f;d=d.height/2+f;f=h[2];var w=h[3],C=h[1];h=m*m*f*f+d*d*w*w;var S=h-C*C;if(0===h||0>=S)return[];S=Math.sqrt(S);var R=-m*m*f*C;C*=-d*d*w;return[pf((R+m*d*w*S)/h,(C-m*d*f*S)/h),pf((R-m*d*w*S)/h,(C+m*d*f*S)/h)]},mk=function(d,f,h){var m=Math.sign(f),w=0,C=null;return Tj(d,Math.abs(f)).forEach(function(S){var R=
m*Vh(Wi(S,h))[1];R>w&&(w=R,C=S)}),C},ij=function(d,f,h,m){var w=[0,0];return Uh(d).some(function(C,S){S=C.op;var R=C.data;if("move"===S)w=R;else if("bcurveTo"===S){C=[R[0],R[1]];S=[R[2],R[3]];R=[R[4],R[5]];var ba=w;return w=R,function(ua,na,Ia,Oa,Na,fb){var db=Na[0];Na=Na[1];for(var Cb=function(pd,nd){return Math.pow(1-pd,3)*Oa[nd]+3*pd*Math.pow(1-pd,2)*Ia[nd]+3*Math.pow(pd,2)*(1-pd)*na[nd]+ua[nd]*Math.pow(pd,3)},ec=0;1>=ec;){var gc=Cb(ec,0),sc=Cb(ec,1);if(Math.sqrt(Math.pow(gc-db,2)+Math.pow(sc-
Na,2))<fb)return!0;ec+=.01}return!1}(ba,C,S,R,[f,h],m)}return!1})},qh=function(d,f,h){return f>=d[0]&&f<=d[0]+d[2]&&h>=d[1]&&h<=d[1]+d[3]},Jg=function(d,f,h,m,w,C){return d.reduce(function(S,R){return S?S:(S=function(ba,ua,na,Ia,Oa,Na){if(!ua.selectedElementIds[ba.id])return!1;ba=gg(ba,Oa,Na);ua=ba.rotation;var fb=li()(ba,["rotation"]);if(ua&&qh(ua,na,Ia))return"rotation";ba=Object.keys(fb).filter(function(db){db=fb[db];return!!db&&qh(db,na,Ia)});return 0<ba.length&&ba[0]}(R,f,h,m,w,C))?{element:R,
transformHandleType:S}:null},null)},yg=function(d,f,h,m,w){var C=Aj([d[0],d[1],d[2],d[3]],0,m,w,Ci);return Object.keys(C).find(function(S){return(S=C[S])&&qh(S,f,h)})||!1},mi=["ns","nesw","ew","nwse"],uh=function(d){var f=d.element,h=f&&-1==Math.sign(f.height)*Math.sign(f.width),m=null;switch(d.transformHandleType){case "n":case "s":m="ns";break;case "w":case "e":m="ew";break;case "nw":case "se":m=h?"nesw":"nwse";break;case "ne":case "sw":m=h?"nwse":"nesw";break;case "rotation":return"grab"}m&&f&&
(d=m,f=f.angle,h=mi.indexOf(d),0<=h&&(d=mi[(h+Math.round(f/(Math.PI/4)))%mi.length]),m=d);return m?"".concat(m,"-resize"):""},Bk=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},hf=function(){function d(f,h){this.elementId=f.id;rd.mapElementToScene(this.elementId,h);d.normalizePoints(f);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset=
{x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(f){var h;return(null===(h=rd.getScene(f))||void 0===h?void 0:h.getNonDeletedElement(f))||null},d.handlePointDragging=function(f,h,m,w,C){if(!f.editingLinearElement)return!1;var S=f.editingLinearElement,R=S.activePointIndex,ba=S.isDragging,ua=d.getElement(S.elementId);return ua?null!=R&&-1<R?(!1===ba&&h({editingLinearElement:Wa(Wa({},S),{},{isDragging:!0})}),f=d.createPointAt(ua,m-S.pointerOffset.x,w-S.pointerOffset.y,
f.gridSize),d.movePoint(ua,R,f),tg(ua)&&C(ua,0===R?"start":"end"),!0):!1:!1},d.handlePointerUp=function(f,h,m){f=h.activePointIndex;var w=h.isDragging,C=d.getElement(h.elementId);if(!C)return h;var S={};!w||0!==f&&f!==C.points.length-1||(ph(C.points,m.zoom.value)&&d.movePoint(C,f,0===f?C.points[C.points.length-1]:C.points[0]),w=m.isBindingEnabled?bj(fg(d.getPointAtIndexGlobalCoordinates(C,f)),rd.getScene(C)):null,(m={})[0===f?"startBindingElement":"endBindingElement"]=w,S=m);return Wa(Wa(Wa({},h),
S),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(f,h,m,w,C){var S={didAddPoint:!1,hitElement:null};if(!h.editingLinearElement)return S;var R=d.getElement(h.editingLinearElement.elementId);if(!R)return S;if(f.altKey)return null==h.editingLinearElement.lastUncommittedPoint&&Bd(R,{points:Bk(R.points,[d.createPointAt(R,C.x,C.y,h.gridSize)])}),w.resumeRecording(),m({editingLinearElement:Wa(Wa({},h.editingLinearElement),{},{activePointIndex:R.points.length-1,lastUncommittedPoint:null,
endBindingElement:bj(C,rd.getScene(R))})}),S.didAddPoint=!0,S;f=d.getPointIndexUnderCursor(R,h.zoom,C.x,C.y);if(-1<f)S.hitElement=R;else{var ba=h.editingLinearElement;w=ba.startBindingElement;ba=ba.endBindingElement;h.isBindingEnabled&&tg(R)&&yd(R,w,ba)}ba=Me(R);w=(ba[0]+ba[2])/2;ba=(ba[1]+ba[3])/2;R=-1<f&&le(R.x+R.points[f][0],R.y+R.points[f][1],w,ba,R.angle);return m({editingLinearElement:Wa(Wa({},h.editingLinearElement),{},{activePointIndex:-1<f?f:null,pointerOffset:R?{x:C.x-R[0],y:C.y-R[1]}:{x:0,
y:0}})}),S},d.handlePointerMove=function(f,h,m,w,C){var S=w.lastUncommittedPoint,R=d.getElement(w.elementId);if(!R)return w;var ba=R.points,ua=ba[ba.length-1];if(!f.altKey)return ua===S&&d.movePoint(R,ba.length-1,"delete"),Wa(Wa({},w),{},{lastUncommittedPoint:null});f=d.createPointAt(R,h-w.pointerOffset.x,m-w.pointerOffset.y,C);return ua===S?d.movePoint(R,R.points.length-1,f):d.movePoint(R,"new",f),Wa(Wa({},w),{},{lastUncommittedPoint:R.points[R.points.length-1]})},d.getPointsGlobalCoordinates=function(f){var h=
Me(f),m=(h[0]+h[2])/2,w=(h[1]+h[3])/2;return f.points.map(function(C){var S;return[(S=le(f.x+C[0],f.y+C[1],m,w,f.angle))[0],S[1]]})},d.getPointAtIndexGlobalCoordinates=function(f,h){var m=0>h?f.points.length+h:h;h=Me(f);m=f.points[m];return le(f.x+m[0],f.y+m[1],(h[0]+h[2])/2,(h[1]+h[3])/2,f.angle)},d.pointFromAbsoluteCoords=function(f,h){var m=Me(f);h=le(h[0],h[1],(m[0]+m[2])/2,(m[1]+m[3])/2,-f.angle);return[h[0]-f.x,h[1]-f.y]},d.getPointIndexUnderCursor=function(f,h,m,w){f=this.getPointsGlobalCoordinates(f);
for(var C=f.length;-1<--C;){var S=f[C];if(Math.hypot(S[0]-m,S[1]-w)*h.value<this.POINT_HANDLE_SIZE/2+1)return C}return-1},d.createPointAt=function(f,h,m,w){h=ug(h,m,w);m=Me(f);h=le(h[0],h[1],(m[0]+m[2])/2,(m[1]+m[3])/2,-f.angle);return[h[0]-f.x,h[1]-f.y]},d.normalizePoints=function(f){var h=f.points,m=h[0][0],w=h[0][1];Bd(f,{points:h.map(function(C,S){return[C[0]-m,C[1]-w]}),x:f.x+m,y:f.y+w})},d.movePointByOffset=function(f,h,m){var w=f.points[h];d.movePoint(f,h,[w[0]+m.x,w[1]+m.y])},d.movePoint=
function(f,h,m,w){var C=f.points,S=0,R=0;if("delete"===m){if("new"===h)throw Error("invalid args in movePoint");(m=C.slice()).splice(h,1);0===h&&(S=m[0][0],R=m[0][1],m=m.map(function(Ia,Oa){return 0===Oa?[0,0]:[Ia[0]-S,Ia[1]-R]}))}else if("new"===h)m=Bk(C,[m]);else{var ba=m[0]-C[h][0],ua=m[1]-C[h][1];m=C.map(function(Ia,Oa){return Oa===h?0===Oa?(S=ba,R=ua,Ia):(S=0,R=0,[Ia[0]+ba,Ia[1]+ua]):S||R?[Ia[0]-S,Ia[1]-R]:Ia})}var na=De(f,m,f.strokeSharpness||"round");C=De(f,C,f.strokeSharpness||"round");C=
le(S,R,(C[0]+C[2])/2-(na[0]+na[2])/2,(C[1]+C[3])/2-(na[1]+na[3])/2,f.angle);Bd(f,Wa(Wa({},w),{},{points:m,x:f.x+C[0],y:f.y+C[1]}))},d}();hf.POINT_HANDLE_SIZE=20;var Uf=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},yd=function(d,f,h){var m=new Set,w=new Set;pk(d,f,h,"start",m,w);pk(d,h,f,"end",m,w);f=Array.from(w).filter(function(C){return!m.has(C)});rd.getScene(d).getNonDeletedElements(f).forEach(function(C){var S;
Bd(C,{boundElementIds:null===(S=C.boundElementIds)||void 0===S?void 0:S.filter(function(R){return R!==d.id})})})},pk=function(d,f,h,m,w,C){if("keep"!==f)if(null!=f)null!=h&&("keep"===h?Fe(d,f,m):"start"!==m&&h.id===f.id)||(Ii(d,f,m),w.add(f.id));else{var S;f="start"===m?"startBinding":"endBinding";h=d[f];d=null==h?null:(Bd(d,((S={})[f]=null,S)),h.elementId);null!=d&&C.add(d)}},oj=function(d){d.forEach(function(f){tg(f)?yd(f,se(f,"start"),se(f,"end")):xi(f)&&ak(f)})},ak=function(d){pj(d).forEach(function(f){var h=
f[1];return yd(f[0],"end"===h?"keep":d,"start"===h?"keep":d)})},zg=function(d,f,h,m){null!=f.startBoundElement&&Ii(d,f.startBoundElement,"start");f=bj(m,h);null==f||Fe(d,f,"end")||Ii(d,f,"end")},Ii=function(d,f,h){var m,w;Bd(d,((m={})["start"===h?"startBinding":"endBinding"]=function(C){for(var S=1;S<arguments.length;S++){var R=null!=arguments[S]?arguments[S]:{};S%2?Ib(Object(R),!0).forEach(function(ba){ce()(C,ba,R[ba])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(R)):
Ib(Object(R)).forEach(function(ba){Object.defineProperty(C,ba,Object.getOwnPropertyDescriptor(R,ba))})}return C}({elementId:f.id},Bg(d,f,h)),m));Bd(f,{boundElementIds:Array.from(new Set(Uf(null!==(w=f.boundElementIds)&&void 0!==w?w:[],[d.id])))})},Fe=function(d,f,h){h=d["start"===h?"endBinding":"startBinding"];return(null==h?void 0:h.elementId)===f.id&&3>d.points.length},kd=function(d){d.forEach(function(f){tg(f)&&yd(f,null,null)})},bj=function(d,f){return wh(f.getElements(),function(h){return xi(h)&&
Zh(h,d)})},Bg=function(d,f,h){var m="start"===h?-1:1;h=-1===m?0:d.points.length-1;m=h-m;h=hf.getPointAtIndexGlobalCoordinates(d,h);m=hf.getPointAtIndexGlobalCoordinates(d,m);a:{d=ze(f);m=Lh(d,Xh(m));d=Lh(d,Xh(h));var w=Vh(Wi(d,m));d=f.height/f.width;m=f.width/2;var C=f.height/2,S=w[2],R=w[3];w=w[1];var ba=Math.abs(R),ua=Math.abs(S);switch(f.type){case "rectangle":case "text":d=w/(m*(ua+d*ba));break a;case "diamond":d=ba<ua?w/(ua*m):w/(ba*C);break a;case "ellipse":d=w/(m*Math.sqrt(Math.pow(S,2)+Math.pow(d,
2)*Math.pow(R,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,xk(f,h))}},vh=function(d,f){var h,m=null!==(h=d.boundElementIds)&&void 0!==h?h:[];if(0!==m.length){f=null!=f?f:{};var w=f.newSize,C=bf(f.simultaneouslyUpdated);rd.getScene(d).getNonDeletedElements(m).forEach(function(S){var R,ba;if((null===(R=S.startBinding)||void 0===R?void 0:R.elementId)===d.id||(null===(ba=S.endBinding)||void 0===ba?void 0:ba.elementId)===d.id)R=cj(d,S.startBinding,w),ba=cj(d,S.endBinding,w),C.has(S.id)?Bd(S,{startBinding:R,
endBinding:ba}):(al(S,"start",R,d),al(S,"end",ba,d))})}},bf=function(d){return new Set((d||[]).map(function(f){return f.id}))},al=function(d,f,h,m){var w;if(!(null==h||h.elementId!==m.id&&2<d.points.length)){var C=rd.getScene(d).getElement(h.elementId);if(null!=C){var S="start"===f?-1:1;m=-1===S?0:d.points.length-1;var R=hf.getPointAtIndexGlobalCoordinates(d,m-S);S=function(ba,ua,na){if(0===ua){var Ia=Me(ba);Ia=Yk(Ia);return mj(Ia)}Ia=ze(ba);na=Lh(Ia,Xh(na));Ia=zk(Ia);switch(ba.type){case "rectangle":case "text":case "diamond":var Oa=
mk(ba,ua,na);break;case "ellipse":var Na=Math.abs(ua);Oa=ba.width*Na/2;ba=ba.height*Na/2;ua=Math.sign(ua);Na=mj(na);na=Na[0];Na=Na[1];Na=0===Na?1E-4:Na;var fb=Math.pow(na,2)*Math.pow(ba,2)+Math.pow(Na,2)*Math.pow(Oa,2);ua=(-na*Math.pow(ba,2)+ua*Na*Math.sqrt(Math.max(0,fb-Math.pow(Oa,2)*Math.pow(ba,2))))/fb;na=(-ua*na-1)/Na;Oa=-Math.pow(Oa,2)*ua/(Math.pow(na,2)*Math.pow(ba,2)+Math.pow(ua,2)*Math.pow(Oa,2));Oa=pf(Oa,(-ua*Oa-1)/na)}return mj(Lh(Ia,Oa))}(C,h.focus,R);0===h.gap?C=S:(C=function(ba,ua,na,
Ia){void 0===Ia&&(Ia=0);var Oa=ze(ba);ua=Lh(Oa,Xh(ua));na=Lh(Oa,Xh(na));na=Vh(Wi(na,ua));var Na=zk(Oa);return me(ba,na,ua,Ia).map(function(fb){return mj(Lh(Na,fb))})}(C,R,S,h.gap),C=0===C.length?S:C[0]);hf.movePoint(d,m,hf.pointFromAbsoluteCoords(d,C),((w={})["start"===f?"startBinding":"endBinding"]=h,w))}}},cj=function(d,f,h){if(null==f||null==h)return f;var m=f.gap,w=f.focus,C=h.width;h=h.height;var S=d.width,R=d.height;return{elementId:f.elementId,gap:Math.max(1,Math.min(Vi(d,C,h),m*(C<h?C/S:h/
R))),focus:w}},Sg=function(d){return[se(d,"start"),se(d,"end")].filter(function(f){return null!=f})},se=function(d,f){return bj(fg(hf.getPointAtIndexGlobalCoordinates(d,"start"===f?0:-1)),rd.getScene(d))},pj=function(d){return rd.getScene(d).getElements().map(function(f){if(!tg(f))return null;var h=Hf(f,"start",d),m=Hf(f,"end",d);return h||m?[f,h&&m?"both":h?"start":"end",d]:null}).filter(function(f){return null!=f})},Hf=function(d,f,h){return null==d["start"===f?"startBinding":"endBinding"]&&!Fe(d,
h,f)&&Zh(h,fg(hf.getPointAtIndexGlobalCoordinates(d,"start"===f?0:-1)))},Vj=function(d,f,h,m){var w=new Set,C=new Set,S="duplicatesServeAsOld"===m;f.forEach(function(R){var ba=R.boundElementIds;if(null!=ba&&0<ba.length&&(ba.forEach(function(ua){S&&!h.has(ua)&&w.add(ua)}),C.add(h.get(R.id))),tg(R))null!=R.startBinding&&(ba=R.startBinding.elementId,S&&!h.has(ba)&&C.add(ba)),null!=R.endBinding&&(ba=R.endBinding.elementId,S&&!h.has(ba)&&C.add(ba)),null==R.startBinding&&null==R.endBinding||w.add(h.get(R.id))});
d.filter(function(R){return w.has(R.id)}).forEach(function(R){var ba=R.endBinding;Bd(R,{startBinding:Tg(R.startBinding,h),endBinding:Tg(ba,h)})});d.filter(function(R){return C.has(R.id)}).forEach(function(R){var ba=R.boundElementIds;null!=ba&&0<ba.length&&Bd(R,{boundElementIds:ba.map(function(ua){var na;return null!==(na=h.get(ua))&&void 0!==na?na:ua})})})},Tg=function(d,f){var h;if(null==d)return null;var m=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(h=f.get(m))&&void 0!==h?h:m}},
qi=function(d,f){var h=new Set(f.map(function(w){return w.id})),m=new Set;f.forEach(function(w){var C;xi(w)&&(null===(C=w.boundElementIds)||void 0===C||C.forEach(function(S){h.has(S)||m.add(S)}))});d.filter(function(w){return m.has(w.id)}).forEach(function(w){var C=w.endBinding;Bd(w,{startBinding:rj(w.startBinding,h),endBinding:rj(C,h)})})},rj=function(d,f){return null==d||f.has(d.elementId)?null:d},Yf=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;
for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},pe=function(d){return d>=2*Math.PI?d-2*Math.PI:d},Pe=function(d,f,h){return Md(d)?{points:Th(0,f,Th(1,h,d.points))}:{}},bg=function(d,f,h){f=f/d.width*d.fontSize;if(1>f)return null;d=of(d.text,gi({fontSize:f,fontFamily:d.fontFamily}));return{size:f,baseline:d.baseline+(h-d.height)}},tk=function(d,f,h,m){var w=Yc(d),C=w[0],S=w[1],R=w[2],ba=w[3];switch(f){case "se":var ua=Math.max((h-C)/(R-C),(m-S)/(ba-S));var na=
function(Oa,Na,fb){var db=Na[0];Na=Na[1];return{x:Oa.x+(db-C)*(ua-1)+db-fb[0],y:Oa.y+(Na-S)*(ua-1)+Na-fb[1]}};break;case "nw":ua=Math.max((R-h)/(R-C),(ba-m)/(ba-S));na=function(Oa,Na,fb){var db=Na[2];Na=Na[3];return{x:Oa.x-(R-db)*(ua-1)+db-fb[2],y:Oa.y-(ba-Na)*(ua-1)+Na-fb[3]}};break;case "ne":ua=Math.max((h-C)/(R-C),(ba-m)/(ba-S));na=function(Oa,Na,fb){var db=Na[0];Na=Na[3];return{x:Oa.x+(db-C)*(ua-1)+db-fb[0],y:Oa.y-(ba-Na)*(ua-1)+Na-fb[3]}};break;case "sw":ua=Math.max((R-h)/(R-C),(m-S)/(ba-S)),
na=function(Oa,Na,fb){var db=Na[1];Na=Na[2];return{x:Oa.x-(R-Na)*(ua-1)+Na-fb[2],y:Oa.y+(db-S)*(ua-1)+db-fb[1]}}}if(0<ua){var Ia=d.reduce(function(Oa,Na){if(!Oa)return Oa;var fb=Na.width*ua,db=Na.height*ua,Cb={};if("text"===Na.type){Cb=bg(Na,fb,db);if(null===Cb)return null;Cb={fontSize:Cb.size,baseline:Cb.baseline}}var ec=Me(Na),gc=Pe(Na,fb,db);vh(Na,{newSize:{width:fb,height:db},simultaneouslyUpdated:d});var sc=og(dc(dc({},Na),gc),fb,db);Na=na(Na,ec,sc);return Yf(Oa,[dc(dc({width:fb,height:db,x:Na.x,
y:Na.y},gc),Cb)])},[]);Ia&&d.forEach(function(Oa,Na){Bd(Oa,Ia[Na])})}},lg=function(d,f,h,m,w,C,S){var R=5*Math.PI/2+Math.atan2(m-S,h-C);w&&(R+=Pb.ay/2,R-=R%Pb.ay);f.forEach(function(ba,ua){var na,Ia,Oa=Me(ba);ua=(Oa[0]+Oa[2])/2;Oa=(Oa[1]+Oa[3])/2;var Na=null!==(na=null===(Ia=d.originalElements.get(ba.id))||void 0===Ia?void 0:Ia.angle)&&void 0!==na?na:ba.angle;na=le(ua,Oa,C,S,R+Na-ba.angle);Bd(ba,{x:ba.x+(na[0]-ua),y:ba.y+(na[1]-Oa),angle:pe(R+Na)})})},Df=function(d,f,h,m,w,C,S,R,ba,ua){var na;ba&&
(S=(na=Gf(f,S,C<m?-R:R)).width,0>(R=na.height)&&(R=-R));f=w<h?h-S:h;C=C<m?m-R:m;ua&&(f=h-(S+=S)/2,C=m-(R+=R)/2);0!==S&&0!==R&&Bd(d,{x:f,y:C,width:S,height:R})},Ue=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},Nj=function(d){var f=of(d.text,gi(d));Bd(d,{width:f.width,height:f.height,baseline:f.baseline})},uk=function(d,f){return!(d.viewModeEnabled||!d.editingElement&&!Ee(f,d).length&&"selection"===d.elementType)},ok=function(d){return d.filter(function(f){return f.isDeleted||
!Tf(f)})},th=function(d){return d.reduce(function(f,h){return f[h.id]=h,f},{})},gf=function(d){return d.reduce(function(f,h){return f+h.version},0)},dd=function(d){return d.filter(function(f){return!f.isDeleted})},Fk=function(d){return dd(d).map(function(f){return Yg(f.type)?Dc(Dc({},f),{},{lastCommittedPoint:null}):f})},lh=function(d,f,h){var m=[d.horizontal,d.vertical].map(function(w){return null!=w&&w.x<=f&&f<=w.x+w.width&&w.y<=h&&h<=w.y+w.height});d=m[0];m=m[1];return{isOverEither:d||m,isOverHorizontal:d,
isOverVertical:m}},wf=function(d,f){return d.some(function(h){return f.selectedElementIds[h.id]})},Ee=function(d,f){return d.filter(function(h){return f.selectedElementIds[h.id]})},Yi=function(d,f){return f.editingElement?[f.editingElement]:Ee(d,f)},jh=function(d){var f=d.scenePoint,h=d.viewportDimensions;d=d.zoom;return{scrollX:h.width/2*(1/d.value)-f.x-1/d.value*d.translation.x,scrollY:h.height/2*(1/d.value)-f.y-1/d.value*d.translation.y}},fe=function(d,f,h){var m;if(!d.length)return{scrollX:0,
scrollY:0};var w=Yc(d);h=w[0];var C=w[1],S=w[2];w=w[3];return function(R,ba,ua){ba=ua[2];var na=ua[3],Ia=vg({sceneX:ua[0],sceneY:ua[1]},R);ua=Ia.x;Ia=Ia.y;ba=vg({sceneX:ba,sceneY:na},R);na=ba.y;return ba.x-ua>R.width||na-Ia>R.height}(f,0,[h,C,S,w])&&(h=(m=function(R,ba){if(!R.length)return[0,0,0,0];var ua=1/0,na=R[0];return R.forEach(function(Ia){var Oa=eg(Ia);Oa=Math.hypot(ba.x-(Oa[0]+Oa[2])/2,ba.y-(Oa[1]+Oa[3])/2);Oa<ua&&(ua=Oa,na=Ia)}),eg(na)}(d,Lf({clientX:f.scrollX,clientY:f.scrollY},f)))[0],
C=m[1],S=m[2],w=m[3]),jh({scenePoint:{x:(h+S)/2,y:(C+w)/2},viewportDimensions:{width:f.width,height:f.height},zoom:f.zoom})},Ei=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Ji=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},Ki=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},wh=function(d,f){for(var h=null,m=d.length-1;0<=m;--m){var w=d[m];if(!w.isDeleted&&f(w)){h=w;break}}return h},
Oh=function(d,f,h,m){return void 0===m&&(m={x:0,y:0}),{value:d,translation:{x:m.x-h.left-d/f.value*(m.x-h.left-f.translation.x),y:m.y-h.top-d/f.value*(m.y-h.top-f.translation.y)}}},dj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},Gd=(n(9478),qa().forwardRef(function(d,f){var h=qa().useRef(null);qa().useImperativeHandle(f,function(){return h.current});f="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?qa().createElement("button",{className:jc("ToolIcon_type_button",
f,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:h},qa().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&qa().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&qa().createElement("div",{className:"ToolIcon__label"},
d["aria-label"]),d.children):qa().createElement("label",{className:jc("ToolIcon",d.className),title:d.title},qa().createElement("input",{className:"ToolIcon_type_radio ".concat(f),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:h}),qa().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&qa().createElement("span",{className:"ToolIcon__keybinding"},
d.keyBindingLabel)))}));Gd.defaultProps={visible:!0,className:""};var Ve=function(d){return"light"===d?hd.$y[4]:hd.$y[9]},gd=function(d){return"light"===d?hd.Sn:hd.MA[4]},Of=function(d){return"light"===d?hd.ix:"#1e1e1e"},id=function(d,f){void 0===f&&(f=512);f="number"==typeof f?{width:f}:f;var h=f.width;h=void 0===h?512:h;var m=f.height;m=void 0===m?h:m;var w=f.mirror;f=f.style;return qa().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(h," ").concat(m),
className:jc({"rtl-mirror":w}),style:f},"string"==typeof d?qa().createElement("path",{fill:"currentColor",d}):d)},bi=id("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),sd=id("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Gk=id("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),bl=id("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),sj=id("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),oc=id("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Tc=id("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
yc=id("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Ic=id("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),xh=id("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),kf=id("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),mh=id("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
Xd=id("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),nh=id("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),Ph=id("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),uc=id(qa().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),Rc=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,
null,qa().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:gd(d),stroke:gd(d),strokeWidth:"2"}),qa().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),ve=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,
null,qa().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"}),qa().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:gd(d),stroke:gd(d),strokeWidth:"2"})),{width:24,mirror:!0})}),bc=qa().memo(function(d){d=d.appearance;
return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:gd(d),stroke:gd(d),strokeWidth:"2"}),qa().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),hk=qa().memo(function(d){d=
d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ve(d),stroke:Ve(d),strokeLinejoin:"round",strokeWidth:"2"}),qa().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:gd(d),stroke:gd(d),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),pl=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M 2,5 H 22",fill:gd(d),stroke:gd(d),strokeWidth:"2",strokeLinecap:"round"}),qa().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),si=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M 2,19 H 22",fill:gd(d),stroke:gd(d),strokeWidth:"2",strokeLinecap:"round"}),qa().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Mh=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M 5,2 V 22",fill:gd(d),stroke:gd(d),strokeWidth:"2",strokeLinecap:"round"}),qa().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),Fi=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M 19,2 V 22",fill:gd(d),stroke:gd(d),strokeWidth:"2",strokeLinecap:"round"}),qa().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),Lc=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M5 5V19Z",fill:"black"}),qa().createElement("path",{d:"M19 5V19M5 5V19",stroke:gd(d),strokeWidth:"2",strokeLinecap:"round"}),qa().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),Vg=
qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M5 5L19 5M5 19H19",fill:gd(d),stroke:gd(d),strokeWidth:"2",strokeLinecap:"round"}),qa().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),ej=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"}),qa().createElement("path",{d:"M 2,12 H 22",fill:gd(d),stroke:gd(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),fj=qa().memo(function(d){d=d.appearance;
return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"}),qa().createElement("path",{d:"M 12,2 V 22",fill:gd(d),stroke:gd(d),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),bd=id("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),tj=(id("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),id("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),id("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),Mg=id("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Ef=id("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Wc=id("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Ge=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",
{d:"M25 26H111V111H25",fill:gd(d)}),qa().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:gd(d),strokeWidth:"2"}),qa().createElement("path",{d:"M100 100H160V160H100",fill:gd(d)}),qa().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:gd(d),strokeWidth:"2"}),qa().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Te=qa().memo(function(d){d=d.appearance;return id(qa().createElement(qa().Fragment,null,qa().createElement("path",{d:"M25 26H111V111H25",fill:gd(d)}),qa().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:gd(d),strokeWidth:"2"}),qa().createElement("path",{d:"M100 100H160V160H100",fill:gd(d)}),qa().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:gd(d),strokeWidth:"2"}),qa().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"}),qa().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Of(d),stroke:gd(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),ql=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:gd(d)}),{width:40,height:20})}),$h=qa().memo(function(d){d=d.appearance;return id(qa().createElement("g",{fill:gd(d),fillRule:"evenodd",clipRule:"evenodd"},qa().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),qa().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),ei=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{d:"M2 2H38V18H2V2Z",fill:gd(d)}),{width:40,height:20})}),Jj=qa().memo(function(d){var f=d.appearance;d=d.strokeWidth;return id(qa().createElement("path",{d:"M6 10H34",stroke:gd(f),strokeWidth:d,fill:"none"}),{width:40,height:20})}),ig=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{d:"M6 10H34",stroke:gd(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),kh=qa().memo(function(d){d=
d.appearance;return id(qa().createElement("path",{d:"M6 10H34",stroke:gd(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),jg=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{d:"M6 10H34",stroke:gd(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Mi=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:gd(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Zk=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:gd(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),sf=qa().memo(function(d){d=
d.appearance;return id(qa().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:gd(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),kl=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",
{d:"M10 17L10 5L35 5",stroke:gd(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Oj=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:gd(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),If=qa().memo(function(d){d=d.appearance;return id(qa().createElement("path",{d:"M6 10H34",stroke:gd(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),cl=qa().memo(function(d){var f=d.appearance;d=d.flip;d=void 0!==
d&&d;return id(qa().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:gd(f),strokeWidth:2,fill:"none"},qa().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),qa().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),$k=qa().memo(function(d){var f=d.appearance;d=d.flip;d=void 0!==d&&d;return id(qa().createElement("g",{stroke:gd(f),fill:gd(f),transform:d?"translate(40, 0) scale(-1, 1)":""},qa().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
qa().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Pj=qa().memo(function(d){var f=d.appearance;d=d.flip;d=void 0!==d&&d;return id(qa().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},qa().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:gd(f),strokeWidth:2,fill:"none"})),{width:40,height:20})}),Cd=[],cd=function(d){return Cd=Cd.concat(d),d},Gi=function(d,f){var h;return d.editingGroupId&&(f=lj(dd(f),d.editingGroupId),
f.length)?Hc(Hc({},d),{},{selectedElementIds:(h={},h[f[0].id]=!0,h)}):d},Zi=cd({name:"deleteSelectedElements",perform:function(d,f){if(f.editingLinearElement){var h=f.editingLinearElement,m=h.activePointIndex,w=h.startBindingElement,C=h.endBindingElement,S=hf.getElement(h.elementId);if(!S)return!1;if(null==m||-1===m||2>S.points.length)return d=d.filter(function(R){return R.id!==S.id}),{elements:d,appState:Hc(Hc({},Gi(f,d)),{},{editingLinearElement:null}),commitToHistory:!1};h={startBindingElement:0===
m?null:w,endBindingElement:m===S.points.length-1?null:C};return hf.movePoint(S,m,"delete"),{elements:d,appState:Hc(Hc({},f),{},{editingLinearElement:Hc(Hc(Hc({},f.editingLinearElement),h),{},{activePointIndex:0<m?m-1:0})}),commitToHistory:!0}}h=function(R,ba){return{elements:R.map(function(ua){return ba.selectedElementIds[ua.id]?Ye(ua,{isDeleted:!0}):ua}),appState:Hc(Hc({},ba),{},{selectedElementIds:{}})}}(d,f);m=h.elements;h=h.appState;return qi(m,d.filter(function(R){return f.selectedElementIds[R.id]})),
{elements:m,appState:Hc(Hc({},h=Gi(h,m)),{},{elementType:"selection",multiElement:null}),commitToHistory:wf(dd(d),f)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{type:"button",icon:oc,title:hb("labels.delete"),"aria-label":hb("labels.delete"),onClick:function(){return m(null)},visible:wf(dd(f),h)})}}),Li=function(){for(var d=0,f=0,h=arguments.length;f<
h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},ll=function(d,f){for(var h=[],m=[],w=null,C=-1;++C<d.length;)f.selectedElementIds[d[C].id]?(m.length&&(h=h.concat(m),m=[]),h.push(C),w=C+1):d[C].isDeleted&&w===C?(w=C+1,m.push(C)):m=[];return h},$f=function(d,f,h,m){var w=f[h],C=function(S){return!S.isDeleted&&(!d.editingGroupId||S.groupIds.includes(d.editingGroupId))};h="left"===m?function(S,R,ba){void 0===ba&&(ba=
S.length-1);0>ba&&(ba=S.length+ba);for(ba=Math.min(S.length-1,Math.max(ba,0))+1;-1<--ba;)if(R(S[ba],ba,S))return ba;return-1}(f,C,Math.max(0,h-1)):function(S,R,ba){void 0===ba&&(ba=0);0>ba&&(ba=S.length+ba);for(ba=Math.min(S.length,Math.max(ba,0))-1;++ba<S.length;)if(R(S[ba],ba,S))return ba;return-1}(f,C,h+1);C=f[h];if(!C)return-1;if(d.editingGroupId){if((null==w?void 0:w.groupIds.join(""))===(null==C?void 0:C.groupIds.join("")))return h;if(null==C||!C.groupIds.includes(d.editingGroupId))return-1}if(!C.groupIds.length)return h;
w=d.editingGroupId?C.groupIds[C.groupIds.indexOf(d.editingGroupId)-1]:C.groupIds[C.groupIds.length-1];w=lj(f,w);return w.length?"left"===m?f.indexOf(w[0]):f.indexOf(w[w.length-1]):h},jf=function(d,f,h){var m,w=ll(f,d),C=(m=0,w.reduce(function(S,R,ba){return 0<ba&&w[ba-1]!==R-1&&(m=++m),(S[m]||(S[m]=[])).push(R),S},[]));return"right"===h&&(C=C.reverse()),C.forEach(function(S,R){R=S[0];S=S[S.length-1];var ba="left"===h?R:S,ua=$f(d,f,ba,h);if(-1!==ua&&ba!==ua){ba="left"===h?f.slice(0,ua):f.slice(0,R);
var na=f.slice(R,S+1);R="left"===h?f.slice(ua,R):f.slice(S+1,ua+1);S="left"===h?f.slice(S+1):f.slice(ua+1);f="left"===h?Li(ba,na,R,S):Li(ba,R,na,S)}}),f},dg=function(d,f,h){var m=ll(d,f),w=[],C=[];if("left"===h){if(f.editingGroupId){if(!(f=lj(d,f.editingGroupId)).length)return d;var S=d.indexOf(f[0])}else S=0;f=m[m.length-1]}else{if(f.editingGroupId){if(!(f=lj(d,f.editingGroupId)).length)return d;f=d.indexOf(f[f.length-1])}else f=d.length-1;S=m[0]}for(var R=S;R<f+1;R++)m.includes(R)?w.push(d[R]):
C.push(d[R]);m=d.slice(0,S);d=d.slice(f+1);return"left"===h?Li(m,w,C,d):Li(m,C,w,d)},em=cd({name:"sendBackward",perform:function(d,f){return{elements:jf(f,d.slice(),"left"),appState:f,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[Fd]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var f=d.updateData;d=d.appState;return qa().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return f(null)},title:"".concat(hb("labels.sendBackward"),
" — ").concat(wc("CtrlOrCmd+["))},qa().createElement(ve,{appearance:d.appearance}))}}),Ik=cd({name:"bringForward",perform:function(d,f){return{elements:jf(f,d.slice(),"right"),appState:f,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[Fd]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var f=d.updateData;d=d.appState;return qa().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return f(null)},
title:"".concat(hb("labels.bringForward")," — ").concat(wc("CtrlOrCmd+]"))},qa().createElement(Rc,{appearance:d.appearance}))}}),e=cd({name:"sendToBack",perform:function(d,f){return{elements:dg(d,f,"left"),appState:f,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return Zg?d[Fd]&&d.altKey&&"BracketLeft"===d.code:d[Fd]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var f=d.updateData;d=d.appState;return qa().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return f(null)},title:"".concat(hb("labels.sendToBack")," — ").concat(wc(Zg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},qa().createElement(hk,{appearance:d.appearance}))}}),l=cd({name:"bringToFront",perform:function(d,f){return{elements:dg(d,f,"right"),appState:f,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return Zg?d[Fd]&&d.altKey&&"BracketRight"===d.code:d[Fd]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var f=d.updateData;
d=d.appState;return qa().createElement("button",{type:"button",className:"zIndexButton",onClick:function(h){return f(null)},title:"".concat(hb("labels.bringToFront")," — ").concat(wc(Zg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},qa().createElement(bc,{appearance:d.appearance}))}}),E=cd({name:"selectAll",perform:function(d,f){return!f.editingLinearElement&&{appState:Ej(xd(xd({},f),{},{editingGroupId:null,selectedElementIds:d.reduce(function(h,m){return m.isDeleted||(h[m.id]=!0),h},{})}),dd(d)),commitToHistory:!0}},
contextItemLabel:"labels.selectAll",keyTest:function(d){return d[Fd]&&"a"===d.key}}),y=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},L=cd({name:"duplicateSelection",perform:function(d,f){if(f.editingLinearElement){var h=f.editingLinearElement,m=h.activePointIndex;h=hf.getElement(h.elementId);if(!h||null===m)return!1;var w=h.points,C=w[m],S=w[m+1];return Bd(h,{points:y(w.slice(0,
m+1),[S?[(C[0]+S[0])/2,(C[1]+S[1])/2]:[C[0]+30,C[1]+30]],w.slice(m+1))}),{appState:ge(ge({},f),{},{editingLinearElement:ge(ge({},f.editingLinearElement),{},{activePointIndex:m+1})}),elements:d,commitToHistory:!0}}return ge(ge({},ca(d,f)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[Fd]&&"d"===d.key},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{type:"button",icon:Ef,title:"".concat(hb("labels.duplicateSelection"),
" — ").concat(wc("CtrlOrCmd+D")),"aria-label":hb("labels.duplicateSelection"),onClick:function(){return m(null)},visible:wf(dd(f),h)})}}),ca=function(d,f){for(var h=new Map,m=[],w=[],C=new Map,S=function(Ia){var Oa=Bi(f.editingGroupId,h,Ia,{x:Ia.x+Pb.k/2,y:Ia.y+Pb.k/2});return C.set(Ia.id,Oa.id),w.push(Ia),m.push(Oa),Oa},R=[],ba=0;ba<d.length;){var ua=d[ba];if(f.selectedElementIds[ua.id]){if(ua.groupIds.length){var na=Dj(f,ua);if(na){ua=lj(d,na);R.push.apply(R,y(ua,ua.map(function(Ia){return S(Ia)})));
ba+=ua.length;continue}}R.push(ua,S(ua))}else R.push(ua);ba++}return Vj(R,w,C),{elements:R,appState:Ej(ge(ge({},f),{},{selectedGroupIds:{},selectedElementIds:m.reduce(function(Ia,Oa){return Ia[Oa.id]=!0,Ia},{})}),dd(R))}},pa=function(d){var f=d.options,h=d.value,m=d.onChange,w=d.group;return qa().createElement("div",{className:"buttonList buttonListIcon"},f.map(function(C){return qa().createElement("label",{key:C.text,className:jc({active:h===C.value}),title:C.text},qa().createElement("input",{type:"radio",
name:w,onChange:function(){return m(C.value)},checked:h===C.value}),C.icon)}))},va=function(d){var f=d.options,h=d.value,m=d.onChange,w=d.group;return qa().createElement("div",{className:"buttonList"},f.map(function(C){return qa().createElement("label",{key:C.text,className:jc({active:h===C.value})},qa().createElement("input",{type:"radio",name:w,onChange:function(){return m(C.value)},checked:h===C.value}),C.text)}))},Ga=(n(2816),function(d){var f=d.children,h=d.left,m=d.top,w=d.onCloseRequest;d=
d.fitInViewport;var C=void 0!==d&&d,S=(0,Jd.useRef)(null);return(0,Jd.useLayoutEffect)(function(){if(C&&S.current){var R=S.current,ba=R.getBoundingClientRect(),ua=ba.y,na=ba.width,Ia=ba.height,Oa=window.innerWidth;ba.x+na>Oa&&(R.style.left="".concat(Oa-na,"px"));ba=window.innerHeight;ua+Ia>ba&&(R.style.top="".concat(ba-Ia,"px"))}},[C]),(0,Jd.useEffect)(function(){if(w){var R=function(ba){var ua;null!==(ua=S.current)&&void 0!==ua&&ua.contains(ba.target)||(0,Eg.unstable_batchedUpdates)(function(){return w(ba)})};
return document.addEventListener("pointerdown",R,!1),function(){return document.removeEventListener("pointerdown",R,!1)}}},[w]),qa().createElement("div",{className:"popover",style:{top:m,left:h},ref:S},f)}),Va=(n(5574),function(d){var f=(new Option).style;return f.color=d,!!f.color}),bb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),ub=function(d){var f=d.colors,h=d.color,m=d.onChange,w=d.onClose,C=d.label,S=d.showInput,R=void 0===S||S;d=d.type;var ba=qa().useRef(),ua=
qa().useRef(),na=qa().useRef(),Ia=qa().useRef();qa().useEffect(function(){ua.current?ua.current.focus():Ia.current?Ia.current.focus():na.current&&na.current.focus()},[]);return qa().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":hb("labels.colorPicker"),onKeyDown:function(Oa){if("Tab"===Oa.key){var Na,fb=document.activeElement;if(Oa.shiftKey)fb===ba.current&&(null===(Na=Ia.current)||void 0===Na||Na.focus(),Oa.preventDefault());
else if(fb===Ia.current){var db;null===(db=ba.current)||void 0===db||db.focus();Oa.preventDefault()}}else ye(Oa.key)?(fb=document.activeElement,Na=ie.rtl,-1!==(db=Array.prototype.indexOf.call(na.current.children,fb))&&(fb=na.current.children.length-(R?1:0),na.current.children[Oa.key===(Na?"ArrowLeft":"ArrowRight")?(db+1)%fb:Oa.key===(Na?"ArrowRight":"ArrowLeft")?(fb+db-1)%fb:"ArrowDown"===Oa.key?(db+5)%fb:"ArrowUp"===Oa.key?(fb+db-5)%fb:db].focus()),Oa.preventDefault()):bb.includes(Oa.key.toLowerCase())&&
!yi(Oa.target)?(db=bb.indexOf(Oa.key.toLowerCase()),na.current.children[db].focus(),Oa.preventDefault()):"Escape"!==Oa.key&&"Enter"!==Oa.key||(Oa.preventDefault(),w());Oa.nativeEvent.stopImmediatePropagation()}},qa().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),qa().createElement("div",{className:"color-picker-triangle"}),qa().createElement("div",{className:"color-picker-content",ref:function(Oa){Oa&&(na.current=Oa)},tabIndex:0},f.map(function(Oa,Na){return qa().createElement("button",
{className:"color-picker-swatch",onClick:function(fb){fb.currentTarget.focus();m(Oa)},title:"".concat(Oa," — ").concat(bb[Na].toUpperCase()),"aria-label":Oa,"aria-keyshortcuts":bb[Na],style:{color:Oa},key:Oa,ref:function(fb){fb&&0===Na&&(ba.current=fb);fb&&Oa===h&&(ua.current=fb)},onFocus:function(){m(Oa)}},"transparent"===Oa?qa().createElement("div",{className:"color-picker-transparent"}):void 0,qa().createElement("span",{className:"color-picker-keybinding"},bb[Na]))}),R&&qa().createElement(xb,{color:h,
label:C,onChange:function(Oa){m(Oa)},ref:Ia})))},xb=qa().forwardRef(function(d,f){var h=d.color,m=d.onChange;d=d.label;var w=qa().useState(h),C=w[0],S=w[1],R=qa().useRef(null);qa().useEffect(function(){S(h)},[h]);qa().useImperativeHandle(f,function(){return R.current});var ba=qa().useCallback(function(ua){ua=ua.toLowerCase();var na;(na="transparent"===ua||Va(ua)?ua:Va("#".concat(ua))?"#".concat(ua):null)&&m(na);S(ua)},[m]);return qa().createElement("label",{className:"color-input-container"},qa().createElement("div",
{className:"color-picker-hash"},"#"),qa().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(ua){return ba(ua.target.value)},value:(C||"").replace(/^#/,""),onBlur:function(){return S(h)},ref:R}))}),yb=function(d){var f=d.type,h=d.color,m=d.onChange;d=d.label;var w=qa().useState(!1),C=w[0],S=w[1],R=qa().useRef(null);return qa().createElement("div",null,qa().createElement("div",{className:"color-picker-control-container"},qa().createElement("button",
{className:"color-picker-label-swatch","aria-label":d,style:h?{"--swatch-color":h}:void 0,onClick:function(){return S(!C)},ref:R}),qa().createElement(xb,{color:h,label:d,onChange:function(ba){m(ba)}})),qa().createElement(qa().Suspense,{fallback:""},C?qa().createElement(Ga,{onCloseRequest:function(ba){return ba.target!==R.current&&S(!1)}},qa().createElement(ub,{colors:Eh[f],color:h||null,onChange:function(ba){m(ba)},onClose:function(){var ba;S(!1);null===(ba=R.current)||void 0===ba||ba.focus()},label:d,
showInput:!1,type:f})):null))},Zb=n(6950),Jc=n.n(Zb);n(7143);var Qc=function(d,f,h){return d.map(function(m){var w;return f.selectedElementIds[m.id]||m.id===(null===(w=f.editingElement)||void 0===w?void 0:w.id)?h(m):m})},$e=function(d,f,h,m){var w,C,S=f.editingElement;d=dd(d);return null!==(w=null!==(C=S&&h(S))&&void 0!==C?C:wf(d,f)?function(R,ba,ua){R=Array.from(new Set(Ee(R,ba).map(function(na){return ua(na)})));return 1===R.length?R[0]:null}(d,f,h):m)&&void 0!==w?w:null},od=(cd({name:"changeStrokeColor",
perform:function(d,f,h){return{elements:Qc(d,f,function(m){return Ye(m,{strokeColor:h})}),appState:Td(Td({},f),{},{currentItemStrokeColor:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState;d=d.updateData;return qa().createElement(qa().Fragment,null,qa().createElement("h3",{"aria-hidden":"true"},hb("labels.stroke")),qa().createElement(yb,{type:"elementStroke",label:hb("labels.stroke"),color:$e(f,h,function(m){return m.strokeColor},h.currentItemStrokeColor),onChange:d}))}}),
cd({name:"changeBackgroundColor",perform:function(d,f,h){return{elements:Qc(d,f,function(m){return Ye(m,{backgroundColor:h})}),appState:Td(Td({},f),{},{currentItemBackgroundColor:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState;d=d.updateData;return qa().createElement(qa().Fragment,null,qa().createElement("h3",{"aria-hidden":"true"},hb("labels.background")),qa().createElement(yb,{type:"elementBackground",label:hb("labels.background"),color:$e(f,h,function(m){return m.backgroundColor},
h.currentItemBackgroundColor),onChange:d}))}}),cd({name:"changeFillStyle",perform:function(d,f,h){return{elements:Qc(d,f,function(m){return Ye(m,{fillStyle:h})}),appState:Td(Td({},f),{},{currentItemFillStyle:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.fill")),qa().createElement(pa,{options:[{value:"hachure",text:hb("labels.hachure"),icon:qa().createElement(ql,
{appearance:h.appearance})},{value:"cross-hatch",text:hb("labels.crossHatch"),icon:qa().createElement($h,{appearance:h.appearance})},{value:"solid",text:hb("labels.solid"),icon:qa().createElement(ei,{appearance:h.appearance})}],group:"fill",value:$e(f,h,function(w){return w.fillStyle},h.currentItemFillStyle),onChange:function(w){m(w)}}))}}),cd({name:"changeStrokeWidth",perform:function(d,f,h){return{elements:Qc(d,f,function(m){return Ye(m,{strokeWidth:h})}),appState:Td(Td({},f),{},{currentItemStrokeWidth:h}),
commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.strokeWidth")),qa().createElement(pa,{group:"stroke-width",options:[{value:1,text:hb("labels.thin"),icon:qa().createElement(Jj,{appearance:h.appearance,strokeWidth:2})},{value:2,text:hb("labels.bold"),icon:qa().createElement(Jj,{appearance:h.appearance,strokeWidth:6})},{value:4,text:hb("labels.extraBold"),icon:qa().createElement(Jj,
{appearance:h.appearance,strokeWidth:10})}],value:$e(f,h,function(w){return w.strokeWidth},h.currentItemStrokeWidth),onChange:function(w){return m(w)}}))}}),cd({name:"changeSloppiness",perform:function(d,f,h){return{elements:Qc(d,f,function(m){return Ye(m,{seed:ii(),roughness:h})}),appState:Td(Td({},f),{},{currentItemRoughness:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement("fieldset",null,qa().createElement("legend",null,
hb("labels.sloppiness")),qa().createElement(pa,{group:"sloppiness",options:[{value:0,text:hb("labels.architect"),icon:qa().createElement(Mi,{appearance:h.appearance})},{value:1,text:hb("labels.artist"),icon:qa().createElement(Zk,{appearance:h.appearance})},{value:2,text:hb("labels.cartoonist"),icon:qa().createElement(sf,{appearance:h.appearance})}],value:$e(f,h,function(w){return w.roughness},h.currentItemRoughness),onChange:function(w){return m(w)}}))}}),cd({name:"changeStrokeStyle",perform:function(d,
f,h){return{elements:Qc(d,f,function(m){return Ye(m,{strokeStyle:h})}),appState:Td(Td({},f),{},{currentItemStrokeStyle:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.strokeStyle")),qa().createElement(pa,{group:"strokeStyle",options:[{value:"solid",text:hb("labels.strokeStyle_solid"),icon:qa().createElement(ig,{appearance:h.appearance})},{value:"dashed",text:hb("labels.strokeStyle_dashed"),
icon:qa().createElement(kh,{appearance:h.appearance})},{value:"dotted",text:hb("labels.strokeStyle_dotted"),icon:qa().createElement(jg,{appearance:h.appearance})}],value:$e(f,h,function(w){return w.strokeStyle},h.currentItemStrokeStyle),onChange:function(w){return m(w)}}))}}),cd({name:"changeOpacity",perform:function(d,f,h){return{elements:Qc(d,f,function(m){return Ye(m,{opacity:h})}),appState:Td(Td({},f),{},{currentItemOpacity:h}),commitToHistory:!0}},PanelComponent:function(d){var f,h=d.elements,
m=d.appState,w=d.updateData;return qa().createElement("label",{className:"control-label"},hb("labels.opacity"),qa().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(C){return w(+C.target.value)},onWheel:function(C){C.stopPropagation();var S=+C.target.value;0>C.deltaY&&100>S?w(S+10):0<C.deltaY&&0<S&&w(S-10)},value:null!==(f=$e(h,m,function(C){return C.opacity},m.currentItemOpacity))&&void 0!==f?f:void 0}))}}),cd({name:"changeFontSize",perform:function(d,f,h){return{elements:Qc(d,
f,function(m){return lf(m)?(m=Ye(m,{fontSize:h}),Nj(m),m):m}),appState:Td(Td({},f),{},{currentItemFontSize:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.fontSize")),qa().createElement(va,{group:"font-size",options:[{value:16,text:hb("labels.small")},{value:20,text:hb("labels.medium")},{value:28,text:hb("labels.large")},{value:36,text:hb("labels.veryLarge")}],value:$e(f,
h,function(w){return lf(w)&&w.fontSize},h.currentItemFontSize||Pb.n5),onChange:function(w){return m(w)}}))}}),cd({name:"changeFontFamily",perform:function(d,f,h){return{elements:Qc(d,f,function(m){return lf(m)?(m=Ye(m,{fontFamily:h}),Nj(m),m):m}),appState:Td(Td({},f),{},{currentItemFontFamily:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;d=[{value:1,text:hb("labels.handDrawn")},{value:2,text:hb("labels.normal")},{value:3,text:hb("labels.code")}];
return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.fontFamily")),qa().createElement(va,{group:"font-family",options:d,value:$e(f,h,function(w){return lf(w)&&w.fontFamily},h.currentItemFontFamily||Pb.rk),onChange:function(w){return m(w)}}))}}),cd({name:"changeTextAlign",perform:function(d,f,h){return{elements:Qc(d,f,function(m){return lf(m)?(m=Ye(m,{textAlign:h}),Nj(m),m):m}),appState:Td(Td({},f),{},{currentItemTextAlign:h}),commitToHistory:!0}},PanelComponent:function(d){var f=
d.elements,h=d.appState,m=d.updateData;return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.textAlign")),qa().createElement(va,{group:"text-align",options:[{value:"left",text:hb("labels.left")},{value:"center",text:hb("labels.center")},{value:"right",text:hb("labels.right")}],value:$e(f,h,function(w){return lf(w)&&w.textAlign},h.currentItemTextAlign),onChange:function(w){return m(w)}}))}}),cd({name:"changeSharpness",perform:function(d,f,h){var m=Yi(dd(d),f),w=m.length?
m.every(function(C){return!Md(C)}):!Yg(f.elementType);m=m.length?m.every(Md):Yg(f.elementType);return{elements:Qc(d,f,function(C){return Ye(C,{strokeSharpness:h})}),appState:Td(Td({},f),{},{currentItemStrokeSharpness:w?h:f.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:m?h:f.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.edges")),
qa().createElement(pa,{group:"edges",options:[{value:"sharp",text:hb("labels.sharp"),icon:qa().createElement(kl,{appearance:h.appearance})},{value:"round",text:hb("labels.round"),icon:qa().createElement(Oj,{appearance:h.appearance})}],value:$e(f,h,function(w){return w.strokeSharpness},Ki(h.elementType)&&(Yg(h.elementType)?h.currentItemLinearStrokeSharpness:h.currentItemStrokeSharpness)||null),onChange:function(w){return m(w)}}))}}),cd({name:"changeArrowhead",perform:function(d,f,h){var m;return{elements:Qc(d,
f,function(w){if(Md(w)){var C=h.position,S=h.type;if("start"===C)return Ye(w,{startArrowhead:S});if("end"===C)return Ye(w,{endArrowhead:S})}return w}),appState:Td(Td({},f),{},(m={},m["start"===h.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=h.type,m)),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;d=ie.rtl;return qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.arrowheads")),qa().createElement("div",{className:"iconSelectList"},
qa().createElement(xf,{label:"arrowhead_start",options:[{value:null,text:hb("labels.arrowhead_none"),icon:qa().createElement(If,{appearance:h.appearance}),keyBinding:"q"},{value:"arrow",text:hb("labels.arrowhead_arrow"),icon:qa().createElement(cl,{appearance:h.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:hb("labels.arrowhead_bar"),icon:qa().createElement(Pj,{appearance:h.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:hb("labels.arrowhead_dot"),icon:qa().createElement($k,{appearance:h.appearance,
flip:!d}),keyBinding:"r"}],value:$e(f,h,function(w){return Md(w)&&"arrow"===w.type?w.startArrowhead:h.currentItemStartArrowhead},h.currentItemStartArrowhead),onChange:function(w){return m({position:"start",type:w})}}),qa().createElement(xf,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:hb("labels.arrowhead_none"),keyBinding:"q",icon:qa().createElement(If,{appearance:h.appearance})},{value:"arrow",text:hb("labels.arrowhead_arrow"),keyBinding:"w",icon:qa().createElement(cl,{appearance:h.appearance,
flip:d})},{value:"bar",text:hb("labels.arrowhead_bar"),keyBinding:"e",icon:qa().createElement(Pj,{appearance:h.appearance,flip:d})},{value:"dot",text:hb("labels.arrowhead_dot"),keyBinding:"r",icon:qa().createElement($k,{appearance:h.appearance,flip:d})}],value:$e(f,h,function(w){return Md(w)&&"arrow"===w.type?w.endArrowhead:h.currentItemEndArrowhead},h.currentItemEndArrowhead),onChange:function(w){return m({position:"end",type:w})}})))}}),n(2189)),Qd=n.n(od),df=qa().createContext(!1),Ke=function(){return window.matchMedia?
window.matchMedia(Qd().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},Qe=function(d){d=d.children;var f=(0,Jd.useRef)();f.current||(f.current=Ke());var h=(0,Jd.useState)(f.current.matches),m=h[0],w=h[1];return(0,Jd.useEffect)(function(){var C=function(){return w(f.current.matches)};return f.current.addListener(C),function(){return f.current.removeListener(C)}},[]),qa().createElement(df.Provider,{value:m},d)};cd({name:"changeViewBackgroundColor",perform:function(d,
f,h){return{appState:Wd(Wd({},f),{},{viewBackgroundColor:h}),commitToHistory:!0}},PanelComponent:function(d){var f=d.appState,h=d.updateData;return qa().createElement("div",{style:{position:"relative"}},qa().createElement(yb,{label:hb("labels.canvasBackground"),type:"canvasBackground",color:f.viewBackgroundColor,onChange:function(m){return h(m)}}))}});cd({name:"clearCanvas",perform:function(d,f){return{elements:d.map(function(h){return Ye(h,{isDeleted:!0})}),appState:Wd(Wd({},jj()),{},{appearance:f.appearance,
elementLocked:f.elementLocked,exportBackground:f.exportBackground,exportEmbedScene:f.exportEmbedScene,gridSize:f.gridSize,shouldAddWatermark:f.shouldAddWatermark,showStats:f.showStats,pasteDialog:f.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var f=d.updateData;return qa().createElement(Gd,{type:"button",icon:oc,title:hb("buttons.clearReset"),"aria-label":hb("buttons.clearReset"),showAriaLabel:qf(),onClick:function(){window.confirm(hb("alerts.clearReset"))&&f(null)}})}});cd({name:"zoomIn",
perform:function(d,f){d=Oh(dj(f.zoom.value+Pb.V4),f.zoom,{left:f.offsetLeft,top:f.offsetTop},{x:f.width/2,y:f.height/2});return{appState:Wd(Wd({},f),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var f=d.updateData;return qa().createElement(Gd,{type:"button",icon:Ic,title:"".concat(hb("buttons.zoomIn")," — ").concat(wc("CtrlOrCmd++")),"aria-label":hb("buttons.zoomIn"),onClick:function(){f(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[Fd]||d.shiftKey)}});
cd({name:"zoomOut",perform:function(d,f){d=Oh(dj(f.zoom.value-Pb.V4),f.zoom,{left:f.offsetLeft,top:f.offsetTop},{x:f.width/2,y:f.height/2});return{appState:Wd(Wd({},f),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var f=d.updateData;return qa().createElement(Gd,{type:"button",icon:xh,title:"".concat(hb("buttons.zoomOut")," — ").concat(wc("CtrlOrCmd+-")),"aria-label":hb("buttons.zoomOut"),onClick:function(){f(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===
d.code)&&(d[Fd]||d.shiftKey)}});cd({name:"resetZoom",perform:function(d,f){return{appState:Wd(Wd({},f),{},{zoom:Oh(1,f.zoom,{left:f.offsetLeft,top:f.offsetTop},{x:f.width/2,y:f.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var f=d.updateData;return qa().createElement(Gd,{type:"button",icon:uc,title:hb("buttons.resetZoom"),"aria-label":hb("buttons.resetZoom"),onClick:function(){f(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[Fd]||d.shiftKey)}});var Yd=
function(d,f,h){d=dd(d);var m=Ee(d,f);m=h&&0<m.length?Yc(m):Yc(d);h=Oh(Math.min(Math.max(Math.floor(Math.min(f.width/(m[2]-m[0]),f.height/(m[3]-m[1]))/Pb.V4)*Pb.V4,Pb.V4),1),f.zoom,{left:f.offsetLeft,top:f.offsetTop});d=(m[0]+m[2])/2;m=(m[1]+m[3])/2;return{appState:Wd(Wd(Wd({},f),jh({scenePoint:{x:d,y:m},viewportDimensions:{width:f.width,height:f.height},zoom:h})),{},{zoom:h}),commitToHistory:!1}};cd({name:"zoomToSelection",perform:function(d,f){return Yd(d,f,!0)},keyTest:function(d){return"Digit2"===
d.code&&d.shiftKey&&!d.altKey&&!d[Fd]}});cd({name:"zoomToFit",perform:function(d,f){return Yd(d,f,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[Fd]}});var Re,He,Oe=cd({name:"finalize",perform:function(d,f,h,m){var w,C;h=m.canvas;if(f.editingLinearElement){m=f.editingLinearElement;var S=m.startBindingElement,R=m.endBindingElement,ba=hf.getElement(m.elementId);if(ba)return tg(ba)&&yd(ba,S,R),{elements:2>ba.points.length||Tf(ba)?d.filter(function(Ia){return Ia.id!==ba.id}):
void 0,appState:Zf(Zf({},f),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(m=f.multiElement?f.multiElement:"draw"===(null===(C=f.editingElement)||void 0===C?void 0:C.type)?f.editingElement:null){"draw"!==m.type&&"touch"!==f.lastPointerDownWith&&(C=m.points,(S=m.lastCommittedPoint)&&C[C.length-1]===S||Bd(m,{points:m.points.slice(0,-1)}));Tf(m)&&(d=d.slice(0,-1));C=ph(m.points,f.zoom.value);if(("line"===
m.type||"draw"===m.type)&&C){var ua=m.points,na=ua[0];Bd(m,{points:ua.map(function(Ia,Oa){return Oa===ua.length-1?[na[0],na[1]]:Ia})})}tg(m)&&!C&&1<m.points.length&&(S=hf.getPointAtIndexGlobalCoordinates(m,-1),C=S[0],S=S[1],zg(m,f,rd.getScene(m),{x:C,y:S}));f.elementLocked||"draw"===f.elementType||(f.selectedElementIds[m.id]=!0)}return(f.elementLocked||"draw"===f.elementType)&&m||Le(h),{elements:d,appState:Zf(Zf({},f),{},{elementType:(f.elementLocked||"draw"===f.elementType)&&m?f.elementType:"selection",
draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:m&&!f.elementLocked&&"draw"!==f.elementType?Zf(Zf({},f.selectedElementIds),{},(w={},w[m.id]=!0,w)):f.selectedElementIds}),commitToHistory:"draw"===f.elementType}},keyTest:function(d,f){return"Escape"===d.key&&(null!==f.editingLinearElement||!f.draggingElement&&null===f.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==f.multiElement},PanelComponent:function(d){var f=d.appState;
d=d.updateData;return qa().createElement(Gd,{type:"button",icon:kf,title:hb("buttons.done"),"aria-label":hb("buttons.done"),onClick:d,visible:null!=f.multiElement})}}),Vf="undefined"!=typeof B&&null!==(Re=B.env)&&void 0!==Re&&Re.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,f,h,m){window.gtag("event",f,{event_category:d,event_label:h,value:m})}:("undefined"!=typeof B&&null!==(He=B.env)&&void 0!==He&&He.JEST_WORKER_ID,function(d,f,h,m){}),pg=(n(8518),function(){var d=
function(f,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(m[C]=w[C])})(f,h)};return function(f,h){function m(){this.constructor=f}d(f,h);f.prototype=null===h?Object.create(h):(m.prototype=h.prototype,new m)}}()),di=function(d){function f(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var w,C;m=this;return m=d.apply(this,h)||this,w=C=m,m.handleFocus=function(S){S=
S.currentTarget;var R=window.getSelection();if(R){var ba=document.createRange();ba.selectNodeContents(S);R.removeAllRanges();R.addRange(ba)}},m.handleBlur=function(S){S=S.currentTarget.innerText.trim();S!==C.props.value&&C.props.onChange(S);(S=window.getSelection())&&S.removeAllRanges()},m.handleKeyDown=function(S){"Enter"!==S.key||(S.preventDefault(),S.nativeEvent.isComposing||229===S.keyCode)||S.currentTarget.blur()},m.makeEditable=function(S){if(S)try{S.contentEditable="plaintext-only"}catch(R){S.contentEditable=
"true"}},w}return pg(f,d),f.prototype.render=function(){return qa().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},f}(Jd.Component),uj=(n(2680),function(d){var f=d.children,h=d.label,m=d.position;m=void 0===m?"below":m;d=d.long;d=void 0!==d&&d;return qa().createElement("div",{className:"Tooltip"},
qa().createElement("span",{className:"above"===m?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},h),f)}),Gj=function(d){var f=d.title?d.title:"dark"===d.value?hb("buttons.lightMode"):hb("buttons.darkMode");return qa().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:f},qa().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(h){return d.onChange(h.target.checked?
"dark":"light")},checked:"dark"===d.value,"aria-label":f}),qa().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Xi.MOON:Xi.SUN))},Xi={SUN:qa().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},qa().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:qa().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},qa().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const Sd="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",on=Sd?"chooseFileSystemEntries"===Sd?n.e(736).then(n.bind(n,9012)):n.e(736).then(n.bind(n,499)):n.e(736).then(n.bind(n,5034));Sd?"chooseFileSystemEntries"===Sd?n.e(736).then(n.bind(n,6980)):n.e(736).then(n.bind(n,868)):n.e(736).then(n.bind(n,3110));const qk=Sd?"chooseFileSystemEntries"===Sd?n.e(736).then(n.bind(n,1170)):n.e(736).then(n.bind(n,7814)):n.e(736).then(n.bind(n,4001));var bk,Rj=function(d,f){if(null!=f&&f.collaborators&&
(f=f.collaborators.get(d),null!=f&&f.color))return f.color;d=d.split("").reduce(function(m,w){return m+w.charCodeAt(0)},0);f=Eh.elementBackground.slice(1);var h=Eh.elementStroke.slice(1);return{background:f[d%f.length],stroke:h[d%h.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(bk||(bk={}));var Jk=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),ik=function(d,f,h,m,w,C,S,R,ba){void 0===ba&&(ba=!1);d.translate(C,S);d.rotate(R);ba&&d.fillRect(f-C,h-S,m,w);d.strokeRect(f-C,h-S,m,w);d.rotate(-R);d.translate(-C,-S)},vk=function(d,f,h,m){d.beginPath();d.arc(f,h,m,0,2*Math.PI);d.fill();d.stroke()},Ul=function(d,f,h,m,w,C,S,R){var ba=void 0===R?{}:R;R=ba.renderScrollbars;R=void 0===R||R;var ua=ba.renderSelection,na=void 0===ua||ua;ua=ba.renderOptimizations;var Ia=void 0!==ua&&ua;ba=ba.renderGrid;var Oa=void 0===ba||ba;if(!C)return{atLeastOneVisibleElement:!1};
var Na=C.getContext("2d");Na.scale(m,m);var fb=C.width/m,db=C.height/m;(S.exportWithDarkMode&&(Na.filter=Pb.Gi),"string"==typeof S.viewBackgroundColor)?(("transparent"===S.viewBackgroundColor||5===S.viewBackgroundColor.length||9===S.viewBackgroundColor.length||/(hsla|rgba)\(/.test(S.viewBackgroundColor))&&Na.clearRect(0,0,fb,db),ba=Na.fillStyle,Na.fillStyle=S.viewBackgroundColor,Na.fillRect(0,0,fb,db),Na.fillStyle=ba):Na.clearRect(0,0,fb,db);ba=S.zoom.translation.x;ua=S.zoom.translation.y;Na.translate(ba,
ua);Na.scale(S.zoom.value,S.zoom.value);Oa&&f.gridSize&&function(zc,Vc,ad,Hd,Ag,dh){var oi=zc.strokeStyle;zc.strokeStyle="rgba(0,0,0,0.1)";zc.beginPath();for(var Nh=ad;Nh<ad+Ag+2*Vc;Nh+=Vc)zc.moveTo(Nh,Hd-Vc),zc.lineTo(Nh,Hd+dh+2*Vc);for(Nh=Hd;Nh<Hd+dh+2*Vc;Nh+=Vc)zc.moveTo(ad-Vc,Nh),zc.lineTo(ad+Ag+2*Vc,Nh);zc.stroke();zc.strokeStyle=oi}(Na,f.gridSize,-Math.ceil(ba/S.zoom.value/f.gridSize)*f.gridSize+S.scrollX%f.gridSize,-Math.ceil(ua/S.zoom.value/f.gridSize)*f.gridSize+S.scrollY%f.gridSize,fb/S.zoom.value,
db/S.zoom.value);C=d.filter(function(zc){var Vc={zoom:S.zoom,offsetLeft:f.offsetLeft,offsetTop:f.offsetTop,scrollX:S.scrollX,scrollY:S.scrollY},ad=eg(zc);zc=ad[0];var Hd=ad[1],Ag=ad[2];ad=ad[3];var dh=Lf({clientX:Vc.offsetLeft,clientY:Vc.offsetTop},Vc);Vc=Lf({clientX:Vc.offsetLeft+fb,clientY:Vc.offsetTop+db},Vc);return dh.x<=Ag&&dh.y<=ad&&Vc.x>=zc&&Vc.y>=Hd});(C.forEach(function(zc){wk(zc,w,Na,Ia,S)}),f.editingLinearElement)&&(Oa=hf.getElement(f.editingLinearElement.elementId))&&function(zc,Vc,ad,
Hd){zc.translate(ad.scrollX,ad.scrollY);var Ag=zc.strokeStyle,dh=zc.lineWidth;zc.lineWidth=1/ad.zoom.value;hf.getPointsGlobalCoordinates(Hd).forEach(function(oi,Nh){var rk;zc.strokeStyle="red";zc.setLineDash([]);zc.fillStyle=(null===(rk=Vc.editingLinearElement)||void 0===rk?void 0:rk.activePointIndex)===Nh?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";vk(zc,oi[0],oi[1],hf.POINT_HANDLE_SIZE/2/ad.zoom.value)});zc.setLineDash([]);zc.lineWidth=dh;zc.translate(-ad.scrollX,-ad.scrollY);zc.strokeStyle=
Ag}(Na,f,S,Oa);if(h&&wk(h,w,Na,Ia,S),f.isBindingEnabled&&f.suggestedBindings.filter(function(zc){return null!=zc}).forEach(function(zc){var Vc=Na.strokeStyle,ad=Na.lineWidth,Hd=Array.isArray(zc)?Rh:Kk;Na.translate(S.scrollX,S.scrollY);Hd(Na,zc);Na.strokeStyle=Vc;Na.lineWidth=ad;Na.translate(-S.scrollX,-S.scrollY)}),na&&!f.multiElement&&!f.editingLinearElement){var Cb=d.reduce(function(zc,Vc){var ad=[];if(f.selectedElementIds[Vc.id]&&null==Dj(f,Vc)&&ad.push(hd.Sn),S.remoteSelectedElementIds[Vc.id]&&
ad.push.apply(ad,S.remoteSelectedElementIds[Vc.id].map(function(Ag){return Rj(Ag,f).background})),ad.length){var Hd=Me(Vc);zc.push({angle:Vc.angle,elementX1:Hd[0],elementY1:Hd[1],elementX2:Hd[2],elementY2:Hd[3],selectionColors:ad})}return zc},[]);h=function(zc){zc=lj(d,zc);zc=Yc(zc);Cb.push({angle:0,elementX1:zc[0],elementX2:zc[2],elementY1:zc[1],elementY2:zc[3],selectionColors:[hd.Sn]})};na=0;for(Oa=Xj(f);na<Oa.length;na++)h(Oa[na]);f.editingGroupId&&h(f.editingGroupId);Cb.forEach(function(zc){var Vc=
zc.angle,ad=zc.elementX1,Hd=zc.elementY1,Ag=zc.selectionColors,dh=zc.elementX2-ad;zc=zc.elementY2-Hd;var oi=Na.getLineDash(),Nh=Na.lineWidth,rk=Na.lineDashOffset,ul=Na.strokeStyle,Dk=4/S.zoom.value,Nl=8/S.zoom.value,zm=4/S.zoom.value;Na.lineWidth=1/S.zoom.value;Na.translate(S.scrollX,S.scrollY);for(var Zm=Ag.length,Ol=0;Ol<Zm;++Ol)Na.strokeStyle=Ag[Ol],Na.setLineDash([Nl,zm+(Nl+zm)*(Zm-1)]),Na.lineDashOffset=(Nl+zm)*Ol,ik(Na,ad-Dk,Hd-Dk,dh+2*Dk,zc+2*Dk,ad+dh/2,Hd+zc/2,Vc);Na.lineDashOffset=rk;Na.strokeStyle=
ul;Na.lineWidth=Nh;Na.setLineDash(oi);Na.translate(-S.scrollX,-S.scrollY)});na=Ee(d,f);if(Na.translate(S.scrollX,S.scrollY),1===na.length)Na.fillStyle=hd.ix,h=gg(na[0],S.zoom,"mouse"),f.viewModeEnabled||dl(Na,S,h,na[0].angle);else if(1<na.length&&!f.isRotating){h=4/S.zoom.value;Na.fillStyle=hd.ix;var ec=Yc(na);na=ec[0];Oa=ec[1];var gc=ec[2];ec=ec[3];var sc=Na.getLineDash();Na.setLineDash([2/S.zoom.value]);var pd=Na.lineWidth;Na.lineWidth=1/S.zoom.value;ik(Na,na-h,Oa-h,gc-na+2*h,ec-Oa+2*h,(na+gc)/
2,(Oa+ec)/2,0);Na.lineWidth=pd;Na.setLineDash(sc);h=Aj([na,Oa,gc,ec],0,S.zoom,"mouse",Ci);dl(Na,S,h,0)}Na.translate(-S.scrollX,-S.scrollY)}for(var nd in Na.scale(1/S.zoom.value,1/S.zoom.value),Na.translate(-ba,-ua),S.remotePointerViewportCoords){ba=S.remotePointerViewportCoords[nd];gc=ba.x;ec=ba.y;gc-=f.offsetLeft;ec-=f.offsetTop;sc=0>gc||gc>fb-9||0>ec||ec>db-14;gc=Math.max(gc,0);gc=Math.min(gc,fb-9);ec=Math.max(ec,0);ec=Math.min(ec,db-14);ba=Rj(nd,f);ua=ba.background;h=ba.stroke;na=Na.strokeStyle;
Oa=(ba=Na.fillStyle,Na.globalAlpha);Na.strokeStyle=h;Na.fillStyle=ua;pd=S.remotePointerUserStates[nd];(sc||pd===bk.AWAY)&&(Na.globalAlpha=.48);S.remotePointerButton&&"down"===S.remotePointerButton[nd]&&(Na.beginPath(),Na.arc(gc,ec,15,0,2*Math.PI,!1),Na.lineWidth=3,Na.strokeStyle="#ffffff88",Na.stroke(),Na.closePath(),Na.beginPath(),Na.arc(gc,ec,15,0,2*Math.PI,!1),Na.lineWidth=1,Na.strokeStyle=h,Na.stroke(),Na.closePath());Na.beginPath();Na.moveTo(gc,ec);Na.lineTo(gc+1,ec+14);Na.lineTo(gc+4,ec+9);
Na.lineTo(gc+9,ec+10);Na.lineTo(gc,ec);Na.fill();Na.stroke();var Dd=S.remotePointerUsernames[nd],vd="";pd===bk.AWAY?vd=Jk?"⚫️":" (".concat(bk.AWAY,")"):pd===bk.IDLE?vd=Jk?"\ud83d\udca4":" (".concat(bk.IDLE,")"):pd===bk.ACTIVE&&(vd=Jk?"\ud83d\udfe2":"");pd="".concat(Dd?"".concat(Dd," "):"").concat(vd);!sc&&pd&&(gc+=9,ec+=14,sc=Na.measureText(pd),Dd=sc.actualBoundingBoxDescent+sc.actualBoundingBoxAscent,Na.fillStyle=h,Na.fillRect(gc-1,ec-1,sc.width+8+2,Dd+8+2),Na.fillStyle=ua,Na.fillRect(gc,ec,sc.width+
8,Dd+8),Na.fillStyle=hd.ix,Na.fillText(pd,gc+4,ec+4+sc.actualBoundingBoxAscent));Na.strokeStyle=na;Na.fillStyle=ba;Na.globalAlpha=Oa;Na.closePath()}if(R){var Pd=function(zc,Vc,ad,Hd){var Ag=Hd.scrollX,dh=Hd.scrollY,oi=Hd.zoom;if(0===zc.length)return{horizontal:null,vertical:null};Hd=Yc(zc);var Nh=Hd[0],rk=Hd[1];zc=Hd[2];Hd=Hd[3];var ul=Vc/oi.value,Dk=ad/oi.value,Nl=Vc-ul,zm=ad-Dk;oi=parseInt(Mf("sat"));var Zm=parseInt(Mf("sab")),Ol=parseInt(Mf("sal")),no=parseInt(Mf("sar")),aq=ie.rtl;Ag=Nl/2-Ag+Ol;
dh=zm/2-dh+oi;ul=Ag+ul-no;Dk=dh+Dk-Zm;Nh=Math.min(Nh,Ag);rk=Math.min(rk,dh);zc=Math.max(zc,ul);Hd=Math.max(Hd,Dk);return{horizontal:Ag===Nh&&ul===zc?null:{x:Math.max(Ol,4)+(Ag-Nh)/(zc-Nh)*Vc,y:ad-6-Math.max(4,Zm),width:(ul-Ag)/(zc-Nh)*Vc-Math.max(8,Ol+no),height:6},vertical:dh===rk&&Dk===Hd?null:{x:aq?Math.max(Ol,4):Vc-6-Math.max(no,4),y:(dh-rk)/(Hd-rk)*ad+Math.max(oi,4),width:6,height:(Dk-dh)/(Hd-rk)*ad-Math.max(8,oi+Zm)}}}(d,fb,db,S);ba=Na.fillStyle;na=Na.strokeStyle;Na.fillStyle="rgba(0,0,0,0.3)";
Na.strokeStyle="rgba(255,255,255,0.8)";[Pd.horizontal,Pd.vertical].forEach(function(zc){if(zc){var Vc=zc.x,ad=zc.y,Hd=zc.width;zc=zc.height;Na.beginPath();Na.moveTo(Vc+3,ad);Na.lineTo(Vc+Hd-3,ad);Na.quadraticCurveTo(Vc+Hd,ad,Vc+Hd,ad+3);Na.lineTo(Vc+Hd,ad+zc-3);Na.quadraticCurveTo(Vc+Hd,ad+zc,Vc+Hd-3,ad+zc);Na.lineTo(Vc+3,ad+zc);Na.quadraticCurveTo(Vc,ad+zc,Vc,ad+zc-3);Na.lineTo(Vc,ad+3);Na.quadraticCurveTo(Vc,ad,Vc+3,ad);Na.closePath();Na.fill();Na.stroke()}});Na.fillStyle=ba;Na.strokeStyle=na}return Na.scale(1/
m,1/m),{atLeastOneVisibleElement:0<C.length,scrollBars:Pd}},dl=function(d,f,h,m){Object.keys(h).forEach(function(w){var C=h[w];if(void 0!==C){var S=d.lineWidth;d.lineWidth=1/f.zoom.value;"rotation"===w?vk(d,C[0]+C[2]/2,C[1]+C[3]/2,C[2]/2):ik(d,C[0],C[1],C[2],C[3],C[0]+C[2]/2,C[1]+C[3]/2,m,!0);d.lineWidth=S}})},Kk=function(d,f){var h=Me(f),m=h[0],w=h[1],C=h[2]-m;h=h[3]-w;var S=Vi(f,C,h);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=S-4;S=2+S/2;switch(f.type){case "rectangle":case "text":ik(d,m-S,w-S,
C+2*S,h+2*S,m+C/2,w+h/2,f.angle);break;case "diamond":var R=Math.hypot(C,h);!function(ba,ua,na,Ia,Oa,Na){ba.translate(Ia,Oa);ba.rotate(Na);ba.beginPath();ba.moveTo(0,na/2);ba.lineTo(ua/2,0);ba.lineTo(0,-na/2);ba.lineTo(-ua/2,0);ba.closePath();ba.stroke();ba.rotate(-Na);ba.translate(-Ia,-Oa)}(d,C+S*R/h*2,h+S*R/C*2,m+C/2,w+h/2,f.angle);break;case "ellipse":!function(ba,ua,na,Ia,Oa,Na){ba.beginPath();ba.ellipse(Ia,Oa,ua/2,na/2,Na,0,2*Math.PI);ba.stroke()}(d,C+2*S,h+2*S,m+C/2,w+h/2,f.angle)}},Rh=function(d,
f){var h=f[0],m=f[1];f=f[2];var w=Vi(f,f.width,f.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===m?[0,-1]:"start"===m?[0]:[-1]).forEach(function(C){C=hf.getPointAtIndexGlobalCoordinates(h,C);vk(d,C[0],C[1],w)})},Qh=function(d,f,h,m){m=void 0===m?{}:m;var w=m.offsetX,C=void 0===w?0:w;m=m.offsetY;var S=void 0===m?0:m;h&&d.forEach(function(R){R.isDeleted||function(ba,ua,na,Ia,Oa){var Na=Me(ba),fb=Na[0],db=Na[1],Cb=(Na[2]-fb)/2-(ba.x-fb),ec=(Na[3]-db)/2-(ba.y-db),gc=180*
ba.angle/Math.PI;Na=ua.generator;switch(ba.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Se(ba,Na);Na=ua.draw(ag.get(ba));1!=(nd=ba.opacity/100)&&(Na.setAttribute("stroke-opacity","".concat(nd)),Na.setAttribute("fill-opacity","".concat(nd)));Na.setAttribute("transform","translate(".concat(Ia||0," ").concat(Oa||0,") rotate(").concat(gc," ").concat(Cb," ").concat(ec,")"));na.appendChild(Na);break;case "line":case "draw":case "arrow":Se(ba,
Na);var sc=na.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),pd=ba.opacity/100;ag.get(ba).forEach(function(ad){ad=ua.draw(ad);1!==pd&&(ad.setAttribute("stroke-opacity","".concat(pd)),ad.setAttribute("fill-opacity","".concat(pd)));ad.setAttribute("transform","translate(".concat(Ia||0," ").concat(Oa||0,") rotate(").concat(gc," ").concat(Cb," ").concat(ec,")"));"line"!==ba.type&&"draw"!==ba.type||!ph(ba.points)||"transparent"===ba.backgroundColor||ad.setAttribute("fill-rule","evenodd");
sc.appendChild(ad)});na.appendChild(sc);break;default:if(!lf(ba))throw Error("Unimplemented type ".concat(ba.type));var nd=ba.opacity/100;Na=na.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==nd&&(Na.setAttribute("stroke-opacity","".concat(nd)),Na.setAttribute("fill-opacity","".concat(nd)));Na.setAttribute("transform","translate(".concat(Ia||0," ").concat(Oa||0,") rotate(").concat(gc," ").concat(Cb," ").concat(ec,")"));nd=ba.text.replace(/\r\n?/g,"\n").split("\n");fb=ba.height/
nd.length;db=ba.height-ba.baseline;for(var Dd="center"===ba.textAlign?ba.width/2:"right"===ba.textAlign?ba.width:0,vd=ff.test(ba.text)?"rtl":"ltr",Pd="center"===ba.textAlign?"middle":"right"===ba.textAlign||"rtl"===vd?"end":"start",zc=0;zc<nd.length;zc++){var Vc=na.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Vc.textContent=nd[zc];Vc.setAttribute("x","".concat(Dd));Vc.setAttribute("y","".concat((zc+1)*fb-db));Vc.setAttribute("font-family","".concat(Pb.ut[ba.fontFamily],", ").concat(Pb._D));
Vc.setAttribute("font-size","".concat(ba.fontSize,"px"));Vc.setAttribute("fill",ba.strokeColor);Vc.setAttribute("text-anchor",Pd);Vc.setAttribute("style","white-space: pre;");Vc.setAttribute("direction",vd);Na.appendChild(Vc)}na.appendChild(Na)}}(R,f,h,R.x+C,R.y+S)})},Lk=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},am=function(d,f,h,m){var w=h.exportBackground,C=
h.exportPadding;C=void 0===C?10:C;var S=h.viewBackgroundColor,R=h.scale,ba=void 0===R?1:R;h=h.shouldAddWatermark;void 0===m&&(m=function(na,Ia){var Oa=document.createElement("canvas");return Oa.width=na*ba,Oa.height=Ia*ba,{canvas:Oa,scale:ba}});d=pm(d,h);var ua=xl(d,C,h);h=ua[0];R=ua[1];ua=m(ua[2],ua[3]);m=ua.canvas;ua=ua.scale;return Ul(d,f,null,void 0===ua?ba:ua,ih.canvas(m),m,{viewBackgroundColor:w?S:null,exportWithDarkMode:f.exportWithDarkMode,scrollX:-h+C,scrollY:-R+C,zoom:jj().zoom,remotePointerViewportCoords:{},
remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),m},yk=function(d,f){var h=f.exportBackground,m=f.exportPadding;m=void 0===m?10:m;var w=f.viewBackgroundColor,C=f.exportWithDarkMode,S=f.scale;S=void 0===S?1:S;var R=f.shouldAddWatermark;f=f.metadata;f=void 0===f?"":f;d=pm(d,R);var ba=xl(d,m,R);R=ba[0];var ua=ba[1],na=ba[2],Ia=ba[3];ba=document.createElementNS("http://www.w3.org/2000/svg",
"svg");if(ba.setAttribute("version","1.1"),ba.setAttribute("xmlns","http://www.w3.org/2000/svg"),ba.setAttribute("viewBox","0 0 ".concat(na," ").concat(Ia)),ba.setAttribute("width","".concat(na*S)),ba.setAttribute("height","".concat(Ia*S)),C&&ba.setAttribute("filter",Pb.Gi),ba.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(f,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
h&&w)h=ba.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","".concat(na)),h.setAttribute("height","".concat(Ia)),h.setAttribute("fill",w),ba.appendChild(h);h=ih.svg(ba);return Qh(d,h,ba,{offsetX:-R+m,offsetY:-ua+m}),ba},pm=function(d,f){var h=Lk(d);f&&(d=Yc(d),f=d[2],d=d[3],d=Ai({text:hb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Pb.rk,textAlign:"right",verticalAlign:Pb.hs,x:f,y:d+16,strokeColor:hd.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),h=Lk(h,[d]));return h},xl=function(d,f,h){d=Yc(d);var m=d[0],w=d[1];return[m,w,Math.abs(m-d[2])+2*f,Math.abs(w-d[3])+f+(h?0:f)]},zl=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},Kl=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?
parseFloat(d[1].replace(/,/g,"")):null},fm=function(d,f){return d.slice(1).every(function(h){return null!==Kl(h[f])})},Ml=function(d){var f=d[0].length;if(2<f)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===f){if(!fm(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};f=null===Kl(d[0][0]);var h=(f?d.slice(1):d).map(function(C){return Kl(C[0])});return 2>h.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:f?d[0][0]:
null,labels:null,values:h}}}var m=fm(d,0)?0:1;if(!fm(d,m))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};var w=(m+1)%2;h=(f=null===Kl(d[0][m]))?d.slice(1):d;return 2>h.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:f?d[0][m]:null,labels:h.map(function(C){return C[w]}),values:h.map(function(C){return Kl(C[m])})}}},Vl=Eh.elementBackground.slice(2,Eh.elementBackground.length),wi={fillStyle:"hachure",fontFamily:Pb.rk,fontSize:Pb.n5,
opacity:100,roughness:1,strokeColor:Eh.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},Wl=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Xl=function(d,f,h,m,w,C){var S=Wl(d),R=S.chartWidth,ba=S.chartHeight;S=d.title?Ai(he(he({backgroundColor:w,groupIds:[m]},wi),{},{text:d.title,x:f+R/2,y:h-256-24-Pb.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;C=C?Jh(he(he({backgroundColor:w,groupIds:[m]},wi),{},
{type:"rectangle",x:f,y:h-ba,width:R,height:ba,strokeColor:Eh.elementStroke[0],fillStyle:"solid",opacity:6})):null;return zl(C?[C]:[],S?[S]:[],function(ua,na,Ia,Oa,Na){var fb;return(null===(fb=ua.labels)||void 0===fb?void 0:fb.map(function(db,Cb){return Ai(he(he({groupIds:[Oa],backgroundColor:Na},wi),{},{text:8<db.length?"".concat(db.slice(0,5),"..."):db,x:na+44*Cb+24,y:Ia+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,f,h,m,w),function(ua,na,Ia,Oa,Na){var fb=
Ai(he(he({groupIds:[Oa],backgroundColor:Na},wi),{},{x:na-12,y:Ia-12,text:"0",textAlign:"right"}));return[fb,Ai(he(he({groupIds:[Oa],backgroundColor:Na},wi),{},{x:na-12,y:Ia-256-fb.height/2,text:Math.max.apply(Math,ua.values).toLocaleString(),textAlign:"right"}))]}(d,f,h,m,w),function(ua,na,Ia,Oa,Na){var fb=Wl(ua);ua=fb.chartWidth;fb=fb.chartHeight;return[Kh(he(he({backgroundColor:Na,groupIds:[Oa]},wi),{},{type:"line",x:na,y:Ia,startArrowhead:null,endArrowhead:null,width:ua,points:[[0,0],[ua,0]]})),
Kh(he(he({backgroundColor:Na,groupIds:[Oa]},wi),{},{type:"line",x:na,y:Ia,startArrowhead:null,endArrowhead:null,height:fb,points:[[0,0],[0,-fb]]})),Kh(he(he({backgroundColor:Na,groupIds:[Oa]},wi),{},{type:"line",x:na,y:Ia-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:ua,opacity:50,points:[[0,0],[ua,0]]}))]}(d,f,h,m,w))},Km=function(d,f,h,m){return"line"===d?function(w,C,S){for(var R=Math.max.apply(Math,w.values),ba=ji(),ua=Vl[Math.floor(Math.random()*Vl.length)],na=0,Ia=
[],Oa=0,Na=w.values;Oa<Na.length;Oa++)Ia.push([44*na,-Na[Oa]/R*256]),na++;na=Math.max.apply(Math,Ia.map(function(db){return db[0]}));Oa=Math.max.apply(Math,Ia.map(function(db){return db[1]}));Na=Math.min.apply(Math,Ia.map(function(db){return db[0]}));var fb=Math.min.apply(Math,Ia.map(function(db){return db[1]}));Ia=Kh(he(he({backgroundColor:ua,groupIds:[ba]},wi),{},{type:"line",x:C+12+16,y:S-12,startArrowhead:null,endArrowhead:null,height:Oa-fb,width:na-Na,strokeWidth:2,points:Ia}));na=w.values.map(function(db,
Cb){Cb=44*Cb+6;db=-db/R*256+6;return Jh(he(he({backgroundColor:ua,groupIds:[ba]},wi),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:C+Cb+16,y:S+db-24,width:12,height:12}))});Oa=w.values.map(function(db,Cb){Cb=44*Cb+6;db=db/R*256+18;return Kh(he(he({backgroundColor:ua,groupIds:[ba]},wi),{},{type:"line",x:C+Cb+16+6,y:S-db,startArrowhead:null,endArrowhead:null,height:db,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,db]]}))});return zl(Xl(w,C,S,ba,ua,"production"===Pb.Vi.DEVELOPMENT),[Ia],Oa,
na)}(f,h,m):function(w,C,S){var R=Math.max.apply(Math,w.values),ba=ji(),ua=Vl[Math.floor(Math.random()*Vl.length)],na=w.values.map(function(Ia,Oa){Ia=Ia/R*256;return Jh(he(he({backgroundColor:ua,groupIds:[ba]},wi),{},{type:"rectangle",x:C+44*Oa+12,y:S-Ia-12,width:32,height:Ia}))});return zl(na,Xl(w,C,S,ba,ua,"production"===Pb.Vi.DEVELOPMENT))}(f,h,m)},Lm=function(){var d=function(f,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var C in w)Object.prototype.hasOwnProperty.call(w,
C)&&(m[C]=w[C])})(f,h)};return function(f,h){function m(){this.constructor=f}d(f,h);f.prototype=null===h?Object.create(h):(m.prototype=h.prototype,new m)}}(),Jl=function(d){function f(h,m){void 0===h&&(h="Couldn't export canvas.");void 0===m&&(m="CANVAS_ERROR");var w=d.call(this)||this;return w.name=m,w.message=h,w}return Lm(f,d),f}(Error),vm=function(d,f){var h,m,w,C,S,R,ba,ua;d={type:d.type,version:d.version||1,versionNonce:null!==(h=d.versionNonce)&&void 0!==h?h:0,isDeleted:null!==(m=d.isDeleted)&&
void 0!==m&&m,id:d.id||ji(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(w=d.strokeStyle)&&void 0!==w?w:"solid",roughness:null!==(C=d.roughness)&&void 0!==C?C:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(S=d.seed)&&void 0!==S?S:1,groupIds:null!==(R=d.groupIds)&&void 0!==R?R:[],strokeSharpness:null!==(ba=d.strokeSharpness)&&
void 0!==ba?ba:Yg(d.type)?"round":"sharp",boundElementIds:null!==(ua=d.boundElementIds)&&void 0!==ua?ua:[]};return ri(ri(ri({},d),Cj(d)),f)},wj=function(d){return(d||[]).reduce(function(f,h){if("selection"!==h.type&&!Tf(h)){a:{var m;switch(h.type){case "text":var w=h.fontSize,C=h.fontFamily;if("font"in h){w=h.font.split(" ");C=w[1];w=parseInt(w[0],10);b:{for(var S=0,R=Object.entries(Pb.ut);S<R.length;S++){var ba=R[S],ua=ba[0];if(ba[1].includes(C)){C=parseInt(ua);break b}}C=Pb.rk}}h=vm(h,{fontSize:w,
fontFamily:C,text:null!==(m=h.text)&&void 0!==m?m:"",baseline:h.baseline,textAlign:h.textAlign||Pb.Hg,verticalAlign:h.verticalAlign||Pb.hs});break a;case "draw":case "line":case "arrow":m=h.startArrowhead;m=void 0===m?null:m;w=h.endArrowhead;w=void 0===w?"arrow"===h.type?"arrow":null:w;h=vm(h,{startBinding:h.startBinding,endBinding:h.endBinding,points:!Array.isArray(h.points)||2>h.points.length?[[0,0],[h.width,h.height]]:h.points,lastCommittedPoint:null,startArrowhead:m,endArrowhead:w});break a;case "ellipse":case "rectangle":case "diamond":h=
vm(h,{});break a}h=void 0}h&&f.push(h)}return f},[])},yl=function(d,f){d=d||{};for(var h=jj(),m={},w=0,C=Object.entries(h);w<C.length;w++){var S=C[w],R=S[0];S=S[1];var ba=d[R],ua=f?f[R]:void 0;m[R]=void 0!==ba?ba:void 0!==ua?ua:S}return ri(ri({},m),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:h.zoom.translation}:d.zoom||h.zoom})},Al=function(d,f){return{elements:wj(null==d?void 0:d.elements),appState:yl(null==d?void 0:d.appState,f||
null)}},ml=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&
C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),
return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},Hh=function(){var d=ld()(function(f){var h;return ml(this,function(m){switch(m.label){case 0:if("image/png"!==f.type)return[3,6];m.label=1;case 1:return m.trys.push([1,4,,5]),[4,Promise.all([n.e(736),n.e(9)]).then(n.bind(n,8527))];case 2:return[4,m.sent().decodePngMetadata(f)];case 3:return[2,m.sent()];case 4:throw"INVALID"===m.sent().message?Error(hb("alerts.imageDoesNotContainScene")):Error(hb("alerts.cannotRestoreFromImage"));
case 5:return[3,15];case 6:return"text"in Blob?[4,f.text()]:[3,8];case 7:return h=m.sent(),[3,10];case 8:return[4,new Promise(function(w){var C=new FileReader;C.readAsText(f,"utf8");C.onloadend=function(){C.readyState===FileReader.DONE&&w(C.result)}})];case 9:h=m.sent(),m.label=10;case 10:if("image/svg+xml"!==f.type)return[3,15];m.label=11;case 11:return m.trys.push([11,14,,15]),[4,Promise.all([n.e(736),n.e(9)]).then(n.bind(n,8527))];case 12:return[4,m.sent().decodeSvgMetadata({svg:h})];case 13:return[2,
m.sent()];case 14:throw"INVALID"===m.sent().message?Error(hb("alerts.imageDoesNotContainScene")):Error(hb("alerts.cannotRestoreFromImage"));case 15:return[2,h]}})});return function(f){return d.apply(this,arguments)}}(),bm=function(){var d=ld()(function(f,h){var m,w;return ml(this,function(C){switch(C.label){case 0:return[4,Hh(f)];case 1:m=C.sent();try{if("excalidraw"!==(w=JSON.parse(m)).type)throw Error(hb("alerts.couldNotLoadInvalidFile"));var S=Fk(w.elements||[]),R=null==h?void 0:h.appearance,ba;
if(ba=f.handle){var ua=["application/json",Pb.LO.excalidraw],na=ua.includes;a:{if("string"==typeof f)var Ia=f;else{if(f.type){var Oa=f.type;break a}Ia=f.name||""}Oa=/\.(excalidraw|json)$/.test(Ia)?"application/json":/\.png$/.test(Ia)?"image/png":/\.jpe?g$/.test(Ia)?"image/jpeg":/\.svg$/.test(Ia)?"image/svg+xml":""}ba=na.call(ua,Oa)}return[2,Al({elements:S,appState:qe(qe({appearance:R,fileHandle:ba?f.handle:null},Wj(w.appState||{},"export")),h?fe(w.elements||[],h):{})},h)]}catch(Na){throw console.error(Na.message),
Error(hb("alerts.couldNotLoadInvalidFile"));}}})});return function(f,h){return d.apply(this,arguments)}}(),Yl=function(){var d=ld()(function(f){var h,m;return ml(this,function(w){switch(w.label){case 0:return[4,Hh(f)];case 1:if(h=w.sent(),"excalidrawlib"!==(m=JSON.parse(h)).type)throw Error(hb("alerts.couldNotLoadInvalidFile"));return[2,m]}})});return function(f){return d.apply(this,arguments)}}(),Mk=function(){var d=ld()(function(f){return ml(this,function(h){return[2,new Promise(function(m,w){try{f.toBlob(function(C){if(!C)return w(new Jl(hb("canvasError.canvasTooBig"),
"CANVAS_POSSIBLY_TOO_BIG"));m(C)})}catch(C){w(C)}})]})});return function(f){return d.apply(this,arguments)}}(),yj=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;
w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,
R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},Nk="",jk=!1,Mm="clipboard"in navigator&&"readText"in navigator.clipboard,el="clipboard"in navigator&&"writeText"in navigator.clipboard,fl="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Fl=function(){var d=ld()(function(f,h){var m,w,
C;return yj(this,function(S){switch(S.label){case 0:m={type:"excalidraw/elements",created:Date.now(),elements:Ee(f,h)},Nk=w=JSON.stringify(m),S.label=1;case 1:return S.trys.push([1,3,,4]),jk=!1,[4,wg(w)];case 2:return S.sent(),[3,4];case 3:return C=S.sent(),jk=!0,console.error(C),[3,4];case 4:return[2]}})});return function(f,h){return d.apply(this,arguments)}}(),qm=function(){if(!Nk)return{};try{return JSON.parse(Nk)}catch(d){return console.error(d),{}}},Bl=function(d){d=function(f){var h=f.trim().split("\n").map(function(w){return w.trim().split("\t")});
if(h.length&&2!==h[0].length&&(h=f.trim().split("\n").map(function(w){return w.trim().split(",")})),0===h.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var m=h[0].length;if(!h.every(function(w){return w.length===m}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};f=Ml(h);return"VALID_SPREADSHEET"!==f.type&&(h=Ml(function(w){for(var C=[],S=0;S<w[0].length;S++){for(var R=[],ba=0;ba<w.length;ba++)R.push(w[ba][S]);C.push(R)}return C}(h)),"VALID_SPREADSHEET"===
h.type)?h:f}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},kk=function(){var d=ld()(function(f){var h,m,w;return yj(this,function(C){switch(C.label){case 0:return C.trys.push([0,5,,6]),f?(m=null===(h=f.clipboardData)||void 0===h?void 0:h.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(w=Mm)?[4,navigator.clipboard.readText()]:[3,3];case 2:w=C.sent(),C.label=3;case 3:m=w,C.label=4;case 4:return[2,m||""];case 5:return C.sent(),[2,""];case 6:return[2]}})});return function(f){return d.apply(this,
arguments)}}(),Dl=function(){var d=ld()(function(f){var h,m,w,C;return yj(this,function(S){switch(S.label){case 0:return[4,kk(f)];case 1:if(!(h=S.sent())||h.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,qm()];if(m=Bl(h))return[2,m];w=qm();try{return C=JSON.parse(h),"excalidraw/elements"===(null==(R=C)?void 0:R.type)&&(null==w||!w.created||w.created<C.created)?[2,{elements:C.elements}]:[2,w]}catch(ba){return[2,jk&&w.elements?w:{text:h}]}}var R})});return function(f){return d.apply(this,
arguments)}}(),Cl=function(){var d=ld()(function(f){var h;return yj(this,function(m){switch(m.label){case 0:return[4,Mk(f)];case 1:return h=m.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":h})])];case 2:return m.sent(),[2]}})});return function(f){return d.apply(this,arguments)}}(),wg=function(){var d=ld()(function(f){var h,m;return yj(this,function(w){switch(w.label){case 0:if(h=!1,!el)return[3,4];w.label=1;case 1:return w.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(f||
"")];case 2:return w.sent(),h=!0,[3,4];case 3:return m=w.sent(),console.error(m),[3,4];case 4:if(w=!h){var C=f||" ",S="rtl"===document.documentElement.getAttribute("dir");w=document.createElement("textarea");w.style.border="0";w.style.padding="0";w.style.margin="0";w.style.position="absolute";w.style[S?"right":"left"]="-9999px";w.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");w.style.fontSize="12pt";w.setAttribute("readonly","");w.value=C;document.body.appendChild(w);
C=!1;try{w.select(),w.setSelectionRange(0,w.value.length),C=document.execCommand("copy")}catch(R){console.error(R)}w=!(w.remove(),C)}if(w)throw Error("couldn't copy");return[2]}})});return function(f){return d.apply(this,arguments)}}(),zj=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=
0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=
[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},q=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},F=function(){function d(){}
return d.importLibrary=function(f){return ld()(function(){var h,m,w,C;return zj(this,function(S){switch(S.label){case 0:return[4,Yl(f)];case 1:return(h=S.sent())&&h.library?(m=function(R,ba){return!R.find(function(ua){return ua.length===ba.length&&ua.every(function(na,Ia){return na.id===ba[Ia].id&&na.versionNonce===ba[Ia].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return w=S.sent(),C=h.library.reduce(function(R,ba){ba=dd(wj(ba));return m(w,ba)&&R.push(ba),R},[]),d.saveLibrary(q(w,C)),[2]}})})()},
d}();F.libraryCache=null;F.resetLibrary=function(){F.libraryCache=null;localStorage.removeItem(Pb.I.LOCAL_STORAGE_LIBRARY)};F.loadLibrary=function(){return new Promise(function(){var d=ld()(function(f){var h,m;return zj(this,function(w){if(F.libraryCache)return[2,f(JSON.parse(JSON.stringify(F.libraryCache)))];try{if(!(h=localStorage.getItem(Pb.I.LOCAL_STORAGE_LIBRARY)))return[2,f([])];m=JSON.parse(h).map(function(C){return wj(C)});F.libraryCache=JSON.parse(JSON.stringify(m));f(m)}catch(C){console.error(C),
f([])}return[2]})});return function(f){return d.apply(this,arguments)}}())};F.saveLibrary=function(d){var f=F.libraryCache;try{var h=JSON.stringify(d);F.libraryCache=JSON.parse(h);localStorage.setItem(Pb.I.LOCAL_STORAGE_LIBRARY,h)}catch(m){F.libraryCache=f,console.error(m)}};var Z=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&
!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();
R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},Ca=function(d,f){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Fk(d),appState:Wj(f,"export")},null,
2)},Ra=function(){var d=ld()(function(f,h){var m;return Z(this,function(w){switch(w.label){case 0:return m=Ca(f,h),[4,Qf(new Blob([m],{type:"application/json"}),{fileName:h.name,description:"Excalidraw file",extensions:[".excalidraw"]},h.fileHandle)];case 1:return[2,{fileHandle:w.sent()}]}})});return function(f,h){return d.apply(this,arguments)}}(),ab=function(){var d=ld()(function(f){var h;return Z(this,function(m){switch(m.label){case 0:return[4,oh({description:"Excalidraw files",extensions:[".json",
".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return h=m.sent(),[2,bm(h,f)]}})});return function(f){return d.apply(this,arguments)}}(),rb=function(){var d=ld()(function(){var f,h;return Z(this,function(m){switch(m.label){case 0:return[4,F.loadLibrary()];case 1:return f=m.sent(),h=JSON.stringify({type:"excalidrawlib",version:1,library:f},null,2),"library.excalidrawlib",[4,Qf(new Blob([h],{type:Pb.LO.excalidrawlib}),{fileName:"library.excalidrawlib",
description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return m.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),wb=function(){var d=ld()(function(){var f;return Z(this,function(h){switch(h.label){case 0:return[4,oh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return f=h.sent(),F.importLibrary(f),[2]}})});return function(){return d.apply(this,arguments)}}(),Jb=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");
for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<
C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},Wb=function(){var d=ld()(function(f,h,m,w,C){var S,
R,ba,ua,na,Ia,Oa,Na,fb,db=C.exportBackground,Cb=C.exportPadding,ec=void 0===Cb?10:Cb,gc=C.viewBackgroundColor,sc=C.name;Cb=C.scale;var pd=void 0===Cb?1:Cb,nd=C.shouldAddWatermark;return Jb(this,function(Dd){switch(Dd.label){case 0:if(0===h.length)throw Error(hb("alerts.cannotExportEmptyCanvas"));return"svg"!==f&&"clipboard-svg"!==f?[3,7]:(R=yk,ba=[h],ua={exportBackground:db,exportWithDarkMode:m.exportWithDarkMode,viewBackgroundColor:gc,exportPadding:ec,scale:pd,shouldAddWatermark:nd},m.exportEmbedScene&&
"svg"===f?[4,Promise.all([n.e(736),n.e(9)]).then(n.bind(n,8527))]:[3,3]);case 1:return[4,Dd.sent().encodeSvgMetadata({text:Ca(h,m)})];case 2:return na=Dd.sent(),[3,4];case 3:na=void 0,Dd.label=4;case 4:return S=R.apply(void 0,ba.concat([(ua.metadata=na,ua)])),"svg"!==f?[3,6]:[4,Qf(new Blob([S.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(sc,".svg"),extensions:[".svg"]})];case 5:return Dd.sent(),[2];case 6:if("clipboard-svg"===f)return wg(S.outerHTML),[2];Dd.label=7;case 7:return(Ia=am(h,
m,{exportBackground:db,viewBackgroundColor:gc,exportPadding:ec,scale:pd,shouldAddWatermark:nd})).style.display="none",document.body.appendChild(Ia),"png"!==f?[3,13]:(Oa="".concat(sc,".png"),[4,Mk(Ia)]);case 8:return Na=Dd.sent(),m.exportEmbedScene?[4,Promise.all([n.e(736),n.e(9)]).then(n.bind(n,8527))]:[3,11];case 9:return[4,Dd.sent().encodePngMetadata({blob:Na,metadata:Ca(h,m)})];case 10:Na=Dd.sent(),Dd.label=11;case 11:return[4,Qf(Na,{fileName:Oa,extensions:[".png"]})];case 12:return Dd.sent(),
[3,17];case 13:if("clipboard"!==f)return[3,17];Dd.label=14;case 14:return Dd.trys.push([14,16,,17]),[4,Cl(Ia)];case 15:return Dd.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(fb=Dd.sent()).name)throw fb;throw Error(hb("alerts.couldNotCopyToClipboard"));case 17:return Ia!==w&&Ia.remove(),[2]}})});return function(f,h,m,w,C){return d.apply(this,arguments)}}(),hc=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=
1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],
C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},Kc,$c,ae;cd({name:"changeProjectName",perform:function(d,f,h){return Vf("change",
"title"),{appState:yf(yf({},f),{},{name:h}),commitToHistory:!1}},PanelComponent:function(d){var f=d.appState,h=d.updateData;return qa().createElement(di,{label:hb("labels.fileTitle"),value:f.name||"Unnamed",onChange:function(m){return h(m)}})}});cd({name:"changeExportBackground",perform:function(d,f,h){return{appState:yf(yf({},f),{},{exportBackground:h}),commitToHistory:!1}},PanelComponent:function(d){var f=d.appState,h=d.updateData;return qa().createElement("label",null,qa().createElement("input",
{type:"checkbox",checked:f.exportBackground,onChange:function(m){return h(m.target.checked)}})," ",hb("labels.withBackground"))}});cd({name:"changeExportEmbedScene",perform:function(d,f,h){return{appState:yf(yf({},f),{},{exportEmbedScene:h}),commitToHistory:!1}},PanelComponent:function(d){var f=d.appState,h=d.updateData;return qa().createElement("label",{style:{display:"flex"}},qa().createElement("input",{type:"checkbox",checked:f.exportEmbedScene,onChange:function(m){return h(m.target.checked)}}),
" ",hb("labels.exportEmbedScene"),qa().createElement(uj,{label:hb("labels.exportEmbedScene_details"),position:"above",long:!0},qa().createElement("div",{className:"TooltipIcon"},Ph)))}});cd({name:"changeShouldAddWatermark",perform:function(d,f,h){return{appState:yf(yf({},f),{},{shouldAddWatermark:h}),commitToHistory:!1}},PanelComponent:function(d){var f=d.appState,h=d.updateData;return qa().createElement("label",null,qa().createElement("input",{type:"checkbox",checked:f.shouldAddWatermark,onChange:function(m){return h(m.target.checked)}}),
" ",hb("labels.addWatermark"))}});cd({name:"saveScene",perform:(Kc=ld()(function(d,f,h){var m,w,C;return hc(this,function(S){switch(S.label){case 0:m=!!f.fileHandle,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Ra(d,f)];case 2:return w=S.sent().fileHandle,[2,{commitToHistory:!1,appState:yf(yf({},f),{},{fileHandle:w,toastMessage:m?w.name?hb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(w.name,'"')):hb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(C=S.sent())?void 0:
C.name)&&console.error(C),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,f,h){return Kc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[Fd]&&!d.shiftKey},PanelComponent:function(d){var f=d.updateData;return qa().createElement(Gd,{type:"button",icon:sd,title:hb("buttons.save"),"aria-label":hb("buttons.save"),showAriaLabel:qf(),onClick:function(){return f(null)}})}});cd({name:"saveAsScene",perform:($c=ld()(function(d,f,h){var m,w;return hc(this,function(C){switch(C.label){case 0:return C.trys.push([0,
2,,3]),[4,Ra(d,yf(yf({},f),{},{fileHandle:null}))];case 1:return m=C.sent().fileHandle,[2,{commitToHistory:!1,appState:yf(yf({},f),{},{fileHandle:m})}];case 2:return"AbortError"!==(null==(w=C.sent())?void 0:w.name)&&console.error(w),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,f,h){return $c.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[Fd]},PanelComponent:function(d){var f=d.updateData;return qa().createElement(Gd,{type:"button",icon:Gk,title:hb("buttons.saveAs"),
"aria-label":hb("buttons.saveAs"),showAriaLabel:qf(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return f(null)}})}});cd({name:"loadScene",perform:(ae=ld()(function(d,f){var h,m,w,C;return hc(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,ab(f)];case 1:return h=S.sent(),m=h.elements,w=h.appState,[2,{elements:m,appState:w,commitToHistory:!0}];case 2:return"AbortError"===(null==(C=S.sent())?void 0:C.name)?[2,!1]:[2,{elements:d,
appState:yf(yf({},f),{},{errorMessage:C.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,f){return ae.apply(this,arguments)}),keyTest:function(d){return d[Fd]&&"o"===d.key},PanelComponent:function(d){var f=d.updateData;d.appState;return qa().createElement(Gd,{type:"button",icon:bl,title:hb("buttons.load"),"aria-label":hb("buttons.load"),showAriaLabel:qf(),onClick:f})}});cd({name:"exportWithDarkMode",perform:function(d,f,h){return{appState:yf(yf({},f),{},{exportWithDarkMode:h}),commitToHistory:!1}},
PanelComponent:function(d){var f=d.appState,h=d.updateData;return qa().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},qa().createElement(Gj,{value:f.exportWithDarkMode?"dark":"light",onChange:function(m){h("dark"===m)},title:hb("labels.toggleExportColorScheme")}))}});var Je="{}",Gh=cd({name:"copyStyles",perform:function(d,f){d=d.find(function(h){return f.selectedElementIds[h.id]});return d&&(Je=JSON.stringify(d)),{appState:ti(ti({},f),
{},{toastMessage:hb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[Fd]&&d.altKey&&"KeyC"===d.code}}),Bh=cd({name:"pasteStyles",perform:function(d,f){var h=JSON.parse(Je);return"text"!==(null==h?void 0:h.type)&&"diamond"!==(null==h?void 0:h.type)&&"rectangle"!==(null==h?void 0:h.type)&&"ellipse"!==(null==h?void 0:h.type)&&"arrow"!==(null==h?void 0:h.type)&&"draw"!==(null==h?void 0:h.type)&&"line"!==(null==h?void 0:h.type)?{elements:d,commitToHistory:!1}:
{elements:d.map(function(m){return f.selectedElementIds[m.id]?(m=Ye(m,{backgroundColor:null==h?void 0:h.backgroundColor,strokeWidth:null==h?void 0:h.strokeWidth,strokeColor:null==h?void 0:h.strokeColor,strokeStyle:null==h?void 0:h.strokeStyle,fillStyle:null==h?void 0:h.fillStyle,opacity:null==h?void 0:h.opacity,roughness:null==h?void 0:h.roughness}),lf(m)&&(Bd(m,{fontSize:(null==h?void 0:h.fontSize)||Pb.n5,fontFamily:(null==h?void 0:h.fontFamily)||Pb.rk,textAlign:(null==h?void 0:h.textAlign)||Pb.Hg}),
Nj(m)),m):m}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[Fd]&&d.altKey&&"KeyV"===d.code}}),zi=function(d){return qa().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},qa().createElement("div",{onClick:d.onClick},Ph))};cd({name:"toggleCanvasMenu",perform:function(d,f){return{appState:Be(Be({},f),{},{openMenu:"canvas"===f.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var f=d.appState;d=d.updateData;
return qa().createElement(Gd,{type:"button",icon:mh,"aria-label":hb("buttons.menu"),onClick:d,selected:"canvas"===f.openMenu})}});cd({name:"toggleEditMenu",perform:function(d,f){return{appState:Be(Be({},f),{},{openMenu:"shape"===f.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var f=d.elements,h=d.appState;d=d.updateData;return qa().createElement(Gd,{visible:uk(h,dd(f)),type:"button",icon:Tc,"aria-label":hb("buttons.edit"),onClick:d,selected:"shape"===h.openMenu})}});cd({name:"toggleFullScreen",
perform:function(){return Ri()||document.documentElement.requestFullscreen(),Ri()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[Fd]}});cd({name:"toggleShortcuts",perform:function(d,f){return{appState:Be(Be({},f),{},{showHelpDialog:!f.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return qa().createElement(zi,{title:hb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Ne=function(){for(var d=
0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},$g=function(d,f){d=Ee(dd(d),f);return 2<=d.length&&!function(h){if(2<=h.length)for(var m=function(R){if(h.reduce(function(ba,ua){return ba&&ua.groupIds.includes(R)},!0))return{value:!0}},w=0,C=h[0].groupIds;w<C.length;w++){var S=m(C[w]);if("object"==typeof S)return S.value}return!1}(d)},Ti=cd({name:"group",perform:function(d,f){var h=Ee(dd(d),
f);if(2>h.length)return{appState:f,elements:d,commitToHistory:!1};var m=Xj(f);if(1===m.length&&(m=new Set(lj(d,m[0]).map(function(S){return S.id})),h=new Set(h.map(function(S){return S.id})),(new Set(Ne(Array.from(m),Array.from(h)))).size===m.size))return{appState:f,elements:d,commitToHistory:!1};var w=ji();m=d.map(function(S){if(f.selectedElementIds[S.id]){var R=f.editingGroupId;var ba=Wh(S.groupIds);R=R?ba.indexOf(R):-1;ba=(ba.splice(-1<R?R:ba.length,0,w),ba);S=Ye(S,{groupIds:ba})}return S});d=
lj(m,w);var C=m.lastIndexOf(d[d.length-1]);h=m.slice(C+1);m=m.slice(0,C).filter(function(S){return!S.groupIds.includes(w)});d=Ne(m,d,h);return{appState:Nd(w,Od(Od({},f),{},{selectedGroupIds:{}}),dd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,f){return $g(d,f)},keyTest:function(d){return!d.shiftKey&&d[Fd]&&"KeyG"===d.code},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!$g(f,h),type:"button",
icon:qa().createElement(Ge,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.group")," — ").concat(wc("CtrlOrCmd+G")),"aria-label":hb("labels.group"),visible:wf(dd(f),h)})}}),gl=cd({name:"ungroup",perform:function(d,f){if(0===Xj(f).length)return{appState:f,elements:d,commitToHistory:!1};d=d.map(function(h){var m=function(w,C){return w.filter(function(S){return!C[S]})}(h.groupIds,f.selectedGroupIds);return m.length===h.groupIds.length?h:Ye(h,{groupIds:m})});return{appState:Ej(Od(Od({},
f),{},{selectedGroupIds:{}}),dd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[Fd]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,f){return 0<Xj(f).length},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{type:"button",hidden:0===Xj(h).length,icon:qa().createElement(Te,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.ungroup")," — ").concat(wc("CtrlOrCmd+Shift+G")),
"aria-label":hb("labels.ungroup"),visible:wf(dd(f),h)})}}),um=(n(1395),function(d){var f=d.children,h=d.color,m=d.border;d=d.onClick;return qa().createElement("div",{className:"Avatar",style:{background:h,border:"1px solid ".concat(m)},onClick:d},f)});cd({name:"goToCollaborator",perform:function(d,f,h){return h?{appState:Mc(Mc(Mc({},f),jh({scenePoint:h,viewportDimensions:{width:f.width,height:f.height},zoom:f.zoom})),{},{openMenu:"canvas"===f.openMenu?null:f.openMenu}),commitToHistory:!1}:{appState:f,
commitToHistory:!1}},PanelComponent:function(d){var f=d.appState,h=d.updateData;d=d.id;if(!d)return null;var m=f.collaborators.get(d);if(!m)return null;d=Rj(d,f);f=d.background;d=d.stroke;var w=function(C){if(!C)return"?";C=C.trim().split(" ");return 2>C.length?C[0].substring(0,2).toUpperCase():(C[0][0]+C[C.length-1][0]).toUpperCase()}(m.username);return qa().createElement(um,{color:f,border:d,onClick:function(){return h(m.pointer)}},w)}});var kn=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=
arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},Sm=cd({name:"addToLibrary",perform:function(d,f){var h=Ee(dd(d),f);return F.loadLibrary().then(function(m){F.saveLibrary(kn(m,[h.map(td)]))}),!1},contextItemLabel:"labels.addToLibrary"}),Rm=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},pn=function(d){var f=
new Map;return d.forEach(function(h){var m=0===h.groupIds.length?h.id:h.groupIds[h.groupIds.length-1],w=f.get(m)||[];f.set(m,Rm(w,[h]))}),Array.from(f.values())},ne=function(d,f,h){var m,w,C,S=h.axis;h=h.position;d=Qi(d);var R="x"===S?["minX","maxX"]:["minY","maxY"],ba=R[0];R=R[1];return sg(sg({},{x:0,y:0}),{},"start"===h?((m={})[S]=f[ba]-d[ba],m):"end"===h?((w={})[S]=f[R]-d[R],w):((C={})[S]=(f[ba]+f[R])/2-(d[ba]+d[R])/2,C))},Qi=function(d){d=Yc(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},
Qg=function(d,f){return 1<Ee(dd(d),f).length},sh=function(d,f,h){f=function(w,C){var S=pn(w),R=Qi(w);return S.flatMap(function(ba){var ua=ne(ba,R,C);return ba.map(function(na){return Ye(na,{x:na.x+ua.x,y:na.y+ua.y})})})}(Ee(dd(d),f),h);var m=th(f);return d.map(function(w){return m[w.id]||w})},Ll=(cd({name:"alignTop",perform:function(d,f){return{appState:f,elements:sh(d,f,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Fd]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var f=
d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!Qg(f,h),type:"button",icon:qa().createElement(pl,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.alignTop")," — ").concat(wc("CtrlOrCmd+Shift+Up")),"aria-label":hb("labels.alignTop"),visible:wf(dd(f),h)})}}),cd({name:"alignBottom",perform:function(d,f){return{appState:f,elements:sh(d,f,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Fd]&&d.shiftKey&&"ArrowDown"===
d.key},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!Qg(f,h),type:"button",icon:qa().createElement(si,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.alignBottom")," — ").concat(wc("CtrlOrCmd+Shift+Down")),"aria-label":hb("labels.alignBottom"),visible:wf(dd(f),h)})}}),cd({name:"alignLeft",perform:function(d,f){return{appState:f,elements:sh(d,f,{position:"start",axis:"x"}),commitToHistory:!0}},
keyTest:function(d){return d[Fd]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!Qg(f,h),type:"button",icon:qa().createElement(Mh,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.alignLeft")," — ").concat(wc("CtrlOrCmd+Shift+Left")),"aria-label":hb("labels.alignLeft"),visible:wf(dd(f),h)})}}),cd({name:"alignRight",perform:function(d,f){return{appState:f,elements:sh(d,
f,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[Fd]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!Qg(f,h),type:"button",icon:qa().createElement(Fi,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.alignRight")," — ").concat(wc("CtrlOrCmd+Shift+Right")),"aria-label":hb("labels.alignRight"),visible:wf(dd(f),h)})}}),cd({name:"alignVerticallyCentered",
perform:function(d,f){return{appState:f,elements:sh(d,f,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!Qg(f,h),type:"button",icon:qa().createElement(ej,{appearance:h.appearance}),onClick:function(){return m(null)},title:hb("labels.centerVertically"),"aria-label":hb("labels.centerVertically"),visible:wf(dd(f),h)})}}),cd({name:"alignHorizontallyCentered",perform:function(d,f){return{appState:f,
elements:sh(d,f,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!Qg(f,h),type:"button",icon:qa().createElement(fj,{appearance:h.appearance}),onClick:function(){return m(null)},title:hb("labels.centerHorizontally"),"aria-label":hb("labels.centerHorizontally"),visible:wf(dd(f),h)})}}),function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<
h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d}),nn=function(d){var f=new Map;return d.forEach(function(h){var m=0===h.groupIds.length?h.id:h.groupIds[h.groupIds.length-1],w=f.get(m)||[];f.set(m,Ll(w,[h]))}),Array.from(f.values())},ki=function(d){var f=Yc(d);d=f[0];var h=f[1],m=f[2];f=f[3];return{minX:d,minY:h,maxX:m,maxY:f,width:m-d,height:f-h,midX:(d+m)/2,midY:(h+f)/2}},tm=function(d,f){return 1<Ee(dd(d),f).length},Hl=function(d,f,h){f=function(w,C){var S="x"===C.axis?
["minX","midX","maxX","width"]:["minY","midY","maxY","height"],R=S[0],ba=S[1],ua=S[2],na=S[3],Ia=ki(w);w=nn(w).map(function(sc){return[sc,ki(sc)]}).sort(function(sc,pd){return sc[1][ba]-pd[1][ba]});for(var Oa=S=0;Oa<w.length;Oa++)S+=w[Oa][1][na];var Na=(Ia[na]-S)/(w.length-1);if(0>Na){var fb=w.findIndex(function(sc){return sc[1][R]===Ia[R]}),db=w.findIndex(function(sc){return sc[1][ua]===Ia[ua]}),Cb=(w[db][1][ba]-w[fb][1][ba])/(w.length-1),ec=w[fb][1][ba];return w.flatMap(function(sc,pd){var nd=sc[0];
sc=sc[1];var Dd={x:0,y:0};return pd!==fb&&pd!==db&&(ec+=Cb,Dd[C.axis]=ec-sc[ba]),nd.map(function(vd){return Ye(vd,{x:vd.x+Dd.x,y:vd.y+Dd.y})})})}var gc=Ia[R];return w.flatMap(function(sc){var pd=sc[0];sc=sc[1];var nd={x:0,y:0};return nd[C.axis]=gc-sc[R],gc+=Na,gc+=sc[na],pd.map(function(Dd){return Ye(Dd,{x:Dd.x+nd.x,y:Dd.y+nd.y})})})}(Ee(dd(d),f),h);var m=th(f);return d.map(function(w){return m[w.id]||w})},Zl=(cd({name:"distributeHorizontally",perform:function(d,f){return{appState:f,elements:Hl(d,
f,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!tm(f,h),type:"button",icon:qa().createElement(Lc,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.distributeHorizontally")," — ").concat(wc("Alt+H")),"aria-label":hb("labels.distributeHorizontally"),visible:wf(dd(f),h)})}}),cd({name:"distributeVertically",
perform:function(d,f){return{appState:f,elements:Hl(d,f,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyV"===d.code},PanelComponent:function(d){var f=d.elements,h=d.appState,m=d.updateData;return qa().createElement(Gd,{hidden:!tm(f,h),type:"button",icon:qa().createElement(Vg,{appearance:h.appearance}),onClick:function(){return m(null)},title:"".concat(hb("labels.distributeVertically")," — ").concat(wc("Alt+V")),"aria-label":hb("labels.distributeVertically"),
visible:wf(dd(f),h)})}}),function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,
(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),
throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S}),sl=cd({name:"copy",perform:function(d,f){return Fl(dd(d),f),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:function(d){return d[Fd]&&"KeyC"===d.code}}),mn=cd({name:"cut",perform:function(d,f,h,m){return sl.perform(d,f,h,m),Zi.perform(d,f,h,m)},contextItemLabel:"labels.cut",keyTest:function(d){return d[Fd]&&"KeyX"===d.code}}),Qm=cd({name:"copyAsSvg",perform:function(){var d=ld()(function(f,
h,m,w){var C,S;return Zl(this,function(R){switch(R.label){case 0:if(!w.canvas)return[2,{commitToHistory:!1}];C=Ee(dd(f),h);R.label=1;case 1:return R.trys.push([1,3,,4]),[4,Wb("clipboard-svg",C.length?C:dd(f),h,w.canvas,h)];case 2:return R.sent(),[2,{commitToHistory:!1}];case 3:return S=R.sent(),console.error(S),[2,{appState:We(We({},h),{},{errorMessage:S.message}),commitToHistory:!1}];case 4:return[2]}})});return function(f,h,m,w){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),
Pm=cd({name:"copyAsPng",perform:function(){var d=ld()(function(f,h,m,w){var C,S;return Zl(this,function(R){switch(R.label){case 0:if(!w.canvas)return[2,{commitToHistory:!1}];C=Ee(dd(f),h);R.label=1;case 1:return R.trys.push([1,3,,4]),[4,Wb("clipboard",C.length?C:dd(f),h,w.canvas,h)];case 2:return R.sent(),[2,{appState:We(We({},h),{},{toastMessage:hb("toast.copyToClipboardAsPng",{exportSelection:C.length?hb("toast.selection"):hb("toast.canvas"),exportColorScheme:h.exportWithDarkMode?hb("buttons.darkMode"):
hb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return S=R.sent(),console.error(S),[2,{appState:We(We({},h),{},{errorMessage:S.message}),commitToHistory:!1}];case 4:return[2]}})});return function(f,h,m,w){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),Nm=cd({name:"gridMode",perform:function(d,f){return Vf("view","mode","grid"),{appState:vc(vc({},f),{},{gridSize:this.checked(f)?null:Pb.k}),commitToHistory:!1}},
checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[Fd]&&"Quote"===d.code}}),ed=cd({name:"zenMode",perform:function(d,f){return Vf("view","mode","zen"),{appState:Ja(Ja({},f),{},{zenModeEnabled:!this.checked(f)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[Fd]&&d.altKey&&"KeyZ"===d.code}}),$l=cd({name:"stats",perform:function(d,f){return{appState:Mb(Mb({},
f),{},{showStats:!this.checked(f)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),Om=function(d,f,h){if(!(f.multiElement||f.resizingElement||f.editingElement||f.draggingElement)){h=h();if(null===h)return{commitToHistory:!1};var m=th(d),w=h.elements,C=th(w);d=d.filter(function(S){return!C.hasOwnProperty(S.id)});w=w.map(function(S){return Ye(m[S.id]||S,S)}).concat(d.map(function(S){return Ye(S,{isDeleted:!0})}));return qi(w,d),{elements:w,appState:Nc(Nc({},
f),h.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},Sk=function(){function d(f,h,m,w){var C=this;this.actions={};this.renderAction=function(S,R){if(C.actions[S]&&"PanelComponent"in C.actions[S]){var ba=C.actions[S];S=ba.PanelComponent;return qa().createElement(S,{elements:C.getElementsIncludingDeleted(),appState:C.getAppState(),updateData:function(ua){C.updater(ba.perform(C.getElementsIncludingDeleted(),C.getAppState(),ua,C.app))},id:R})}return null};this.updater=function(S){if(!(S&&
"then"in S))return f(S);S.then(function(R){return f(R)})};this.getAppState=h;this.getElementsIncludingDeleted=m;this.app=w}return d.prototype.registerAction=function(f){this.actions[f.name]=f},d.prototype.registerAll=function(f){var h=this;f.forEach(function(m){return h.registerAction(m)})},d.prototype.handleKeyDown=function(f){var h=this,m=Object.values(this.actions).sort(function(w,C){return(C.keyPriority||0)-(w.keyPriority||0)}).filter(function(w){return w.keyTest&&w.keyTest(f,h.getAppState(),
h.getElementsIncludingDeleted())});return 0!==m.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Pb.EH).includes(m[0].name))&&(f.preventDefault(),this.updater(m[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(f){this.updater(f.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),jl=function(d){d=Array.from(d.values());return{x:dm(d,function(f){return f.x})/d.length,y:dm(d,function(f){return f.y})/
d.length}},cm=function(d){var f=d[0];d=d[1];return Math.hypot(f.x-d.x,f.y-d.y)},dm=function(d,f){return d.reduce(function(h,m){return h+f(m)},0)},wm,qn=function(){function d(){var f=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(h,m){return f.dehydrateHistoryEntry({appState:{selectedElementIds:h.selectedElementIds,viewBackgroundColor:h.viewBackgroundColor,editingLinearElement:h.editingLinearElement,editingGroupId:h.editingGroupId,
name:h.name},elements:m.reduce(function(w,C){if(Md(C)&&h.multiElement&&h.multiElement.id===C.id){if(h.multiElement&&h.multiElement.id===C.id&&2>C.points.length)return w;w.push(Nb(Nb({},C),{},{points:C.lastCommittedPoint!==C.points[C.points.length-1]?C.points.slice(0,-1):C.points}))}else w.push(C);return w},[])})}}return d.prototype.hydrateHistoryEntry=function(f){var h=f.elements,m=this;return{appState:JSON.parse(f.appState),elements:h.map(function(w){var C,S=null===(C=m.elementCache.get(w.id))||
void 0===C?void 0:C.get(w.versionNonce);if(!S)throw Error("Element not found: ".concat(w.id,":").concat(w.versionNonce));return S})}},d.prototype.dehydrateHistoryEntry=function(f){var h=f.elements,m=this;return{appState:JSON.stringify(f.appState),elements:h.map(function(w){m.elementCache.has(w.id)||m.elementCache.set(w.id,new Map);var C=m.elementCache.get(w.id);return C.has(w.versionNonce)||C.set(w.versionNonce,td(w)),{id:w.id,versionNonce:w.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var f=
this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(h){return f.hydrateHistoryEntry(h)}),redoStack:this.redoStack.map(function(h){return f.hydrateHistoryEntry(h)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(f){var h,m=this.lastEntry;if(!m||f.elements.length!==m.elements.length)return!0;for(var w=f.elements.length-1;-1<w;w--){var C=f.elements[w],
S=m.elements[w];if(!C||!S||C.id!==S.id||C.versionNonce!==S.versionNonce)return!0}for(h in f.appState){var R,ba;if(("editingLinearElement"!==h||(null===(R=f.appState[h])||void 0===R?void 0:R.elementId)!==(null===(ba=m.appState[h])||void 0===ba?void 0:ba.elementId))&&"selectedElementIds"!==h&&f.appState[h]!==m.appState[h])return!0}return!1},d.prototype.pushEntry=function(f,h){f=this.generateEntry(f,h);(h=this.hydrateHistoryEntry(f))&&this.shouldCreateEntry(h)&&(this.stateHistory.push(f),this.lastEntry=
h,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var f=this.redoStack.pop();return void 0!==f?(this.stateHistory.push(f),this.hydrateHistoryEntry(f)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var f=this.stateHistory.pop(),h=this.stateHistory[this.stateHistory.length-1];return void 0!==f?(this.redoStack.push(f),this.hydrateHistoryEntry(h)):
null},d.prototype.setCurrentState=function(f,h){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(f,h))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(f,h){this.recording&&(this.pushEntry(f,h),this.recording=!1)},d}(),Wk=[{icon:qa().createElement("svg",{viewBox:"0 0 320 512",className:""},qa().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:qa().createElement("svg",{viewBox:"0 0 448 512"},qa().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:qa().createElement("svg",{viewBox:"0 0 223.646 223.646"},qa().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:qa().createElement("svg",{viewBox:"0 0 512 512"},qa().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:qa().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},qa().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:qa().createElement("svg",{viewBox:"0 0 6 6"},
qa().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:qa().createElement("svg",{viewBox:"0 0 512 512"},qa().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:qa().createElement("svg",{viewBox:"0 0 448 512"},qa().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],sm=(n(4518),{cut:[wc("CtrlOrCmd+X")],copy:[wc("CtrlOrCmd+C")],
paste:[wc("CtrlOrCmd+V")],copyStyles:[wc("CtrlOrCmd+Alt+C")],pasteStyles:[wc("CtrlOrCmd+Alt+V")],selectAll:[wc("CtrlOrCmd+A")],deleteSelectedElements:[wc("Del")],duplicateSelection:[wc("CtrlOrCmd+D"),wc("Alt+".concat(hb("helpDialog.drag")))],sendBackward:[wc("CtrlOrCmd+[")],bringForward:[wc("CtrlOrCmd+]")],sendToBack:[wc(Zg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[wc(Zg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[wc("Shift+Alt+C")],copyAsSvg:[],group:[wc("CtrlOrCmd+G")],ungroup:[wc("CtrlOrCmd+Shift+G")],
gridMode:[wc("CtrlOrCmd+'")],zenMode:[wc("Alt+Z")],stats:[],addToLibrary:[],viewMode:[wc("Alt+R")]}),ln=function(d){var f,h=d.options,m=d.onCloseRequest,w=d.top,C=d.left,S=d.actionManager,R=d.appState;d=!(null===(f=document.querySelector(".excalidraw"))||void 0===f||!f.classList.contains("Appearance_dark"));return qa().createElement("div",{className:jc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},qa().createElement(Ga,{onCloseRequest:m,top:w,left:C,fitInViewport:!0},qa().createElement("ul",
{className:"context-menu",onContextMenu:function(ba){return ba.preventDefault()}},h.map(function(ba,ua){var na;if("separator"===ba)return qa().createElement("hr",{key:ua,className:"context-menu-option-separator"});var Ia,Oa=ba.name,Na=ba.contextItemLabel?hb(ba.contextItemLabel):"";return qa().createElement("li",{key:ua,"data-testid":Oa,onClick:m},qa().createElement("button",{className:jc("context-menu-option",{dangerous:"deleteSelectedElements"===Oa,checkmark:null===(na=ba.checked)||void 0===na?void 0:
na.call(ba,R)}),onClick:function(){return S.executeAction(ba)}},qa().createElement("div",{className:"context-menu-option__label"},Na),qa().createElement("kbd",{className:"context-menu-option__shortcut"},Oa?(Ia=sm[Oa])&&0<Ia.length?Ia[0]:"":"")))}))))},rm=function(){if(wm)return wm;var d=document.createElement("div");return document.body.appendChild(d),wm=d},hl=function(){(0,Eg.unmountComponentAtNode)(rm())};const Il=function(d){var f=[];d.options.forEach(function(h){h&&f.push(h)});f.length&&(0,Eg.render)(qa().createElement(ln,
{top:d.top,left:d.left,options:f,onCloseRequest:hl,actionManager:d.actionManager,appState:d.appState}),rm())};n(1575);const Hj=function(d){var f=d.children,h=d.gap,m=d.align,w=d.justifyContent,C=d.className;d=d.style;return qa().createElement("div",{className:jc("Stack Stack_horizontal",C),style:Ta({"--gap":h,alignItems:m,justifyContent:w},d)},f)},Ij=function(d){var f=d.children,h=d.gap,m=d.align,w=d.justifyContent;d=d.className;return qa().createElement("div",{className:jc("Stack Stack_vertical",
d),style:{"--gap":h,justifyItems:m,justifyContent:w}},f)};var Ln=function(d){var f=d.appState,h=d.renderAction,m=d.elementType;d=Yi(dd(d.elements),f);f=!!f.editingElement;var w=qf(),C="rtl"===document.documentElement.getAttribute("dir"),S=Ei(m)||d.some(function(ba){return Ei(ba.type)&&(ua=ba.backgroundColor,na=5===ua.length&&"0"===ua.substr(4,1),Ia=9===ua.length&&"00"===ua.substr(7,2),!(na||Ia||ua===Eh.elementBackground[0]));var ua,na,Ia}),R=Ei(m)||d.some(function(ba){return Ei(ba.type)});return qa().createElement("div",
{className:"panelColumn"},h("changeStrokeColor"),R&&h("changeBackgroundColor"),S&&h("changeFillStyle"),(Ji(m)||d.some(function(ba){return Ji(ba.type)}))&&qa().createElement(qa().Fragment,null,h("changeStrokeWidth"),h("changeStrokeStyle"),h("changeSloppiness")),(Ki(m)||d.some(function(ba){return Ki(ba.type)}))&&qa().createElement(qa().Fragment,null,h("changeSharpness")),("text"===m||d.some(function(ba){return"text"===ba.type}))&&qa().createElement(qa().Fragment,null,h("changeFontSize"),h("changeFontFamily"),
h("changeTextAlign")),("arrow"===m||d.some(function(ba){return"arrow"===ba.type}))&&qa().createElement(qa().Fragment,null,h("changeArrowhead")),h("changeOpacity"),qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.layers")),qa().createElement("div",{className:"buttonList"},h("sendToBack"),h("sendBackward"),h("bringToFront"),h("bringForward"))),1<d.length&&qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.align")),qa().createElement("div",{className:"buttonList"},
C?qa().createElement(qa().Fragment,null,h("alignRight"),h("alignHorizontallyCentered"),h("alignLeft")):qa().createElement(qa().Fragment,null,h("alignLeft"),h("alignHorizontallyCentered"),h("alignRight")),2<d.length&&h("distributeHorizontally"),qa().createElement("div",{className:"iconRow"},h("alignTop"),h("alignVerticallyCentered"),h("alignBottom"),2<d.length&&h("distributeVertically")))),!w&&!f&&0<d.length&&qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.actions")),
qa().createElement("div",{className:"buttonList"},h("duplicateSelection"),h("deleteSelectedElements"),h("group"),h("ungroup"))))},eo=qa().createElement("svg",{viewBox:"0 0 512 512"},qa().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
jn=function(d){var f=d.canvas,h=d.elementType,m=d.setAppState,w=d.isLibraryOpen;return qa().createElement(qa().Fragment,null,Wk.map(function(C,S){var R=C.value,ba=C.icon,ua=C.key;C=hb("toolBar.".concat(R));ua="".concat(Fg("string"==typeof ua?ua:ua[0])," ").concat(hb("helpDialog.or")," ").concat(S+1);return qa().createElement(Gd,{className:"Shape",key:R,type:"radio",icon:ba,checked:h===R,name:"editor-current-shape",title:"".concat(Fg(C)," — ").concat(ua),keyBindingLabel:"".concat(S+1),"aria-label":Fg(C),
"aria-keyshortcuts":ua,"data-testid":R,onChange:function(){m({elementType:R,multiElement:null,selectedElementIds:{}});Gg(f,R);m({})}})}),qa().createElement(Gd,{className:"Shape ToolIcon_type_button__library",type:"button",icon:eo,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(Fg(hb("toolBar.library"))," — 9"),"aria-label":Fg(hb("toolBar.library")),onClick:function(){m({isLibraryOpen:!w})}}))},co=function(d){var f=d.renderAction;d=d.zoom;return qa().createElement(Ij,
{gap:1},qa().createElement(Hj,{gap:1,align:"center"},f("zoomIn"),f("zoomOut"),f("resetZoom"),qa().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Kn=function(d){var f=d.appState,h=d.setAppState;d=d.actionManager;return qa().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),qa().createElement("div",{style:{marginInlineStart:"0.25rem"}},qa().createElement(Gj,{value:f.appearance,onChange:function(m){h({appearance:m})}})))};n(3211);
const Mn=function(d){var f=d.isCollaborating,h=d.collaboratorCount;d=d.onClick;return qa().createElement(qa().Fragment,null,qa().createElement(Gd,{className:jc("CollabButton",{"is-collaborating":f}),onClick:d,icon:bd,type:"button",title:hb("labels.liveCollaboration"),"aria-label":hb("labels.liveCollaboration"),showAriaLabel:qf()},0<h&&qa().createElement("div",{className:"CollabButton-collaborators"},h)))};n(3040);n(7428);var Kj=qa().forwardRef(function(d,f){var h=d.children,m=d.padding,w=d.className;
d=d.style;return qa().createElement("div",{className:jc("Island",w),style:Rd({"--padding":m},d),ref:f},h)}),fo=(n(205),function(d){var f=Tm();return f?(0,Eg.createPortal)(qa().createElement("div",{className:jc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(h){"Escape"===h.key&&(h.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},qa().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),qa().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),f):null}),Tm=function(){var d=(0,Jd.useState)(null),f=d[0],h=d[1];return(0,Jd.useLayoutEffect)(function(){var m,w=!(null===(m=document.querySelector(".excalidraw"))||void 0===m||!m.classList.contains("Appearance_dark")),C=document.createElement("div");return C.classList.add("excalidraw","excalidraw-modal-container"),w&&(C.classList.add("Appearance_dark"),C.classList.add("Appearance_dark-background-none")),document.body.appendChild(C),
h(C),function(){document.body.removeChild(C)}},[]),f},k=function(d){var f=function(){var w=(0,Jd.useState)(null),C=w[1];return[w[0],(0,Jd.useCallback)(function(S){return C(S)},[])]}(),h=f[0];f=f[1];(0,Jd.useEffect)(function(){if(h){var w=m(h);0<w.length&&!1!==d.autofocus&&(w[1]||w[0]).focus();var C=function(S){if("Tab"===S.key){var R=m(h),ba=document.activeElement,ua=R.findIndex(function(na){return na===ba});0===ua&&S.shiftKey?(R[R.length-1].focus(),S.preventDefault()):ua!==R.length-1||S.shiftKey||
(R[0].focus(),S.preventDefault())}};return h.addEventListener("keydown",C),function(){return h.removeEventListener("keydown",C)}}},[h,d.autofocus]);var m=function(w){return(w=w.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(w):[]};return qa().createElement(fo,{className:jc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},qa().createElement(Kj,{ref:f},qa().createElement("h2",{id:"dialog-title",className:"Dialog__title"},
qa().createElement("span",{className:"Dialog__titleContent"},d.title),qa().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":hb("buttons.close")},qf()?Mg:tj)),qa().createElement("div",{className:"Dialog__content"},d.children)))},r=function(d){var f=d.message,h=d.onClose,m=(0,Jd.useState)(!!f);d=m[0];var w=m[1];m=qa().useCallback(function(){w(!1);h&&h()},[h]);return qa().createElement(qa().Fragment,null,d&&qa().createElement(k,{small:!0,onCloseRequest:m,title:hb("errorDialog.title")},
qa().createElement("div",null,f.split("\n").map(function(C){return qa().createElement(qa().Fragment,null,C,qa().createElement("br",null))}))))},K=(n(8623),[1,2,3]),ma=K.includes(devicePixelRatio)?devicePixelRatio:1,za="filter"in document.createElement("canvas").getContext("2d"),Pa=function(){return qa().createElement("div",null,qa().createElement("h3",null,hb("canvasError.cannotShowPreview")),qa().createElement("p",null,qa().createElement("span",null,hb("canvasError.canvasTooBig"))),qa().createElement("em",
null,"(",hb("canvasError.canvasTooBigTip"),")"))},Xa=function(d,f){(0,Eg.unmountComponentAtNode)(f);f.innerHTML="";d instanceof HTMLCanvasElement?f.appendChild(d):(0,Eg.render)(qa().createElement(Pa,null),f)},ib=function(d){var f=d.elements,h=d.appState,m=d.exportPadding,w=void 0===m?10:m;m=d.actionManager;var C=d.onExportToPng,S=d.onExportToSvg,R=d.onExportToClipboard,ba=d.onExportToBackend,ua=wf(f,h);d=(0,Jd.useState)(ma);var na=d[0],Ia=d[1];d=(0,Jd.useState)(ua);var Oa=d[0],Na=d[1],fb=(0,Jd.useRef)(null),
db=h.exportBackground,Cb=h.viewBackgroundColor,ec=h.shouldAddWatermark,gc=Oa?Ee(f,h):f;return(0,Jd.useEffect)(function(){Na(ua)},[ua]),(0,Jd.useEffect)(function(){var sc=fb.current;if(sc)try{var pd=am(gc,h,{exportBackground:db,viewBackgroundColor:Cb,exportPadding:w,scale:na,shouldAddWatermark:ec});Mk(pd).then(function(){Xa(pd,sc)}).catch(function(nd){console.error(nd);Xa(new Jl,sc)})}catch(nd){console.error(nd),Xa(new Jl,sc)}},[h,gc,db,w,Cb,na,ec]),qa().createElement("div",{className:"ExportDialog"},
qa().createElement("div",{className:"ExportDialog__preview",ref:fb}),za&&m.renderAction("exportWithDarkMode"),qa().createElement(Ij,{gap:2,align:"center"},qa().createElement("div",{className:"ExportDialog__actions"},qa().createElement(Hj,{gap:2},qa().createElement(Gd,{type:"button",label:"PNG",title:hb("buttons.exportToPng"),"aria-label":hb("buttons.exportToPng"),onClick:function(){return C(gc,na)}}),qa().createElement(Gd,{type:"button",label:"SVG",title:hb("buttons.exportToSvg"),"aria-label":hb("buttons.exportToSvg"),
onClick:function(){return S(gc,na)}}),fl&&qa().createElement(Gd,{type:"button",icon:sj,title:hb("buttons.copyPngToClipboard"),"aria-label":hb("buttons.copyPngToClipboard"),onClick:function(){return R(gc,na)}}),ba&&qa().createElement(Gd,{type:"button",icon:bi,title:hb("buttons.getShareableLink"),"aria-label":hb("buttons.getShareableLink"),onClick:function(){return ba(gc)}})),qa().createElement("div",{className:"ExportDialog__name"},m.renderAction("changeProjectName")),qa().createElement(Hj,{gap:2},
K.map(function(sc){var pd=function(Dd,vd,Pd,zc){Dd=pm(Dd,Pd);vd=xl(Dd,vd,Pd).map(function(Vc){return Math.trunc(Vc*zc)});return[vd[2],vd[3]]}(gc,w,ec,sc),nd=pd[0];pd=pd[1];nd="".concat(hb("buttons.scale")," ").concat(sc,"x (").concat(nd,"x").concat(pd,")");return qa().createElement(Gd,{key:sc,size:"s",type:"radio",icon:"".concat(sc,"x"),name:"export-canvas-scale",title:nd,"aria-label":nd,id:"export-canvas-scale",checked:sc===na,onChange:function(){return Ia(sc)}})}))),m.renderAction("changeExportBackground"),
ua&&qa().createElement("div",null,qa().createElement("label",null,qa().createElement("input",{type:"checkbox",checked:Oa,onChange:function(sc){return Na(sc.currentTarget.checked)}})," ",hb("labels.onlySelected"))),m.renderAction("changeExportEmbedScene"),m.renderAction("changeShouldAddWatermark")))},Ab=function(d){var f=d.elements,h=d.appState,m=d.exportPadding;m=void 0===m?10:m;var w=d.actionManager,C=d.onExportToPng,S=d.onExportToSvg,R=d.onExportToClipboard;d=d.onExportToBackend;var ba=(0,Jd.useState)(!1),
ua=ba[0],na=ba[1],Ia=(0,Jd.useRef)(null);ba=qa().useCallback(function(){var Oa;na(!1);null===(Oa=Ia.current)||void 0===Oa||Oa.focus()},[]);return qa().createElement(qa().Fragment,null,qa().createElement(Gd,{onClick:function(){na(!0)},icon:yc,type:"button","aria-label":hb("buttons.export"),showAriaLabel:qf(),title:hb("buttons.export"),ref:Ia}),ua&&qa().createElement(k,{onCloseRequest:ba,title:hb("buttons.export")},qa().createElement(ib,{elements:f,appState:h,exportPadding:m,actionManager:w,onExportToPng:C,
onExportToSvg:S,onExportToClipboard:R,onExportToBackend:d,onCloseRequest:ba})))},ac=(n(4193),function(d){var f=d.children,h=d.side;d=d.className;return qa().createElement("div",{className:jc("FixedSideContainer","FixedSideContainer_side_".concat(h),d)},f)}),fd=qa().memo(function(d){d=d.appearance;return qa().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},qa().createElement("a",{href:"https://github.com/excalidraw/excalidraw",
target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},qa().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?hd.MA[6]:hd.MA[8]}),qa().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?hd.ix:hd.Sn}),qa().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?hd.ix:hd.Sn})))}),je=(n(9705),function(d){return(d=function(f){var h=f.appState,m=f.elements,w=h.elementType;f=h.isResizing;var C=h.isRotating,S=h.lastPointerDownWith,R=null!==h.multiElement;if("arrow"===w||"line"===w)return hb(R?"hints.linearElementMulti":"hints.linearElement");if("draw"===w)return hb("hints.freeDraw");if("text"===w)return hb("hints.text");m=Ee(m,h);return f&&"mouse"===S&&1===m.length?(h=m[0],Md(h)&&2===h.points.length?hb("hints.lockAngle"):hb("hints.resize")):C&&
"mouse"===S?hb("hints.rotate"):1===m.length&&Md(m[0])?h.editingLinearElement?h.editingLinearElement.activePointIndex?hb("hints.lineEditor_pointSelected"):hb("hints.lineEditor_nothingSelected"):hb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=wc(d),qa().createElement("div",{className:"HintViewer"},qa().createElement("span",null,d))):null}),Ec=(n(8465),n(8680),qa().createElement("svg",{viewBox:"0 0 1792 1792"},qa().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
zd=function(d){var f=d.elements,h=d.pendingElements,m=d.onRemoveFromLibrary;d=d.onClick;var w=(0,Jd.useRef)(null);(0,Jd.useEffect)(function(){var ua=f||h;if(ua){var na=yk(ua,{exportBackground:!1,viewBackgroundColor:hd.ix,shouldAddWatermark:!1});ua=0;for(var Ia=w.current.children;ua<Ia.length;ua++){var Oa=Ia[ua];"svg"===Oa.tagName&&w.current.removeChild(Oa)}w.current.appendChild(na);var Na=w.current;return function(){Na.removeChild(na)}}},[f,h]);var C=(0,Jd.useState)(!1),S=C[0],R=C[1];C=qf();var ba=
(S||C)&&h&&qa().createElement("div",{className:"library-unit__adder"},Ec);return qa().createElement("div",{className:jc("library-unit",{"library-unit__active":f||h}),onMouseEnter:function(){return R(!0)},onMouseLeave:function(){return R(!1)}},qa().createElement("div",{className:jc("library-unit__dragger",{"library-unit__pulse":!!h}),ref:w,draggable:!!f,onClick:f||h?d:void 0,onDragStart:function(ua){R(!1);ua.dataTransfer.setData(Pb.LO.excalidrawlib,JSON.stringify(f))}}),ba,f&&(S||C)&&qa().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":hb("labels.removeFromLibrary"),onClick:m},tj))},ke=qa().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},qa().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),Zd=qa().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},qa().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Ob=function(d){return qa().createElement("label",{className:jc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},qa().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),qa().createElement("div",{className:"ToolIcon__icon"},d.checked?ke:Zd))},Eb=function(d){var f=d.heading,h=d.children;d=li()(d,["heading","children"]);var m=qa().createElement("h2",{className:"visually-hidden",id:"".concat(f,
"-title")},hb("headings.".concat(f)));return qa().createElement("section",Jc()({},d,{"aria-labelledby":"".concat(f,"-title")}),"function"==typeof h?h(m):qa().createElement(qa().Fragment,null,m,h))},Lb=(n(3142),function(d){var f=d.children,h=d.className;d=d.mobile;return qa().createElement("div",{className:jc("UserList",h,{UserList_mobile:d})},f)}),rc=function(d){var f=d.appState,h=d.elements,m=d.libraryMenu,w=d.actionManager,C=d.exportButton,S=d.setAppState,R=d.onCollabButtonClick,ba=d.onLockToggle,
ua=d.canvas,na=d.isCollaborating,Ia=d.renderCustomFooter;d=d.viewModeEnabled;return qa().createElement(qa().Fragment,null,!d&&qa().createElement(ac,{side:"top",className:"App-top-bar"},qa().createElement(Eb,{heading:"shapes"},function(Oa){return qa().createElement(Ij,{gap:4,align:"center"},qa().createElement(Hj,{gap:1},qa().createElement(Kj,{padding:1},Oa,qa().createElement(Hj,{gap:1},qa().createElement(jn,{canvas:ua,elementType:f.elementType,setAppState:S,isLibraryOpen:f.isLibraryOpen}))),qa().createElement(Ob,
{checked:f.elementLocked,onChange:ba,title:hb("toolBar.lock")})),m)}),qa().createElement(je,{appState:f,elements:h})),qa().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},qa().createElement(Kj,{padding:0},"canvas"===f.openMenu?qa().createElement(Eb,{className:"App-mobile-menu",heading:"canvasActions"},qa().createElement("div",{className:"panelColumn"},qa().createElement(Ij,{gap:4},d?qa().createElement(qa().Fragment,null,w.renderAction("saveScene"),
w.renderAction("saveAsScene"),C):qa().createElement(qa().Fragment,null,w.renderAction("loadScene"),w.renderAction("saveScene"),w.renderAction("saveAsScene"),C,w.renderAction("clearCanvas"),R&&qa().createElement(Mn,{isCollaborating:na,collaboratorCount:f.collaborators.size,onClick:R}),qa().createElement(Kn,{actionManager:w,appState:f,setAppState:S})),null==Ia?void 0:Ia(!0),0<f.collaborators.size&&qa().createElement("fieldset",null,qa().createElement("legend",null,hb("labels.collaborators")),qa().createElement(Lb,
{mobile:!0},Array.from(f.collaborators).filter(function(Oa){Oa[0];return 0!==Object.keys(Oa[1]).length}).map(function(Oa){var Na=Oa[0];Oa[1];return qa().createElement(qa().Fragment,{key:Na},w.renderAction("goToCollaborator",Na))})))))):"shape"===f.openMenu&&!d&&uk(f,h)?qa().createElement(Eb,{className:"App-mobile-menu",heading:"selectedShapeActions"},qa().createElement(Ln,{appState:f,elements:h,renderAction:w.renderAction,elementType:f.elementType})):null,qa().createElement("footer",{className:"App-toolbar"},
d?qa().createElement("div",{className:"App-toolbar-content"},w.renderAction("toggleCanvasMenu")):qa().createElement("div",{className:"App-toolbar-content"},w.renderAction("toggleCanvasMenu"),w.renderAction("toggleEditMenu"),w.renderAction("undo"),w.renderAction("redo"),w.renderAction(f.multiElement?"finalize":"duplicateSelection"),w.renderAction("deleteSelectedElements")),f.scrolledOutside&&!f.openMenu&&qa().createElement("button",{className:"scroll-back-to-content",onClick:function(){S(function(Oa){for(var Na=
1;Na<arguments.length;Na++){var fb=null!=arguments[Na]?arguments[Na]:{};Na%2?jd(Object(fb),!0).forEach(function(db){ce()(Oa,db,fb[db])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oa,Object.getOwnPropertyDescriptors(fb)):jd(Object(fb)).forEach(function(db){Object.defineProperty(Oa,db,Object.getOwnPropertyDescriptor(fb,db))})}return Oa}({},fe(h,f)))}},hb("buttons.scrollBackToContent"))))))},Ac=(n(8416),function(d){var f=(0,Jd.useRef)(null),h=(0,Jd.useState)(null),m=h[0],w=h[1];return(0,
Jd.useLayoutEffect)(function(){if(d.spreadsheet){var C=Km(d.chartType,d.spreadsheet,0,0);w(C);var S=yk(C,{exportBackground:!1,viewBackgroundColor:hd.ix,shouldAddWatermark:!1}),R=f.current;return R.appendChild(S),d.selected&&R.parentNode.focus(),function(){R.removeChild(S)}}},[d.spreadsheet,d.chartType,d.selected]),qa().createElement("button",{className:"ChartPreview",onClick:function(){m&&d.onClick(d.chartType,m)}},qa().createElement("div",{ref:f}))}),we=function(d){var f=d.setAppState,h=d.appState,
m=d.onClose,w=d.onInsertChart;d=qa().useCallback(function(){m&&m()},[m]);var C=function(S,R){w(R);Vf("magic","chart",S);f({currentChartType:S,pasteDialog:{shown:!1,data:null}})};return qa().createElement(k,{small:!0,onCloseRequest:d,title:hb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},qa().createElement("div",{className:"container"},qa().createElement(Ac,{chartType:"bar",spreadsheet:h.pasteDialog.data,selected:"bar"===h.currentChartType,onClick:C}),qa().createElement(Ac,{chartType:"line",
spreadsheet:h.pasteDialog.data,selected:"line"===h.currentChartType,onClick:C})))},qd=(n(341),function(){return qa().createElement("div",{className:"HelpDialog--header"},qa().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},hb("helpDialog.documentation")),qa().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},hb("helpDialog.blog")),
qa().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},hb("helpDialog.github")))}),xe=function(d){return qa().createElement(qa().Fragment,null,qa().createElement("h3",null,d.title),d.children)},Xe=function(d){return qa().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},Ce=function(d){return qa().createElement("div",{style:{width:"49%"}},
d.children)},Pk=function(d){return qa().createElement("div",{className:"HelpDialog--island"},qa().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},de=function(d){return qa().createElement("div",{className:"HelpDialog--shortcut"},qa().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},qa().createElement("div",{style:{lineHeight:1.4}},d.label),qa().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",
marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(f,h){return qa().createElement(qa().Fragment,{key:h},qa().createElement(Bp,null,f),d.isOr&&h!==d.shortcuts.length-1&&hb("helpDialog.or"))}))))};de.defaultProps={isOr:!0};var Bp=function(d){return qa().createElement("kbd",Jc()({className:"HelpDialog--key"},d))},Cp=function(d){var f=d.onClose;d=qa().useCallback(function(){f&&f()},[f]);return qa().createElement(qa().Fragment,null,qa().createElement(k,{onCloseRequest:d,title:hb("helpDialog.title"),
className:"HelpDialog"},qa().createElement(qd,null),qa().createElement(xe,{title:hb("helpDialog.shortcuts")},qa().createElement(Xe,null,qa().createElement(Ce,null,qa().createElement(Pk,{caption:hb("helpDialog.shapes")},qa().createElement(de,{label:hb("toolBar.selection"),shortcuts:["V","1"]}),qa().createElement(de,{label:hb("toolBar.rectangle"),shortcuts:["R","2"]}),qa().createElement(de,{label:hb("toolBar.diamond"),shortcuts:["D","3"]}),qa().createElement(de,{label:hb("toolBar.ellipse"),shortcuts:["E",
"4"]}),qa().createElement(de,{label:hb("toolBar.arrow"),shortcuts:["A","5"]}),qa().createElement(de,{label:hb("toolBar.line"),shortcuts:["P","6"]}),qa().createElement(de,{label:hb("toolBar.draw"),shortcuts:["Shift+P","7"]}),qa().createElement(de,{label:hb("toolBar.text"),shortcuts:["T","8"]}),qa().createElement(de,{label:hb("helpDialog.textNewLine"),shortcuts:[wc("Enter"),wc("Shift+Enter")]}),qa().createElement(de,{label:hb("helpDialog.textFinish"),shortcuts:[wc("Esc"),wc("CtrlOrCmd+Enter")]}),qa().createElement(de,
{label:hb("helpDialog.curvedArrow"),shortcuts:["A",hb("helpDialog.click"),hb("helpDialog.click"),hb("helpDialog.click")],isOr:!1}),qa().createElement(de,{label:hb("helpDialog.curvedLine"),shortcuts:["L",hb("helpDialog.click"),hb("helpDialog.click"),hb("helpDialog.click")],isOr:!1}),qa().createElement(de,{label:hb("toolBar.lock"),shortcuts:["Q"]}),qa().createElement(de,{label:hb("helpDialog.preventBinding"),shortcuts:[wc("CtrlOrCmd")]})),qa().createElement(Pk,{caption:hb("helpDialog.view")},qa().createElement(de,
{label:hb("buttons.zoomIn"),shortcuts:[wc("CtrlOrCmd++")]}),qa().createElement(de,{label:hb("buttons.zoomOut"),shortcuts:[wc("CtrlOrCmd+-")]}),qa().createElement(de,{label:hb("buttons.resetZoom"),shortcuts:[wc("CtrlOrCmd+0")]}),qa().createElement(de,{label:hb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),qa().createElement(de,{label:hb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),qa().createElement(de,{label:hb("buttons.fullScreen"),shortcuts:["F"]}),qa().createElement(de,{label:hb("buttons.zenMode"),
shortcuts:[wc("Alt+Z")]}),qa().createElement(de,{label:hb("labels.showGrid"),shortcuts:[wc("CtrlOrCmd+'")]}),qa().createElement(de,{label:hb("labels.viewMode"),shortcuts:[wc("Alt+R")]}))),qa().createElement(Ce,null,qa().createElement(Pk,{caption:hb("helpDialog.editor")},qa().createElement(de,{label:hb("labels.selectAll"),shortcuts:[wc("CtrlOrCmd+A")]}),qa().createElement(de,{label:hb("labels.multiSelect"),shortcuts:[wc("Shift+".concat(hb("helpDialog.click")))]}),qa().createElement(de,{label:hb("labels.moveCanvas"),
shortcuts:[wc("Space+".concat(hb("helpDialog.drag"))),wc("Wheel+".concat(hb("helpDialog.drag")))],isOr:!0}),qa().createElement(de,{label:hb("labels.cut"),shortcuts:[wc("CtrlOrCmd+X")]}),qa().createElement(de,{label:hb("labels.copy"),shortcuts:[wc("CtrlOrCmd+C")]}),qa().createElement(de,{label:hb("labels.paste"),shortcuts:[wc("CtrlOrCmd+V")]}),qa().createElement(de,{label:hb("labels.copyAsPng"),shortcuts:[wc("Shift+Alt+C")]}),qa().createElement(de,{label:hb("labels.copyStyles"),shortcuts:[wc("CtrlOrCmd+Alt+C")]}),
qa().createElement(de,{label:hb("labels.pasteStyles"),shortcuts:[wc("CtrlOrCmd+Alt+V")]}),qa().createElement(de,{label:hb("labels.delete"),shortcuts:[wc("Del")]}),qa().createElement(de,{label:hb("labels.sendToBack"),shortcuts:[wc(Zg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),qa().createElement(de,{label:hb("labels.bringToFront"),shortcuts:[wc(Zg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),qa().createElement(de,{label:hb("labels.sendBackward"),shortcuts:[wc("CtrlOrCmd+[")]}),qa().createElement(de,{label:hb("labels.bringForward"),
shortcuts:[wc("CtrlOrCmd+]")]}),qa().createElement(de,{label:hb("labels.alignTop"),shortcuts:[wc("CtrlOrCmd+Shift+Up")]}),qa().createElement(de,{label:hb("labels.alignBottom"),shortcuts:[wc("CtrlOrCmd+Shift+Down")]}),qa().createElement(de,{label:hb("labels.alignLeft"),shortcuts:[wc("CtrlOrCmd+Shift+Left")]}),qa().createElement(de,{label:hb("labels.alignRight"),shortcuts:[wc("CtrlOrCmd+Shift+Right")]}),qa().createElement(de,{label:hb("labels.duplicateSelection"),shortcuts:[wc("CtrlOrCmd+D"),wc("Alt+".concat(hb("helpDialog.drag")))]}),
qa().createElement(de,{label:hb("buttons.undo"),shortcuts:[wc("CtrlOrCmd+Z")]}),qa().createElement(de,{label:hb("buttons.redo"),shortcuts:Pi?[wc("CtrlOrCmd+Y"),wc("CtrlOrCmd+Shift+Z")]:[wc("CtrlOrCmd+Shift+Z")]}),qa().createElement(de,{label:hb("labels.group"),shortcuts:[wc("CtrlOrCmd+G")]}),qa().createElement(de,{label:hb("labels.ungroup"),shortcuts:[wc("CtrlOrCmd+Shift+G")]})))))))},ko=function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");
for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<
C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},Dp=function(){for(var d=0,f=0,h=arguments.length;f<
h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},Ep=function(d){var f=d.library,h=d.onRemoveFromLibrary,m=d.onAddToLibrary,w=d.onInsertShape,C=d.pendingElements,S=d.setAppState,R=d.setLibraryItems;d=qf()?4:6;var ba=Math.max(1,Math.ceil((f.length+(0<C.length?1:0))/d)),ua=[],na=!1;ua.push(qa().createElement("div",{className:"layer-ui__library-header"},qa().createElement(Gd,{key:"import",type:"button",title:hb("buttons.load"),
"aria-label":hb("buttons.load"),icon:bl,onClick:function(){wb().then(function(){S({isLibraryOpen:!1})}).catch(Bj).catch(function(Cb){S({errorMessage:Cb.message})})}}),qa().createElement(Gd,{key:"export",type:"button",title:hb("buttons.export"),"aria-label":hb("buttons.export"),icon:yc,onClick:function(){rb().catch(Bj).catch(function(Cb){S({errorMessage:Cb.message})})}}),qa().createElement(Gd,{key:"reset",type:"button",title:hb("buttons.resetLibrary"),"aria-label":hb("buttons.resetLibrary"),icon:oc,
onClick:function(){window.confirm(hb("alerts.resetLibrary"))&&(F.resetLibrary(),R([]))}}),qa().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},hb("labels.libraries"))));for(var Ia=0;Ia<ba;Ia++){for(var Oa=d*Ia,Na=[],fb=0;fb<d;fb++){var db=0<C.length&&!na&&Oa+fb>=f.length;na=na||db;Na.push(qa().createElement(Ij,{key:fb},qa().createElement(zd,{elements:f[Oa+fb],pendingElements:db?C:void 0,onRemoveFromLibrary:h.bind(null,Oa+fb),onClick:db?m.bind(null,C):w.bind(null,
f[Oa+fb])})))}ua.push(qa().createElement(Hj,{align:"center",gap:1,key:Ia},Na))}return qa().createElement(Ij,{align:"start",gap:1,className:"layer-ui__library-items"},ua)},Fp=function(d){var f=d.onClickOutside,h=d.onInsertShape,m=d.pendingElements,w=d.onAddToLibrary;d=d.setAppState;var C=(0,Jd.useRef)(null);!function(Na,fb){(0,Jd.useEffect)(function(){var db=function(Cb){Na.current&&(Cb.target instanceof Element&&(Na.current.contains(Cb.target)||!document.body.contains(Cb.target))||fb(Cb))};return document.addEventListener("pointerdown",
db,!1),function(){document.removeEventListener("pointerdown",db)}},[Na,fb])}(C,function(Na){Na.target.closest(".ToolIcon_type_button__library")||f(Na)});var S=(0,Jd.useState)([]),R=S[0],ba=S[1],ua=(0,Jd.useState)("preloading");S=ua[0];var na=ua[1],Ia=(0,Jd.useRef)(null);(0,Jd.useEffect)(function(){return Promise.race([new Promise(function(Na){Ia.current=setTimeout(function(){Na("loading")},100)}),F.loadLibrary().then(function(Na){ba(Na);na("ready")})]).then(function(Na){"loading"===Na&&na("loading")}),
function(){clearTimeout(Ia.current)}},[]);ua=(0,Jd.useCallback)(function(){var Na=ld()(function(fb){var db,Cb;return ko(this,function(ec){switch(ec.label){case 0:return[4,F.loadLibrary()];case 1:return db=ec.sent(),Cb=db.filter(function(gc,sc){return sc!==fb}),F.saveLibrary(Cb),ba(Cb),[2]}})});return function(fb){return Na.apply(this,arguments)}}(),[]);var Oa=(0,Jd.useCallback)(function(){var Na=ld()(function(fb){var db,Cb;return ko(this,function(ec){switch(ec.label){case 0:return[4,F.loadLibrary()];
case 1:return db=ec.sent(),Cb=Dp(db,[fb]),w(),F.saveLibrary(Cb),ba(Cb),[2]}})});return function(fb){return Na.apply(this,arguments)}}(),[w]);return"preloading"===S?null:qa().createElement(Kj,{padding:1,ref:C,className:"layer-ui__library"},"loading"===S?qa().createElement("div",{className:"layer-ui__library-message"},hb("labels.libraryLoadingMessage")):qa().createElement(Ep,{library:R,onRemoveFromLibrary:ua,onAddToLibrary:Oa,onInsertShape:h,pendingElements:m,setAppState:d,setLibraryItems:ba}))};const Gp=
qa().memo(function(d){var f,h=d.actionManager,m=d.appState,w=d.setAppState,C=d.canvas,S=d.elements,R=d.onCollabButtonClick,ba=d.onLockToggle,ua=d.onInsertElements,na=d.zenModeEnabled,Ia=d.showExitZenModeBtn,Oa=d.toggleZenMode,Na=d.isCollaborating,fb=d.onExportToBackend,db=d.renderCustomFooter;d=d.viewModeEnabled;var Cb=qf(),ec=function(){var nd=function(Dd){return function(){var vd=ld()(function(Pd,zc){return ko(this,function(Vc){switch(Vc.label){case 0:return C?[4,Wb(Dd,Pd,m,C,{exportBackground:m.exportBackground,
name:m.name,viewBackgroundColor:m.viewBackgroundColor,scale:zc,shouldAddWatermark:m.shouldAddWatermark}).catch(Bj).catch(function(ad){console.error(ad);w({errorMessage:ad.message})})]:[3,2];case 1:Vc.sent(),Vc.label=2;case 2:return[2]}})});return function(Pd,zc){return vd.apply(this,arguments)}}()};return qa().createElement(Ab,{elements:S,appState:m,actionManager:h,onExportToPng:nd("png"),onExportToSvg:nd("svg"),onExportToClipboard:nd("clipboard"),onExportToBackend:fb?function(Dd){fb&&fb(Dd,m,C)}:
void 0})},gc=(0,Jd.useCallback)(function(nd){w({isLibraryOpen:!1})},[w]),sc=(0,Jd.useCallback)(function(){w({selectedElementIds:{},selectedGroupIds:{}})},[w]),pd=m.isLibraryOpen?qa().createElement(Fp,{pendingElements:Ee(S,m),onClickOutside:gc,onInsertShape:ua,onAddToLibrary:sc,setAppState:w}):null;ua=qa().createElement(qa().Fragment,null,m.isLoading&&qa().createElement(Ie,null),m.errorMessage&&qa().createElement(r,{message:m.errorMessage,onClose:function(){return w({errorMessage:null})}}),m.showHelpDialog&&
qa().createElement(Cp,{onClose:function(){return w({showHelpDialog:!1})}}),m.pasteDialog.shown&&qa().createElement(we,{setAppState:w,appState:m,onInsertChart:ua,onClose:function(){return w({pasteDialog:{shown:!1,data:null}})}}));return Cb?qa().createElement(qa().Fragment,null,ua,qa().createElement(rc,{appState:m,elements:S,actionManager:h,libraryMenu:pd,exportButton:ec(),setAppState:w,onCollabButtonClick:R,onLockToggle:ba,canvas:C,isCollaborating:Na,renderCustomFooter:db,viewModeEnabled:d})):qa().createElement("div",
{className:jc("layer-ui__wrapper",{"disable-pointerEvents":m.draggingElement||m.resizingElement||m.editingElement&&!lf(m.editingElement)})},ua,(f=uk(m,S),qa().createElement(ac,{side:"top"},qa().createElement("div",{className:"App-menu App-menu_top"},qa().createElement(Ij,{gap:4,className:jc({"disable-pointerEvents":na})},d?qa().createElement(Eb,{heading:"canvasActions",className:jc("zen-mode-transition",{"transition-left":na})},qa().createElement(Kj,{padding:2,style:{zIndex:1}},qa().createElement(Ij,
{gap:4},qa().createElement(Hj,{gap:1,justifyContent:"space-between"},h.renderAction("saveScene"),h.renderAction("saveAsScene"),ec())))):qa().createElement(Eb,{heading:"canvasActions",className:jc("zen-mode-transition",{"transition-left":na})},qa().createElement(Kj,{padding:2,style:{zIndex:1}},qa().createElement(Ij,{gap:4},qa().createElement(Hj,{gap:1,justifyContent:"space-between"},h.renderAction("loadScene"),h.renderAction("saveScene"),h.renderAction("saveAsScene"),ec(),h.renderAction("clearCanvas"),
R&&qa().createElement(Mn,{isCollaborating:Na,collaboratorCount:m.collaborators.size,onClick:R})),qa().createElement(Kn,{actionManager:h,appState:m,setAppState:w})))),f&&qa().createElement(Eb,{heading:"selectedShapeActions",className:jc("zen-mode-transition",{"transition-left":na})},qa().createElement(Kj,{className:Pb.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(m.height-200,"px")}},qa().createElement(Ln,{appState:m,elements:S,renderAction:h.renderAction,elementType:m.elementType})))),
!d&&qa().createElement(Eb,{heading:"shapes"},function(nd){return qa().createElement(Ij,{gap:4,align:"start"},qa().createElement(Hj,{gap:1},qa().createElement(Kj,{padding:1,className:jc({"zen-mode":na})},qa().createElement(je,{appState:m,elements:S}),nd,qa().createElement(Hj,{gap:1},qa().createElement(jn,{canvas:C,elementType:m.elementType,setAppState:w,isLibraryOpen:m.isLibraryOpen}))),qa().createElement(Ob,{zenModeEnabled:na,checked:m.elementLocked,onChange:ba,title:hb("toolBar.lock")})),pd)}),qa().createElement(Lb,
{className:jc("zen-mode-transition",{"transition-right":na})},0<m.collaborators.size&&Array.from(m.collaborators).filter(function(nd){nd[0];return 0!==Object.keys(nd[1]).length}).map(function(nd){var Dd=nd[0];nd=nd[1];return qa().createElement(uj,{label:nd.username||"Unknown user",key:Dd},h.renderAction("goToCollaborator",Dd))}))))),qa().createElement("div",{className:jc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":na})},qa().createElement(Ij,{gap:2},qa().createElement(Eb,
{heading:"canvasActions"},qa().createElement(Kj,{padding:1},qa().createElement(co,{renderAction:h.renderAction,zoom:m.zoom})),qa().createElement("a",{className:jc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":na}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},qa().createElement(uj,{label:hb("encrypted.tooltip"),position:"above",long:!0},Wc))))),qa().createElement("aside",{className:jc("layer-ui__wrapper__github-corner zen-mode-transition",
{"transition-right":na})},qa().createElement(fd,{appearance:m.appearance})),qa().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},qa().createElement("div",{className:jc("zen-mode-transition",{"transition-right disable-pointerEvents":na})},null==db?void 0:db(!1),h.renderAction("toggleShortcuts")),qa().createElement("button",{className:jc("disable-zen-mode",{"disable-zen-mode--visible":Ia}),onClick:Oa},hb("buttons.exitZenMode"))),m.scrolledOutside&&qa().createElement("button",
{className:"scroll-back-to-content",onClick:function(){w(function(nd){for(var Dd=1;Dd<arguments.length;Dd++){var vd=null!=arguments[Dd]?arguments[Dd]:{};Dd%2?fh(Object(vd),!0).forEach(function(Pd){ce()(nd,Pd,vd[Pd])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nd,Object.getOwnPropertyDescriptors(vd)):fh(Object(vd)).forEach(function(Pd){Object.defineProperty(nd,Pd,Object.getOwnPropertyDescriptor(vd,Pd))})}return nd}({},fe(S,m)))}},hb("buttons.scrollBackToContent")))},function(d,f){var h=
function(C){C.suggestedBindings;C.startBoundElement;return li()(C,["suggestedBindings","startBoundElement"])},m=h(d.appState),w=h(f.appState);h=Object.keys(m);return d.renderCustomFooter===f.renderCustomFooter&&d.langCode===f.langCode&&d.elements===f.elements&&h.every(function(C){return m[C]===w[C]})});var Do=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(f){return console.error(f),0}},Hp=(n(7287),function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");
for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<
C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S}),Eo=Kf(function(d){var f=Do();try{var h=localStorage.getItem("excalidraw-state"),
m=localStorage.getItem("excalidraw-collab"),w=localStorage.getItem(Pb.I.LOCAL_STORAGE_LIBRARY);var C=(h?JSON.stringify(h).length:0)+(m?JSON.stringify(m).length:0)+(w?JSON.stringify(w).length:0)+Do()}catch(S){C=(console.error(S),0)}d({scene:f,total:C})},500),Ip=function(d){var f=qf(),h=(0,Jd.useState)({scene:0,total:0}),m=h[0],w=h[1];(0,Jd.useEffect)(function(){Eo(function(ua){w(ua)})});(0,Jd.useEffect)(function(){return function(){return Eo.cancel()}},[]);h=Yc(d.elements);var C=Yi(d.elements,d.appState),
S=Yc(C);if(f&&d.appState.openMenu)return null;var R,ba;f=El();return f!==Pb.eQ?(ba=f.slice(0,16).replace("T"," "),R=f.slice(21)):ba=hb("stats.versionNotAvailable"),qa().createElement("div",{className:"Stats"},qa().createElement(Kj,{padding:2},qa().createElement("div",{className:"close",onClick:d.onClose},tj),qa().createElement("h3",null,hb("stats.title")),qa().createElement("table",null,qa().createElement("tbody",null,qa().createElement("tr",null,qa().createElement("th",{colSpan:2},hb("stats.scene"))),
qa().createElement("tr",null,qa().createElement("td",null,hb("stats.elements")),qa().createElement("td",null,d.elements.length)),qa().createElement("tr",null,qa().createElement("td",null,hb("stats.width")),qa().createElement("td",null,Math.round(h[2])-Math.round(h[0]))),qa().createElement("tr",null,qa().createElement("td",null,hb("stats.height")),qa().createElement("td",null,Math.round(h[3])-Math.round(h[1]))),qa().createElement("tr",null,qa().createElement("th",{colSpan:2},hb("stats.storage"))),
qa().createElement("tr",null,qa().createElement("td",null,hb("stats.scene")),qa().createElement("td",null,Hg(m.scene,1))),qa().createElement("tr",null,qa().createElement("td",null,hb("stats.total")),qa().createElement("td",null,Hg(m.total,1))),1===C.length&&qa().createElement("tr",null,qa().createElement("th",{colSpan:2},hb("stats.element"))),1<C.length&&qa().createElement(qa().Fragment,null,qa().createElement("tr",null,qa().createElement("th",{colSpan:2},hb("stats.selected"))),qa().createElement("tr",
null,qa().createElement("td",null,hb("stats.elements")),qa().createElement("td",null,C.length))),0<C.length&&qa().createElement(qa().Fragment,null,qa().createElement("tr",null,qa().createElement("td",null,"x"),qa().createElement("td",null,Math.round(1===C.length?C[0].x:S[0]))),qa().createElement("tr",null,qa().createElement("td",null,"y"),qa().createElement("td",null,Math.round(1===C.length?C[0].y:S[1]))),qa().createElement("tr",null,qa().createElement("td",null,hb("stats.width")),qa().createElement("td",
null,Math.round(1===C.length?C[0].width:S[2]-S[0]))),qa().createElement("tr",null,qa().createElement("td",null,hb("stats.height")),qa().createElement("td",null,Math.round(1===C.length?C[0].height:S[3]-S[1])))),1===C.length&&qa().createElement("tr",null,qa().createElement("td",null,hb("stats.angle")),qa().createElement("td",null,"".concat(Math.round(180*C[0].angle/Math.PI),"°"))),qa().createElement("tr",null,qa().createElement("th",{colSpan:2},hb("stats.version"))),qa().createElement("tr",null,qa().createElement("td",
{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:ld()(function(){return Hp(this,function(ua){switch(ua.label){case 0:return ua.trys.push([0,2,,3]),[4,wg(El())];case 1:return ua.sent(),d.setAppState({toastMessage:hb("toast.copyToClipboard")}),[3,3];case 2:return ua.sent(),[3,3];case 3:return[2]}})}),title:hb("stats.versionCopy")},ba,qa().createElement("br",null),R))))))},Jp=(n(5849),function(d){var f=d.message,h=d.clearToast,m=(0,Jd.useRef)(0),w=(0,Jd.useCallback)(function(){return m.current=
window.setTimeout(function(){return h()},Pb.Lg)},[h]);return(0,Jd.useEffect)(function(){return w(),function(){return clearTimeout(m.current)}},[w,f]),qa().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==m?void 0:m.current)},onMouseLeave:w},qa().createElement("p",{className:"Toast__message"},f))}),Fo=cd({name:"viewMode",perform:function(d,f){return Vf("view","mode","view"),{appState:gh(gh({},f),{},{viewModeEnabled:!this.checked(f),selectedElementIds:{}}),commitToHistory:!1}},
checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[Fd]&&d.altKey&&"KeyR"===d.code}}),Ap=function(){var d=function(f,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(m[C]=w[C])})(f,h)};return function(f,h){function m(){this.constructor=f}d(f,h);f.prototype=null===h?Object.create(h):(m.prototype=h.prototype,new m)}}(),xm=
function(d,f){function h(ba){return function(ua){return function(na){if(m)throw new TypeError("Generator is already executing.");for(;R;)try{if(m=1,w&&(C=2&na[0]?w.return:na[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,na[1])).done)return C;switch(w=0,C&&(na=[2&na[0],C.value]),na[0]){case 0:case 1:C=na;break;case 4:return R.label++,{value:na[1],done:!1};case 5:R.label++;w=na[1];na=[0];continue;case 7:na=R.ops.pop();R.trys.pop();continue;default:if(!(C=R.trys,(C=0<C.length&&C[C.length-
1])||6!==na[0]&&2!==na[0])){R=0;continue}if(3===na[0]&&(!C||na[1]>C[0]&&na[1]<C[3]))R.label=na[1];else if(6===na[0]&&R.label<C[1])R.label=C[1],C=na;else if(C&&R.label<C[2])R.label=C[2],R.ops.push(na);else{C[2]&&R.ops.pop();R.trys.pop();continue}}na=f.call(d,R)}catch(Ia){na=[6,Ia],w=0}finally{m=C=0}if(5&na[0])throw na[1];return{value:na[0]?na[1]:void 0,done:!0}}([ba,ua])}}var m,w,C,S,R={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:h(0),throw:h(1),return:h(2)},
"function"==typeof Symbol&&(S[Symbol.iterator]=function(){return this}),S},qj=function(){for(var d=0,f=0,h=arguments.length;f<h;f++)d+=arguments[f].length;d=Array(d);var m=0;for(f=0;f<h;f++)for(var w=arguments[f],C=0,S=w.length;C<S;C++,m++)d[m]=w[C];return d},$i=new qn,rn=!1,ho=0,Um=0,Vm=0,ym=!1,sn=!1,io=!1,jo={horizontal:null,vertical:null},hm=0,tn=!1,im=null,ck=new Map,Wm=null,Pn=null,Xm=null,lo=function(d){function f(h){var m=this;var w=m=d.call(this,h)||this;Kp.call(m);var C,S,R,ba=jj(),ua=h.width,
na=void 0===ua?window.innerWidth:ua;ua=h.height;var Ia=void 0===ua?window.innerHeight:ua,Oa=h.offsetLeft,Na=h.offsetTop;ua=h.excalidrawRef;var fb=h.viewModeEnabled;fb=void 0!==fb&&fb;var db=h.zenModeEnabled;db=void 0!==db&&db;h=h.gridModeEnabled;h=void 0!==h&&h;if(m.state=Oc(Oc(Oc({},ba),{},{isLoading:!0,width:na,height:Ia},m.getCanvasOffsets({offsetLeft:Oa,offsetTop:Na})),{},{viewModeEnabled:fb,zenModeEnabled:db,gridSize:h?Pb.k:null}),ua){var Cb;ba="current"in ua&&(null===(Cb=ua.current)||void 0===
Cb?void 0:Cb.readyPromise)||((R=new Promise(function(ec,gc){C=ec;S=gc})).resolve=C,R.reject=S,R);R={ready:!0,readyPromise:ba,updateScene:m.updateScene,resetScene:m.resetScene,getSceneElementsIncludingDeleted:m.getSceneElementsIncludingDeleted,history:{clear:m.resetHistory},setScrollToCenter:m.setScrollToCenter,getSceneElements:m.getSceneElements,getAppState:function(){return w.state}};"function"==typeof ua?ua(R):ua.current=R;ba.resolve(R)}return m.scene=new rd,m.actionManager=new Sk(m.syncActionResult,
function(){return w.state},function(){return w.scene.getElementsIncludingDeleted()},m),m.actionManager.registerAll(Cd),m.actionManager.registerAction({name:"undo",perform:function(ec,gc){return Om(ec,gc,function(){return $i.undoOnce()})},keyTest:function(ec){return ec[Fd]&&"z"===ec.key.toLowerCase()&&!ec.shiftKey},PanelComponent:function(ec){ec=ec.updateData;return qa().createElement(Gd,{type:"button",icon:Xd,"aria-label":hb("buttons.undo"),onClick:ec})},commitToHistory:function(){return!1}}),m.actionManager.registerAction(function(ec){return{name:"redo",
perform:function(gc,sc){return Om(gc,sc,function(){return ec.redoOnce()})},keyTest:function(gc){return gc[Fd]&&gc.shiftKey&&"z"===gc.key.toLowerCase()||Pi&&gc.ctrlKey&&!gc.shiftKey&&"y"===gc.key},PanelComponent:function(gc){gc=gc.updateData;return qa().createElement(Gd,{type:"button",icon:nh,"aria-label":hb("buttons.redo"),onClick:gc})},commitToHistory:function(){return!1}}}($i)),m}return Ap(f,d),f.prototype.renderCanvas=function(){var h=window.devicePixelRatio,m=this.state,w=m.width,C=m.height,S=
w*h;h*=C;return m.viewModeEnabled?qa().createElement("canvas",{id:"canvas",style:{width:w,height:C,cursor:"grabbing"},width:S,height:h,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},hb("labels.drawingCanvas")):qa().createElement("canvas",{id:"canvas",style:{width:w,height:C},width:S,height:h,ref:this.handleCanvasRef,
onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},hb("labels.drawingCanvas"))},f.prototype.render=function(){var h,m=this,w=this.state,C=w.zenModeEnabled,S=w.width,R=w.height;w=w.viewModeEnabled;var ba=this.props,ua=ba.onCollabButtonClick,na=ba.onExportToBackend;
ba=ba.renderFooter;var Ia=S/2,Oa=R/2;return qa().createElement("div",{className:jc("excalidraw",{"excalidraw--view-mode":w}),ref:this.excalidrawContainerRef,style:{width:S,height:R}},qa().createElement(Gp,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:ua,onLockToggle:this.toggleLock,onInsertElements:function(Na){return m.addElementsFromPasteOrLibrary(Na,Ia,Oa)},zenModeEnabled:C,toggleZenMode:this.toggleZenMode,
langCode:ie.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:na,renderCustomFooter:ba,viewModeEnabled:w,showExitZenModeBtn:void 0===(null===(h=this.props)||void 0===h?void 0:h.zenModeEnabled)&&C}),qa().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&qa().createElement(Ip,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&qa().createElement(Jp,{message:this.state.toastMessage,
clearToast:this.clearToast}),qa().createElement("main",null,this.renderCanvas()))},f.prototype.componentDidMount=function(){var h=this;return ld()(function(){return xm(this,function(m){return"production"!==Pb.Vi.TEST&&"production"!==Pb.Vi.DEVELOPMENT||(h.setState.bind(h),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return h.state}},setState:{configurable:!0,value:function(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];return h.setState.apply(h,w)}},app:{configurable:!0,
value:h}})),h.scene.addCallback(h.onSceneUpdated),h.addEventListeners(),"number"==typeof h.props.offsetLeft&&"number"==typeof h.props.offsetTop?h.initializeScene():h.setState(h.getCanvasOffsets(h.props),function(){h.initializeScene()}),[2]})})()},f.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(hm);hm=0},f.prototype.removeEventListeners=function(){document.removeEventListener(Pb.Ks.COPY,this.onCopy);document.removeEventListener(Pb.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(Pb.Ks.CUT,this.onCut);document.removeEventListener(Pb.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Pb.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(Pb.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Pb.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Pb.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Pb.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Pb.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(Pb.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Pb.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Pb.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(Pb.Ks.GESTURE_END,this.onGestureEnd,!1)},f.prototype.addEventListeners=function(){var h,m;this.removeEventListeners();document.addEventListener(Pb.Ks.COPY,this.onCopy);document.addEventListener(Pb.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Pb.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(Pb.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(h=document.fonts)||void 0===h||null===(m=h.addEventListener)||void 0===m||m.call(h,"loadingdone",this.onFontLoaded);document.addEventListener(Pb.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Pb.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Pb.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Pb.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(Pb.Ks.CUT,this.onCut),document.addEventListener(Pb.Ks.SCROLL,this.onScroll),window.addEventListener(Pb.Ks.RESIZE,this.onResize,!1),window.addEventListener(Pb.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Pb.Ks.BLUR,this.onBlur,!1),window.addEventListener(Pb.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Pb.Ks.DROP,this.disableEvent,!1))},f.prototype.componentDidUpdate=function(h,m){var w,C,S,R,ba=this;(h.langCode!==this.props.langCode&&
this.updateLanguage(),h.width!==this.props.width||h.height!==this.props.height||"number"==typeof this.props.offsetLeft&&h.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&h.offsetTop!==this.props.offsetTop)&&this.setState(Oc({width:null!==(S=this.props.width)&&void 0!==S?S:window.innerWidth,height:null!==(R=this.props.height)&&void 0!==R?R:window.innerHeight},this.getCanvasOffsets(this.props)));h.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);m.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();h.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});h.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Pb.k:null});null===(w=document.querySelector(".excalidraw"))||void 0===w||w.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){ba.actionManager.executeAction(Oe)});h=m.multiElement;m.elementType!==this.state.elementType&&null!=h&&this.state.isBindingEnabled&&tg(h)&&zg(h,this.state,this.scene,fg(hf.getPointAtIndexGlobalCoordinates(h,-1)));var ua={},na={},Ia={},Oa={},Na={};this.state.collaborators.forEach(function(Cb,ec){if(Cb.selectedElementIds)for(var gc=0,sc=Object.keys(Cb.selectedElementIds);gc<sc.length;gc++){var pd=sc[gc];pd in Ia||(Ia[pd]=[]);Ia[pd].push(ec)}Cb.pointer&&(Cb.username&&(Oa[ec]=Cb.username),
Cb.userState&&(Na[ec]=Cb.userState),na[ec]=vg({sceneX:Cb.pointer.x,sceneY:Cb.pointer.y},ba.state),ua[ec]=Cb.button)});m=this.scene.getElements();w=Ul(m.filter(function(Cb){return!ba.state.editingElement||"text"!==ba.state.editingElement.type||Cb.id!==ba.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:na,
remotePointerButton:ua,remoteSelectedElementIds:Ia,remotePointerUsernames:Oa,remotePointerUserStates:Na,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!Ke().matches});h=w.atLeastOneVisibleElement;(w=w.scrollBars)&&(jo=w);var fb,db;m="text"!==(null===(C=this.state.editingElement)||void 0===C?void 0:C.type)&&!h&&0<m.length;(this.state.scrolledOutside!==m&&this.setState({scrolledOutside:m}),$i.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(fb=(db=this.props).onChange)||void 0===fb||fb.call(db,this.scene.getElementsIncludingDeleted(),this.state)},f.resetTapTwice=function(){rn=!1},f.prototype.addTextFromPaste=function(h){var m,w=Lf({clientX:Um,clientY:Vm},this.state);h=Ai({x:w.x,y:w.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:h,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Pb.hs});this.scene.replaceAllElements(qj(this.scene.getElementsIncludingDeleted(),[h]));this.setState({selectedElementIds:(m={},m[h.id]=!0,m)});$i.resumeRecording()},f.prototype.selectShapeTool=function(h){var m;ym||Gg(this.canvas,
h);(m=document.activeElement)instanceof HTMLElement&&m.className.includes("ToolIcon")&&document.activeElement.blur();Yg(h)||this.setState({suggestedBindings:[]});"selection"!==h?this.setState({elementType:h,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:h})},f.prototype.handleTextWysiwyg=function(h,m){m=m.isExistingElement;var w=void 0!==m&&m,C=this,S=function(R,ba){void 0===ba&&(ba=!1);C.scene.replaceAllElements(qj(C.scene.getElementsIncludingDeleted().map(function(ua){if(ua.id===
h.id&&lf(ua)){var na=ba;na={text:R,isDeleted:null!=na?na:ua.isDeleted};var Ia=of(R,gi(ua));var Oa=Ia.width;var Na=Ia.height;Ia=Ia.baseline;var fb=ua.textAlign;var db=ua.verticalAlign;if("center"===fb&&"middle"===db)fb=of(ua.text,gi(ua)),db=Yj(ua,{width:Oa-fb.width,height:Na-fb.height}),fb=ua.x-db.x,db=ua.y-db.y;else{var Cb=Me(ua);db=Cb[0];var ec=Cb[1],gc=Cb[2];Cb=Cb[3];var sc=og(ua,Oa,Na);fb=(db=fi({s:!0,e:"center"===fb||"left"===fb,w:"center"===fb||"right"===fb},ua.x,ua.y,ua.angle,(db-sc[0])/2,(ec-
sc[1])/2,(gc-sc[2])/2,(Cb-sc[3])/2))[0];db=db[1]}Oa={width:Oa,height:Na,x:Number.isFinite(fb)?fb:ua.x,y:Number.isFinite(db)?db:ua.y,baseline:Ia};ua=Ye(ua,Ea(na,Oa))}return ua})))};!function(R){var ba=R.id,ua=R.appState,na=R.onChange,Ia=R.onSubmit,Oa=R.getViewportCoords,Na=R.element;R=R.canvas;var fb=function(){var vd,Pd=null===(vd=rd.getScene(Na))||void 0===vd?void 0:vd.getElement(ba);if(Pd&&lf(Pd)){vd=Oa(Pd.x,Pd.y);var zc=vd[0],Vc=vd[1];vd=Pd.textAlign;var ad=Pd.angle;db.value=Pd.text;var Hd=Pd.text.replace(/\r\n?/g,
"\n").split("\n"),Ag=Pd.height/Hd.length;Hd=Object;var dh=Hd.assign,oi=db.style,Nh=gi(Pd);Ag="".concat(Ag,"px");var rk="".concat(Pd.width,"px"),ul="".concat(Pd.height,"px");zc="".concat(zc,"px");Vc="".concat(Vc,"px");var Dk=Pd.height,Nl=ua.zoom,zm=ua.offsetTop;ad=180*ad/Math.PI;ad="translate(".concat((Pd.width-2*ua.offsetLeft)*(Nl.value-1)/2,"px, ").concat((Dk-2*zm)*(Nl.value-1)/2,"px) scale(").concat(Nl.value,") rotate(").concat(ad,"deg)");dh.call(Hd,oi,{font:Nh,lineHeight:Ag,width:rk,height:ul,
left:zc,top:Vc,transform:ad,textAlign:vd,color:Pd.strokeColor,opacity:Pd.opacity/100,filter:"var(--appearance-filter)"})}},db=document.createElement("textarea");db.dir="auto";db.tabIndex=0;db.dataset.type="wysiwyg";db.wrap="off";Object.assign(db.style,{position:"fixed",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});fb();na&&(db.oninput=
function(){na(Ue(db.value))});db.onkeydown=function(vd){"Escape"===vd.key?(vd.preventDefault(),ec()):"Enter"===vd.key&&vd[Fd]?(vd.preventDefault(),vd.isComposing||229===vd.keyCode)||ec():"Enter"!==vd.key||vd.altKey||vd.stopPropagation()};var Cb=function(vd){vd.preventDefault();vd.stopPropagation()},ec=function(){Ia(Ue(db.value));nd||(nd=!0,db.onblur=null,db.oninput=null,db.onkeydown=null,Dd&&Dd.disconnect(),window.removeEventListener("resize",fb),window.removeEventListener("wheel",Cb,!0),window.removeEventListener("pointerdown",
sc),window.removeEventListener("pointerup",gc),window.removeEventListener("blur",ec),pd(),db.remove())},gc=function(){window.removeEventListener("pointerup",gc);setTimeout(function(){db.onblur=ec;db.focus()})},sc=function(vd){vd.target instanceof HTMLElement&&vd.target.closest(".".concat(Pb.$C.SHAPE_ACTIONS_MENU))&&!yi(vd.target)&&(db.onblur=null,window.addEventListener("pointerup",gc),window.addEventListener("blur",ec))},pd=rd.getScene(Na).addCallback(function(){fb();db.focus()}),nd=!1;db.onblur=
ec;var Dd=null;R&&"ResizeObserver"in window?(Dd=new window.ResizeObserver(function(){fb()})).observe(R):window.addEventListener("resize",fb);window.addEventListener("pointerdown",sc);window.addEventListener("wheel",Cb,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(db);db.focus();db.select()}({id:h.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(R,ba){R=vg({sceneX:R,sceneY:ba},C.state);return[R.x,R.y]},onChange:Ad(function(R){S(R);
!h.isDeleted&&vh(h)}),onSubmit:Ad(function(R){var ba=!R.trim();S(R,ba);ba?qi(C.scene.getElements(),[h]):C.setState(function(ua){var na;return{selectedElementIds:Oc(Oc({},ua.selectedElementIds),{},(na={},na[h.id]=!0,na))}});ba&&!w||$i.resumeRecording();C.setState({draggingElement:null,editingElement:null});C.state.elementLocked&&Gg(C.canvas,C.state.elementType)}),element:h});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});S(h.text)},f.prototype.getTextElementAtPosition=
function(h,m){return(h=this.getElementAtPosition(h,m))&&lf(h)&&!h.isDeleted?h:null},f.prototype.getElementAtPosition=function(h,m){var w=this.getElementsAtPosition(h,m);if(1<w.length){var C=w[w.length-1];return Fj(C,this.state,h,m)?w[w.length-2]:C}return 1===w.length?w[0]:null},f.prototype.getElementsAtPosition=function(h,m){var w,C,S=this;return w=this.scene.getElements(),C=function(R){var ba=S.state,ua=10/ba.zoom.value,na=[h,m];return ba.selectedElementIds[R.id]?il(R,na,ua):nj(R,ba,na)},w.filter(function(R){return!R.isDeleted&&
C(R)})},f.prototype.maybeCleanupAfterMissingPointerUp=function(h){null!==im&&im(h)},f.prototype.updateGestureOnPointerDown=function(h){ck.set(h.pointerId,{x:h.clientX,y:h.clientY});2===ck.size&&(Wm=jl(ck),Xm=this.state.zoom.value,Pn=cm(Array.from(ck.values())))},f.prototype.initialPointerDownState=function(h){var m=Lf(h,this.state),w=Ee(this.scene.getElements(),this.state),C=Yc(w),S=C[0],R=C[1],ba=C[2];C=C[3];return{origin:m,originInGrid:fg(ug(m.x,m.y,this.state.gridSize)),scrollbars:lh(jo,h.clientX-
this.state.offsetLeft,h.clientY-this.state.offsetTop),lastCoords:Oc({},m),originalElements:this.scene.getElements().reduce(function(ua,na){return ua.set(na.id,td(na)),ua},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(ba+S)/2,y:(C+R)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(m,w)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,
onUp:null,onKeyUp:null,onKeyDown:null}}},f.prototype.handleDraggingScrollBar=function(h,m){var w=this;if(!m.scrollbars.isOverEither||this.state.multiElement)return!1;io=!0;m.lastCoords.x=h.clientX;m.lastCoords.y=h.clientY;var C=Ad(function(R){R.target instanceof HTMLElement&&w.handlePointerMoveOverScrollbars(R,m)}),S=Ad(function(){io=!1;Gg(w.canvas,w.state.elementType);im=null;w.setState({cursorButton:"up"});w.savePointer(h.clientX,h.clientY,"up");window.removeEventListener(Pb.Ks.POINTER_MOVE,C);
window.removeEventListener(Pb.Ks.POINTER_UP,S)});return im=S,window.addEventListener(Pb.Ks.POINTER_MOVE,C),window.addEventListener(Pb.Ks.POINTER_UP,S),!0},f.prototype.isASelectedElement=function(h){return null!=h&&this.state.selectedElementIds[h.id]},f.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(h,m){if(2>m.length)return!1;var w=10/this.state.zoom.value;m=Yc(m);var C=m[1],S=m[2],R=m[3];return h.x>m[0]-w&&h.x<S+w&&h.y>C-w&&h.y<R+w},f.prototype.onKeyDownFromPointerDownHandler=function(h){var m=
this;return Ad(function(w){m.maybeHandleResize(h,w)||m.maybeDragNewGenericElement(h,w)})},f.prototype.onKeyUpFromPointerDownHandler=function(h){var m=this;return Ad(function(w){"Alt"===w.key&&w.preventDefault();m.maybeHandleResize(h,w)||m.maybeDragNewGenericElement(h,w)})},f.prototype.onPointerMoveFromPointerDownHandler=function(h){var m=this;return Ad(function(w){if(null===h.drag.offset&&(h.drag.offset=fg(function(gc,sc,pd){gc=Yc(gc);return[sc-gc[0],pd-gc[1]]}(Ee(m.scene.getElements(),m.state),h.origin.x,
h.origin.y))),w.target instanceof HTMLElement&&!m.handlePointerMoveOverScrollbars(w,h)){var C=Lf(w,m.state),S=ug(C.x,C.y,m.state.gridSize),R=S[0];S=S[1];if(h.drag.hasOccurred||"arrow"!==m.state.elementType&&"line"!==m.state.elementType||!(Math.hypot(h.origin.x-C.x,h.origin.y-C.y)<Pb.f)){if(h.resize.isResizing&&(h.lastCoords.x=C.x,h.lastCoords.y=C.y,m.maybeHandleResize(h,w)))return!0;if(m.state.editingLinearElement&&hf.handlePointDragging(m.state,function(gc){return m.setState(gc)},C.x,C.y,function(gc,
sc){m.maybeSuggestBindingForLinearElementAtCursor(gc,sc,C)}))return h.lastCoords.x=C.x,void(h.lastCoords.y=C.y);if(h.hit.allHitElements.some(function(gc){return m.isASelectedElement(gc)})||h.hit.hasHitCommonBoundingBoxOfSelectedElements){h.drag.hasOccurred=!0;var ba=Ee(m.scene.getElements(),m.state);if(0<ba.length){R=ug(C.x-h.drag.offset.x,C.y-h.drag.offset.y,m.state.gridSize);var ua=R[0];R=R[1];S=[Math.abs(C.x-h.origin.x),Math.abs(C.y-h.origin.y)];if(function(gc,sc,pd,nd,Dd,vd,Pd,zc){void 0===vd&&
(vd=!1);void 0===Pd&&(Pd=0);void 0===zc&&(zc=0);Dd=Yc(sc);var Vc=pd-Dd[0],ad=nd-Dd[1];sc.forEach(function(Hd){if(vd){var Ag=vd&&Pd<zc;var dh=vd&&Pd>zc;var oi=gc.originalElements.get(Hd.id);Ag=Ag&&oi?oi.x:Hd.x+Vc;dh=dh&&oi?oi.y:Hd.y+ad}else Ag=Hd.x+Vc,dh=Hd.y+ad;Bd(Hd,{x:Ag,y:dh});vh(Hd,{simultaneouslyUpdated:sc})})}(h,ba,ua,R,m.scene,w.shiftKey,S[0],S[1]),m.maybeSuggestBindingForAll(ba),w.altKey&&!h.hit.hasBeenDuplicated){h.hit.hasBeenDuplicated=!0;ba=[];w=[];var na=new Map;S=new Map;for(var Ia=h.hit.element,
Oa=0,Na=m.scene.getElementsIncludingDeleted();Oa<Na.length;Oa++){var fb=Na[Oa];if(m.state.selectedElementIds[fb.id]||fb.id===(null==Ia?void 0:Ia.id)&&h.hit.wasAddedToSelection){var db=Bi(m.state.editingGroupId,na,fb),Cb=ug(h.origin.x-h.drag.offset.x,h.origin.y-h.drag.offset.y,m.state.gridSize);Bd(db,{x:db.x+(Cb[0]-ua),y:db.y+(Cb[1]-R)});ba.push(db);w.push(fb);S.set(fb.id,db.id)}else ba.push(fb)}ua=qj(ba,w);Vj(ua,w,S,"duplicatesServeAsOld");m.scene.replaceAllElements(ua)}return}}if(ba=m.state.draggingElement)if(Md(ba)?
(h.drag.hasOccurred=!0,na=ba.points,Oa=Ia=void 0,"draw"===ba.type?(Ia=C.x-ba.x,Oa=C.y-ba.y):(Ia=R-ba.x,Oa=S-ba.y),w.shiftKey&&2===na.length&&(Ia=(ua=Gf(m.state.elementType,Ia,Oa)).width,Oa=ua.height),1===na.length?Bd(ba,{points:qj(na,[[Ia,Oa]])}):1<na.length&&("draw"===ba.type?Bd(ba,{points:T(qj(na,[[Ia,Oa]]),.7/m.state.zoom.value)}):Bd(ba,{points:qj(na.slice(0,-1),[[Ia,Oa]])})),tg(ba)&&m.maybeSuggestBindingForLinearElementAtCursor(ba,"end",C,m.state.startBoundElement)):(h.lastCoords.x=C.x,h.lastCoords.y=
C.y,m.maybeDragNewGenericElement(h,w)),"selection"===m.state.elementType){ua=m.scene.getElements();!w.shiftKey&&wf(ua,m.state)&&m.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var ec=function(gc,sc){sc=Me(sc);var pd=sc[0],nd=sc[1],Dd=sc[2],vd=sc[3];return gc.filter(function(Pd){var zc=eg(Pd),Vc=zc[0],ad=zc[1],Hd=zc[2];zc=zc[3];return"selection"!==Pd.type&&pd<=Vc&&nd<=ad&&Dd>=Hd&&vd>=zc})}(ua,ba);m.setState(function(gc){return Ej(Oc(Oc({},gc),{},{selectedElementIds:Oc(Oc({},
gc.selectedElementIds),ec.reduce(function(sc,pd){return sc[pd.id]=!0,sc},{}))}),m.scene.getElements())})}}}})},f.prototype.handlePointerMoveOverScrollbars=function(h,m){return m.scrollbars.isOverHorizontal?(h=h.clientX,this.setState({scrollX:this.state.scrollX-(h-m.lastCoords.x)/this.state.zoom.value}),m.lastCoords.x=h,!0):m.scrollbars.isOverVertical?(h=h.clientY,this.setState({scrollY:this.state.scrollY-(h-m.lastCoords.y)/this.state.zoom.value}),m.lastCoords.y=h,!0):!1},f.prototype.onPointerUpFromPointerDownHandler=
function(h){var m=this;return Ad(function(w){var C=m.state,S=C.draggingElement,R=C.resizingElement,ba=C.multiElement,ua=C.elementType,na=C.elementLocked,Ia=C.isResizing;C=C.isRotating;if(m.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:ba||lf(m.state.editingElement)?m.state.editingElement:null}),m.savePointer(w.clientX,w.clientY,"up"),m.state.editingLinearElement){var Oa=hf.handlePointerUp(w,m.state.editingLinearElement,m.state);Oa!==
m.state.editingLinearElement&&m.setState({editingLinearElement:Oa,suggestedBindings:[]})}if(im=null,window.removeEventListener(Pb.Ks.POINTER_MOVE,h.eventListeners.onMove),window.removeEventListener(Pb.Ks.POINTER_UP,h.eventListeners.onUp),window.removeEventListener(Pb.Ks.KEYDOWN,h.eventListeners.onKeyDown),window.removeEventListener(Pb.Ks.KEYUP,h.eventListeners.onKeyUp),"draw"!==(null==S?void 0:S.type))if(Md(S))1<S.points.length&&$i.resumeRecording(),w=Lf(w,m.state),h.drag.hasOccurred||!S||ba?h.drag.hasOccurred&&
!ba&&(m.state.isBindingEnabled&&tg(S)&&zg(S,m.state,m.scene,w),m.setState({suggestedBindings:[],startBoundElement:null}),na||"draw"===ua?m.setState(function(db){var Cb;return{draggingElement:null,selectedElementIds:Oc(Oc({},db.selectedElementIds),{},(Cb={},Cb[m.state.draggingElement.id]=!0,Cb))}}):(Le(m.canvas),m.setState(function(db){var Cb;return{draggingElement:null,elementType:"selection",selectedElementIds:Oc(Oc({},db.selectedElementIds),{},(Cb={},Cb[m.state.draggingElement.id]=!0,Cb))}}))):
(Bd(S,{points:qj(S.points,[[w.x-S.x,w.y-S.y]])}),m.setState({multiElement:S,editingElement:m.state.draggingElement}));else{if("selection"!==ua&&S&&Tf(S))return m.scene.replaceAllElements(m.scene.getElementsIncludingDeleted().slice(0,-1)),void m.setState({draggingElement:null});S&&Bd(S,Cj(S));R&&$i.resumeRecording();R&&Tf(R)&&m.scene.replaceAllElements(m.scene.getElementsIncludingDeleted().filter(function(db){return db.id!==R.id}));var Na=h.hit.element;if(Na&&!h.drag.hasOccurred&&!h.hit.wasAddedToSelection)if(w.shiftKey)if(m.state.selectedElementIds[Na.id])if(null!=
Dj(m.state,Na)){var fb=Na.groupIds.flatMap(function(db){return lj(m.scene.getElements(),db)}).map(function(db){var Cb;return(Cb={})[db.id]=!1,Cb}).reduce(function(db,Cb){return Oc(Oc({},db),Cb)},{});m.setState(function(db){return{selectedGroupIds:Oc(Oc({},db.selectedElementIds),Na.groupIds.map(function(Cb){var ec;return(ec={})[Cb]=!1,ec}).reduce(function(Cb,ec){return Oc(Oc({},Cb),ec)},{})),selectedElementIds:Oc(Oc({},db.selectedElementIds),fb)}})}else m.setState(function(db){var Cb;return{selectedElementIds:Oc(Oc({},
db.selectedElementIds),{},(Cb={},Cb[Na.id]=!1,Cb))}});else m.setState(function(db){var Cb;return{selectedElementIds:Oc(Oc({},db.selectedElementIds),{},(Cb={},Cb[Na.id]=!0,Cb))}});else m.setState(function(db){var Cb;return Oc({},Ej(Oc(Oc({},db),{},{selectedElementIds:(Cb={},Cb[Na.id]=!0,Cb)}),m.scene.getElements()))});m.state.editingLinearElement||h.drag.hasOccurred||m.state.isResizing||!(Na&&Fj(Na,m.state,h.origin.x,h.origin.y)||!Na&&h.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!na&&"draw"!==
ua&&S&&m.setState(function(db){var Cb;return{selectedElementIds:Oc(Oc({},db.selectedElementIds),{},(Cb={},Cb[S.id]=!0,Cb))}}),("selection"!==ua||wf(m.scene.getElements(),m.state))&&$i.resumeRecording(),(h.drag.hasOccurred||Ia||C)&&(m.state.isBindingEnabled?oj:kd)(Ee(m.scene.getElements(),m.state)),na||"draw"===ua?m.setState({draggingElement:null,suggestedBindings:[]}):(Le(m.canvas),m.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):m.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null})}else m.actionManager.executeAction(Oe)})},f.prototype.maybeSuggestBindingForAll=function(h){var m;h=(m=new Set(h.map(function(w){return w.id})),h.flatMap(function(w){return tg(w)?Sg(w).filter(function(C){return!m.has(C.id)}):xi(w)?pj(w).filter(function(C){return!m.has(C[0].id)}):[]}));this.setState({suggestedBindings:h})},f.prototype.clearSelection=function(h){this.setState(function(m){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:m.editingGroupId&&
null!=h&&h.groupIds.includes(m.editingGroupId)?m.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},f.prototype.getTextWysiwygSnappedToCenterPosition=function(h,m,w,C,S){if(S=function(R,ba,ua){for(var na=null,Ia=R.length-1;0<=Ia;--Ia)if(!R[Ia].isDeleted){var Oa=Me(R[Ia]),Na=Oa[1],fb=Oa[2],db=Oa[3];if(Oa[0]<ba&&ba<fb&&Na<ua&&ua<db){na=R[Ia];break}}return na}(this.scene.getElementsIncludingDeleted().filter(function(R){return!lf(R)}),
h,m))if(C=S.x+S.width/2,S=S.y+S.height/2,Math.hypot(h-C,m-S)<Pb.wZ)return h=vg({sceneX:C,sceneY:S},w),{viewportX:h.x,viewportY:h.y,elementCenterX:C,elementCenterY:S}},f.prototype.getCanvasOffsets=function(h){var m,w;return"number"==typeof(null==h?void 0:h.offsetLeft)&&"number"==typeof(null==h?void 0:h.offsetTop)?{offsetLeft:h.offsetLeft,offsetTop:h.offsetTop}:null!==(m=this.excalidrawContainerRef)&&void 0!==m&&null!==(w=m.current)&&void 0!==w&&w.parentElement?(w=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),
m=w.left,w=w.top,{offsetLeft:"number"==typeof(null==h?void 0:h.offsetLeft)?h.offsetLeft:m,offsetTop:"number"==typeof(null==h?void 0:h.offsetTop)?h.offsetTop:w}):{offsetLeft:"number"==typeof(null==h?void 0:h.offsetLeft)?h.offsetLeft:0,offsetTop:"number"==typeof(null==h?void 0:h.offsetTop)?h.offsetTop:0}},f.prototype.updateLanguage=function(){var h=this;return ld()(function(){var m;return xm(this,function(w){switch(w.label){case 0:return m=gj.find(function(C){return C.code===h.props.langCode})||Pf,
[4,tf(m)];case 1:return w.sent(),h.setAppState({}),[2]}})})()},f}(qa().Component);lo.defaultProps={width:window.innerWidth,height:window.innerHeight};var Kp=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=qa().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=Ad(function(f){if(!d.unmounted&&!1!==f){var h=null;if(f.elements&&
(f.elements.forEach(function(ua){var na;(null===(na=d.state.editingElement)||void 0===na?void 0:na.id)===ua.id&&d.state.editingElement!==ua&&!ua.isDeleted&&(h=ua)}),d.scene.replaceAllElements(f.elements),f.commitToHistory&&$i.resumeRecording()),f.appState||h){var m,w,C;f.commitToHistory&&$i.resumeRecording();var S=(null==f||null===(m=f.appState)||void 0===m?void 0:m.viewModeEnabled)||!1,R=(null==f||null===(w=f.appState)||void 0===w?void 0:w.zenModeEnabled)||!1,ba=(null==f||null===(C=f.appState)||
void 0===C?void 0:C.gridSize)||null;void 0!==d.props.viewModeEnabled&&(S=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(R=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(ba=d.props.gridModeEnabled?Pb.k:null);d.setState(function(ua){var na;return Oc(Oc({},f.appState),{},{editingElement:h||(null===(na=f.appState)||void 0===na?void 0:na.editingElement)||null,width:ua.width,height:ua.height,offsetTop:ua.offsetTop,offsetLeft:ua.offsetLeft,viewModeEnabled:S,zenModeEnabled:R,gridSize:ba})},
function(){f.syncHistory&&$i.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=Ad(function(){ym=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(f){f.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(f){lf(f)&&ag.delete(f)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var f=ld()(function(h){var m,w,C,S,R;return xm(this,function(ba){switch(ba.label){case 0:window.history.replaceState({},
Pb.iC,window.location.origin),ba.label=1;case 1:return ba.trys.push([1,7,,8]),[4,fetch(h)];case 2:return[4,ba.sent().blob()];case 3:return m=ba.sent(),S=(C=JSON).parse,[4,m.text()];case 4:ba=w=S.apply(C,[ba.sent()]);if("object"!=typeof ba||!ba||"excalidrawlib"!==ba.type||1!==ba.version)throw Error();return window.confirm(hb("alerts.confirmAddLibrary",{numShapes:w.library.length}))?[4,F.importLibrary(m)]:[3,6];case 5:ba.sent(),d.setState({isLibraryOpen:!0}),ba.label=6;case 6:return[3,8];case 7:return R=
ba.sent(),window.alert(hb("alerts.errorLoadingLibrary")),console.error(R),[3,8];case 8:return[2]}})});return function(h){return f.apply(this,arguments)}}();this.resetHistory=function(){$i.clear()};this.resetScene=Ad(function(f){d.scene.replaceAllElements([]);d.setState(function(h){return Oc(Oc({},jj()),{},{isLoading:(null==f||!f.resetLoadingState)&&h.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=ld()(function(){var f,h,m,w,C;return xm(this,function(S){switch(S.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var R=ld()(function(ba){var ua,na;return xm(this,function(Ia){switch(Ia.label){case 0:return ba.files.length?[4,(ua=ba.files[0]).getFile()]:[2];case 1:return(na=Ia.sent()).handle=ua,bm(na,d.state).then(function(Oa){return d.syncActionResult({elements:Oa.elements,appState:Oc(Oc({},Oa.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Oa){d.setState({isLoading:!1,errorMessage:Oa.message})}),[2]}})});
return function(ba){return R.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),h=null,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return h=S.sent()||null,[3,4];case 3:return m=S.sent(),console.error(m),[3,4];case 4:return(w=Al(h,null)).appState=Oc(Oc({},w.appState),{},{isLoading:!1}),null!==(f=h)&&void 0!==f&&f.scrollToCenter&&(w.appState=Oc(Oc({},w.appState),fe(w.elements,Oc(Oc({},w.appState),{},{width:d.state.width,height:d.state.height,offsetTop:d.state.offsetTop,
offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Oc(Oc({},w),{},{commitToHistory:!0})),(C=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(C)]:[3,6];case 5:S.sent(),S.label=6;case 6:return[2]}})});this.onResize=Ad(function(){d.scene.getElementsIncludingDeleted().forEach(function(f){return ag.delete(f)});d.setState({})});this.onScroll=Kf(function(){var f=d.getCanvasOffsets(),h=f.offsetTop,m=f.offsetLeft;d.setState(function(w){return w.offsetLeft===
m&&w.offsetTop===h?null:{offsetTop:h,offsetLeft:m}})},Pb.HM);this.onCut=Ad(function(f){yi(f.target)||(d.cutAll(),f.preventDefault())});this.onCopy=Ad(function(f){yi(f.target)||(d.copyAll(),f.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(Zi)};this.copyAll=function(){Fl(d.scene.getElements(),d.state)};this.onTapStart=function(f){if(!rn)return rn=!0,clearTimeout(ho),void(ho=window.setTimeout(lo.resetTapTwice,Pb.Gj));if(rn&&1===f.touches.length){var h=f.touches[0];
d.handleCanvasDoubleClick({clientX:h.clientX,clientY:h.clientY});rn=!1;clearTimeout(ho)}f.preventDefault();2===f.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(f){f.preventDefault();0<f.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=Ad(function(){var f=ld()(function(h){var m,w,C;return xm(this,function(S){switch(S.label){case 0:return m=document.activeElement,w=document.elementFromPoint(Um,
Vm),!h||w instanceof HTMLCanvasElement&&!yi(m)?[4,Dl(h)]:[2];case 1:return(C=S.sent()).errorMessage?d.setState({errorMessage:C.errorMessage}):C.spreadsheet?d.setState({pasteDialog:{data:C.spreadsheet,shown:!0}}):C.elements?d.addElementsFromPasteOrLibrary(C.elements):C.text&&d.addTextFromPaste(C.text),d.selectShapeTool("selection"),null==h||h.preventDefault(),[2]}})});return function(h){return f.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(f,h,m){void 0===h&&(h=Um);void 0===
m&&(m=Vm);var w=Yc(f),C=w[0],S=w[1],R=Math.abs(C-w[2])/2;w=Math.abs(S-w[3])/2;h=Lf({clientX:h,clientY:m},d.state);R=h.x-R;w=h.y-w;var ba=new Map;R=ug(R,w,d.state.gridSize);var ua=R[0],na=R[1],Ia=new Map;R=f.map(function(Oa){var Na=Bi(d.state.editingGroupId,ba,Oa,{x:Oa.x+ua-C,y:Oa.y+na-S});return Ia.set(Oa.id,Na.id),Na});w=qj(d.scene.getElementsIncludingDeleted(),R);Vj(w,f,Ia);d.scene.replaceAllElements(w);$i.resumeRecording();d.setState(Ej(Oc(Oc({},d.state),{},{isLibraryOpen:!1,selectedElementIds:R.reduce(function(Oa,
Na){return Oa[Na.id]=!0,Oa},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(f){d.setState(f)};this.removePointer=function(f){"touch"===f.pointerType&&hm&&(clearTimeout(hm),hm=0,tn=!1);ck.delete(f.pointerId)};this.toggleLock=function(){d.setState(function(f){return{elementLocked:!f.elementLocked,elementType:f.elementLocked?"selection":f.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(ed)};this.toggleStats=function(){d.state.showStats||Vf("dialog",
"stats");d.actionManager.executeAction($l)};this.setScrollToCenter=function(f){d.setState(Oc({},fe(dd(f),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=Ad(function(f){var h;f.commitToHistory&&$i.resumeRecording();null!==(h=f.appState)&&void 0!==h&&h.viewBackgroundColor&&d.setState({viewBackgroundColor:f.appState.viewBackgroundColor});f.elements&&d.scene.replaceAllElements(f.elements);f.collaborators&&d.setState({collaborators:f.collaborators})});
this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=Ad(function(f){Um=f.x;Vm=f.y});this.onKeyDown=Ad(function(f){var h;if(!(("Proxy"in window&&(!f.shiftKey&&/^[A-Z]$/.test(f.key)||f.shiftKey&&/^[a-z]$/.test(f.key))&&(f=new Proxy(f,{get:function(S,R){var ba=S[R];return"function"==typeof ba?ba.bind(S):"key"===R?f.shiftKey?S.key.toUpperCase():S.key.toLowerCase():ba}})),yi(f.target)&&"Escape"!==f.key||ye(f.key)&&(h=f.target,h instanceof HTMLElement&&"wysiwyg"===h.dataset.type||
h instanceof HTMLBRElement||h instanceof HTMLInputElement||h instanceof HTMLTextAreaElement||h instanceof HTMLSelectElement))||("?"===f.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(f)||d.state.viewModeEnabled))){if(f[Fd]&&d.setState({isBindingEnabled:!1}),"Digit9"===f.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),ye(f.key)){h=d.state.gridSize&&(f.shiftKey?Pb.$e:d.state.gridSize)||(f.shiftKey?Pb.Iw:Pb.$e);var m=d.scene.getElements().filter(function(S){return d.state.selectedElementIds[S.id]}),
w=0,C=0;"ArrowLeft"===f.key?w=-h:"ArrowRight"===f.key?w=h:"ArrowUp"===f.key?C=-h:"ArrowDown"===f.key&&(C=h);m.forEach(function(S){Bd(S,{x:S.x+w,y:S.y+C});vh(S,{simultaneouslyUpdated:m})});d.maybeSuggestBindingForAll(m);f.preventDefault()}else if("Enter"===f.key)if(h=Ee(d.scene.getElements(),d.state),1===h.length&&Md(h[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===h[0].id||($i.resumeRecording(),d.setState({editingLinearElement:new hf(h[0],d.scene)}));else{if(1===h.length&&
!Md(h[0]))return h=h[0],d.startTextEditing({sceneX:h.x+h.width/2,sceneY:h.y+h.height/2}),void f.preventDefault()}else f.ctrlKey||f.altKey||f.metaKey||null!==d.state.draggingElement||((h=function(S){var R=Wk.find(function(ba,ua){return S===(ua+1).toString()||("string"==typeof ba.key?ba.key===S:ba.key.includes(S))});return(null==R?void 0:R.value)||null}(f.key))?d.selectShapeTool(h):"q"===f.key&&d.toggleLock());" "===f.key&&0===ck.size&&(ym=!0,Og(d.canvas,Pb.oc.GRABBING))}});this.onKeyUp=Ad(function(f){if(" "===
f.key&&("selection"===d.state.elementType?Le(d.canvas):(Gg(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ym=!1),f[Fd]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),ye(f.key))f=Ee(d.scene.getElements(),d.state),d.state.isBindingEnabled?oj(f):kd(f),d.setState({suggestedBindings:[]})});this.onGestureStart=Ad(function(f){f.preventDefault();d.setState({selectedElementIds:{}});Xm=d.state.zoom.value});this.onGestureChange=Ad(function(f){if(f.preventDefault(),
2!==ck.size){var h=Xm;h&&d.setState(function(m){var w=m.zoom,C=m.offsetLeft;m=m.offsetTop;return{zoom:Oh(dj(h*f.scale),w,{left:C,top:m},{x:Um,y:Vm})}})}});this.onGestureEnd=Ad(function(f){f.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});Xm=null});this.startTextEditing=function(f){var h=f.sceneX,m=f.sceneY;f=f.insertAtParentCenter;var w=void 0===f||f;f=d.getTextElementAtPosition(h,m);w=w&&d.getTextWysiwygSnappedToCenterPosition(h,
m,d.state,d.canvas,window.devicePixelRatio);h=f||Ai({x:w?w.elementCenterX:h,y:w?w.elementCenterY:m,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,
textAlign:w?"center":d.state.currentItemTextAlign,verticalAlign:w?"middle":Pb.hs});d.setState({editingElement:h});f?w&&"center"===h.textAlign||Bd(h,{verticalAlign:Pb.hs}):(d.scene.replaceAllElements(qj(d.scene.getElementsIncludingDeleted(),[h])),w||Bd(h,{y:h.y-h.baseline/2}));d.setState({editingElement:h});d.handleTextWysiwyg(h,{isExistingElement:!!f})};this.handleCanvasDoubleClick=function(f){if(!d.state.multiElement&&"selection"===d.state.elementType){var h=Ee(d.scene.getElements(),d.state);if(1===
h.length&&Md(h[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===h[0].id||($i.resumeRecording(),d.setState({editingLinearElement:new hf(h[0],d.scene)}));else{Le(d.canvas);var m=Lf(f,d.state);h=m.x;m=m.y;if(0<Xj(d.state).length){var w=d.getElementAtPosition(h,m),C=w&&function(S,R){return S.groupIds.find(function(ba){return R[ba]})}(w,d.state.selectedGroupIds);if(C)return void d.setState(function(S){var R;return Ej(Oc(Oc({},S),{},{editingGroupId:C,selectedElementIds:(R={},R[w.id]=
!0,R),selectedGroupIds:{}}),d.scene.getElements())})}Le(d.canvas);f[Fd]||d.startTextEditing({sceneX:h,sceneY:m,insertAtParentCenter:!f.altKey})}}};this.handleCanvasPointerMove=function(f){d.savePointer(f.clientX,f.clientY,d.state.cursorButton);ck.has(f.pointerId)&&ck.set(f.pointerId,{x:f.clientX,y:f.clientY});var h=Xm;if(2===ck.size&&Wm&&h&&Pn){var m=jl(ck),w=m.x-Wm.x,C=m.y-Wm.y;Wm=m;var S=cm(Array.from(ck.values()))/Pn;d.setState(function(fb){var db=fb.zoom,Cb=fb.offsetLeft,ec=fb.offsetTop;return{scrollX:fb.scrollX+
w/db.value,scrollY:fb.scrollY+C/db.value,zoom:Oh(dj(h*S),db,{left:Cb,top:ec},m),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else Wm=Pn=Xm=null;if(!(ym||sn||io)){var R=lh(jo,f.clientX-d.state.offsetLeft,f.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(R?Le(d.canvas):Gg(d.canvas,d.state.elementType));var ba=Lf(f,d.state),ua=ba.x,na=ba.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var Ia=hf.handlePointerMove(f,
ua,na,d.state.editingLinearElement,d.state.gridSize);Ia!==d.state.editingLinearElement&&d.setState({editingLinearElement:Ia});null!=Ia.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(ba):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(Ia=d.state.draggingElement,tg(Ia)?d.maybeSuggestBindingForLinearElementAtCursor(Ia,"end",ba,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(ba));if(d.state.multiElement){R=d.state.multiElement;ba=R.x;Ia=R.y;f=R.points;var Oa=R.lastCommittedPoint,
Na=f[f.length-1];return Gg(d.canvas,d.state.elementType),void(Na===Oa?Math.hypot(Na[0]-(ua-ba),Na[1]-(na-Ia))>=Pb.qx?Bd(R,{points:qj(f,[[ua-ba,na-Ia]])}):Og(d.canvas,Pb.oc.POINTER):2<f.length&&Oa&&Math.hypot(Oa[0]-(ua-ba),Oa[1]-(na-Ia))<Pb.qx?(Og(d.canvas,Pb.oc.POINTER),Bd(R,{points:f.slice(0,-1)})):(ph(f,d.state.zoom.value)&&Og(d.canvas,Pb.oc.POINTER),Bd(R,{points:qj(f.slice(0,-1),[[ua-ba,na-Ia]])})))}if(!(f.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){Oa=d.scene.getElements();
Ia=Ee(Oa,d.state);if(1!==Ia.length||R||d.state.editingLinearElement){if(1<Ia.length&&!R&&(ua=yg(Yc(Ia),ua,na,d.state.zoom,f.pointerType)))return void Og(d.canvas,uh({transformHandleType:ua}))}else if((ua=Jg(Oa,d.state,ua,na,d.state.zoom,f.pointerType))&&ua.transformHandleType)return void Og(d.canvas,uh(ua));ua=d.getElementAtPosition(ba.x,ba.y);"text"===d.state.elementType?Og(d.canvas,lf(ua)?Pb.oc.TEXT:Pb.oc.CROSSHAIR):R?Og(d.canvas,Pb.oc.AUTO):ua||d.isHittingCommonBoundingBoxOfSelectedElements(ba,
Ia)?Og(d.canvas,Pb.oc.MOVE):Og(d.canvas,Pb.oc.AUTO)}}};this.handleTouchMove=function(f){tn=!0};this.handleCanvasPointerDown=function(f){if(f.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(f),d.maybeCleanupAfterMissingPointerUp(f),!(sn||(d.setState({lastPointerDownWith:f.pointerType,cursorButton:"down"}),d.savePointer(f.clientX,f.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(f)||f.button!==Pb.Oh.MAIN&&f.button!==Pb.Oh.TOUCH||(d.updateGestureOnPointerDown(f),f.preventDefault(),
document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<ck.size)))){var h=d.initialPointerDownState(f);if(!d.handleDraggingScrollBar(f,h)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(f),!d.handleSelectionOnPointerDown(f,h)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(f,d.state.elementType,h):d.createGenericElementOnPointerDown(d.state.elementType,
h);f=d.onPointerMoveFromPointerDownHandler(h);var m=d.onPointerUpFromPointerDownHandler(h),w=d.onKeyDownFromPointerDownHandler(h),C=d.onKeyUpFromPointerDownHandler(h);im=m;d.state.viewModeEnabled||(window.addEventListener(Pb.Ks.POINTER_MOVE,f),window.addEventListener(Pb.Ks.POINTER_UP,m),window.addEventListener(Pb.Ks.KEYDOWN,w),window.addEventListener(Pb.Ks.KEYUP,C),h.eventListeners.onMove=f,h.eventListeners.onUp=m,h.eventListeners.onKeyUp=C,h.eventListeners.onKeyDown=w)}else d.handleTextOnPointerDown(f,
h)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(f){"touch"===f.pointerType&&(tn=!1,hm?tn=!0:hm=window.setTimeout(function(){hm=0;tn||d.openContextMenu({clientX:f.clientX,clientY:f.clientY})},Pb.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(f){if(0!==ck.size||!(f.button===Pb.Oh.WHEEL||f.button===Pb.Oh.MAIN&&ym||d.state.viewModeEnabled))return!1;sn=!0;var h=!1,m=/Linux/.test(window.navigator.platform);Og(d.canvas,Pb.oc.GRABBING);var w=f.clientX,C=f.clientY,S=Ad(function(ba){var ua=
w-ba.clientX,na=C-ba.clientY;if(w=ba.clientX,C=ba.clientY,m&&!h&&(1<Math.abs(ua)||1<Math.abs(na))){h=!0;var Ia=function(Na){document.body.removeEventListener(Pb.Ks.PASTE,Ia);Na.stopPropagation()},Oa=function(){setTimeout(function(){document.body.removeEventListener(Pb.Ks.PASTE,Ia);window.removeEventListener(Pb.Ks.POINTER_UP,Oa)},100)};document.body.addEventListener(Pb.Ks.PASTE,Ia);window.addEventListener(Pb.Ks.POINTER_UP,Oa)}d.setState({scrollX:d.state.scrollX-ua/d.state.zoom.value,scrollY:d.state.scrollY-
na/d.state.zoom.value})}),R=Ad(im=function(){im=null;sn=!1;ym||Gg(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(f.clientX,f.clientY,"up");window.removeEventListener(Pb.Ks.POINTER_MOVE,S);window.removeEventListener(Pb.Ks.POINTER_UP,R);window.removeEventListener(Pb.Ks.BLUR,R)});return window.addEventListener(Pb.Ks.BLUR,R),window.addEventListener(Pb.Ks.POINTER_MOVE,S,{passive:!0}),window.addEventListener(Pb.Ks.POINTER_UP,R),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==
d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(f,h){if("selection"===d.state.elementType){var m=d.scene.getElements(),w=Ee(m,d.state);1!==w.length||d.state.editingLinearElement?1<w.length&&(h.resize.handleType=yg(Yc(w),h.origin.x,h.origin.y,d.state.zoom,f.pointerType)):(m=Jg(m,d.state,h.origin.x,h.origin.y,d.state.zoom,f.pointerType),null!=m&&(d.setState({resizingElement:m.element}),h.resize.handleType=m.transformHandleType));
if(h.resize.handleType)Og(d.canvas,uh({transformHandleType:h.resize.handleType})),h.resize.isResizing=!0,h.resize.offset=fg(function(Oa,Na,fb,db){var Cb,ec=1===Na.length?Me(Na[0]):Yc(Na),gc=ec[0],sc=ec[1],pd=ec[2];ec=ec[3];Na=1===Na.length?Na[0].angle:0;switch(fb=(Cb=le(fb,db,(gc+pd)/2,(sc+ec)/2,-Na))[0],db=Cb[1],Oa){case "n":return le(fb-(gc+pd)/2,db-sc,0,0,Na);case "s":return le(fb-(gc+pd)/2,db-ec,0,0,Na);case "w":return le(fb-gc,db-(sc+ec)/2,0,0,Na);case "e":return le(fb-pd,db-(sc+ec)/2,0,0,Na);
case "nw":return le(fb-gc,db-sc,0,0,Na);case "ne":return le(fb-pd,db-sc,0,0,Na);case "sw":return le(fb-gc,db-ec,0,0,Na);case "se":return le(fb-pd,db-ec,0,0,Na);default:return[0,0]}}(h.resize.handleType,w,h.origin.x,h.origin.y)),1===w.length&&Md(w[0])&&2===w[0].points.length&&(h.resize.arrowDirection=(R=h.resize.handleType,ba=w[0],ua=ba.points[1],na=ua[0],Ia=ua[1],"nw"===R&&(0>na||0>Ia)||"ne"===R&&0<=na||"sw"===R&&0>=na||"se"===R&&(0<na||0<Ia)?"end":"origin"));else{var C;if(d.state.editingLinearElement&&
(w=hf.handlePointerDown(f,d.state,function(Oa){return d.setState(Oa)},$i,h.origin),w.hitElement&&(h.hit.element=w.hitElement),w.didAddPoint))return!0;h.hit.element=null!==(C=h.hit.element)&&void 0!==C?C:d.getElementAtPosition(h.origin.x,h.origin.y);h.hit.allHitElements=d.getElementsAtPosition(h.origin.x,h.origin.y);var S=h.hit.element;C=h.hit.allHitElements.some(function(Oa){return d.isASelectedElement(Oa)});if(null!==S&&C||f.shiftKey||h.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(S),
null!=S){if(f[Fd])return d.setState(function(Oa){var Na;Oa=qb(qb({},Oa),{},{editingGroupId:S.groupIds.length?S.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(Na={},Na[S.id]=!0,Na)});return Oc(Oc({},Oa),{},{previousSelectedElementIds:d.state.selectedElementIds})}),!1;d.state.selectedElementIds[S.id]||(d.state.editingGroupId&&!S.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),C||h.hit.hasHitCommonBoundingBoxOfSelectedElements||
(d.setState(function(Oa){var Na;return Ej(Oc(Oc({},Oa),{},{selectedElementIds:Oc(Oc({},Oa.selectedElementIds),{},(Na={},Na[S.id]=!0,Na))}),d.scene.getElements())}),h.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var R,ba,ua,na,Ia;return!1};this.handleTextOnPointerDown=function(f,h){var m;"text"!==(null===(m=d.state.editingElement)||void 0===m?void 0:m.type)&&(d.startTextEditing({sceneX:h.origin.x,sceneY:h.origin.y,insertAtParentCenter:!f.altKey}),
Le(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(f,h,m){if(d.state.multiElement){var w=d.state.multiElement;if("line"===w.type&&ph(w.points,d.state.zoom.value))return Bd(w,{lastCommittedPoint:w.points[w.points.length-1]}),void d.actionManager.executeAction(Oe);h=w.x;f=w.y;var C=w.lastCommittedPoint;if(1<w.points.length&&C&&Math.hypot(C[0]-(m.origin.x-h),C[1]-(m.origin.y-f))<Pb.qx)return void d.actionManager.executeAction(Oe);
d.setState(function(ba){var ua;return{selectedElementIds:Oc(Oc({},ba.selectedElementIds),{},(ua={},ua[w.id]=!0,ua))}});Bd(w,{lastCommittedPoint:w.points[w.points.length-1]});Og(d.canvas,Pb.oc.POINTER)}else{f=ug(m.origin.x,m.origin.y,"draw"===h?null:d.state.gridSize);var S=d.state;C=S.currentItemStartArrowhead;S=S.currentItemEndArrowhead;C="arrow"===h?[C,S]:[null,null];var R=Kh({type:h,x:f[0],y:f[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,
strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:C[0],endArrowhead:C[1]});d.setState(function(ba){var ua;return{selectedElementIds:Oc(Oc({},ba.selectedElementIds),{},(ua={},ua[R.id]=!1,ua))}});Bd(R,{points:qj(R.points,[[0,0]])});m=bj(m.origin,d.scene);d.scene.replaceAllElements(qj(d.scene.getElementsIncludingDeleted(),
[R]));d.setState({draggingElement:R,editingElement:R,startBoundElement:m,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(f,h){h=ug(h.origin.x,h.origin.y,d.state.gridSize);f=Jh({type:f,x:h[0],y:h[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,
strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===f.type?d.setState({selectionElement:f,draggingElement:f}):(d.scene.replaceAllElements(qj(d.scene.getElementsIncludingDeleted(),[f])),d.setState({multiElement:null,draggingElement:f,editingElement:f}))};this.updateBindingEnabledOnPointerMove=function(f){f=!f[Fd];d.state.isBindingEnabled!==f&&d.setState({isBindingEnabled:f})};this.maybeSuggestBindingAtCursor=function(f){f=bj(f,d.scene);d.setState({suggestedBindings:null!=f?[f]:[]})};
this.maybeSuggestBindingForLinearElementAtCursor=function(f,h,m,w){h=bj(m,d.scene);d.setState({suggestedBindings:null==h||(null==w?void 0:w.id)===h.id&&3>f.points.length?[]:[h]})};this.handleCanvasRef=function(f){var h,m,w;null!==f?(d.canvas=f,d.rc=ih.canvas(d.canvas),d.canvas.addEventListener(Pb.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(Pb.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(Pb.Ks.TOUCH_END,d.onTapEnd)):(null===(h=d.canvas)||void 0===h||h.removeEventListener(Pb.Ks.WHEEL,
d.handleWheel),null===(m=d.canvas)||void 0===m||m.removeEventListener(Pb.Ks.TOUCH_START,d.onTapStart),null===(w=d.canvas)||void 0===w||w.removeEventListener(Pb.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var f=ld()(function(h){var m,w,C,S,R,ba,ua,na,Ia,Oa,Na;return xm(this,function(fb){switch(fb.label){case 0:return fb.trys.push([0,3,,4]),"image/png"!==(null==(w=h.dataTransfer.files[0])?void 0:w.type)&&"image/svg+xml"!==(null==w?void 0:w.type)?[3,2]:[4,bm(w,d.state)];case 1:return C=
fb.sent(),S=C.elements,R=C.appState,d.syncActionResult({elements:S,appState:Oc(Oc({},R||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return ba=fb.sent(),[2,d.setState({isLoading:!1,errorMessage:ba.message})];case 4:if(""!==(ua=h.dataTransfer.getData(Pb.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(ua),h.clientX,h.clientY),[2];if(!("application/json"===(null==(na=null===(m=h.dataTransfer)||void 0===m?void 0:m.files[0])?void 0:na.type)||null!=
na&&na.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];fb.label=5;case 5:return fb.trys.push([5,7,,8]),Ia=h.dataTransfer.items[0],Oa=na,[4,Ia.getAsFileSystemHandle()];case 6:return Oa.handle=fb.sent(),[3,8];case 7:return Na=fb.sent(),console.warn(Na.name,Na.message),[3,8];case 8:return bm(na,d.state).then(function(db){return d.syncActionResult({elements:db.elements,appState:Oc(Oc({},db.appState||
d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(db){d.setState({isLoading:!1,errorMessage:db.message})}),[3,10];case 9:(null==na?void 0:na.type)===Pb.LO.excalidrawlib||null!=na&&na.name.endsWith(".excalidrawlib")?F.importLibrary(na).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(db){return d.setState({isLoading:!1,errorMessage:db.message})}):d.setState({isLoading:!1,errorMessage:hb("alerts.couldNotLoadInvalidFile")}),fb.label=10;case 10:return[2]}})});return function(h){return f.apply(this,
arguments)}}();this.handleCanvasContextMenu=function(f){f.preventDefault();d.openContextMenu(f)};this.maybeDragNewGenericElement=function(f,h){var m=d.state.draggingElement,w=f.lastCoords;if(m)if("selection"===m.type)Df(m,d.state.elementType,f.origin.x,f.origin.y,w.x,w.y,Math.abs(f.origin.x-w.x),Math.abs(f.origin.y-w.y),h.shiftKey,h.altKey);else{var C=ug(w.x,w.y,d.state.gridSize);w=C[0];C=C[1];Df(m,d.state.elementType,f.originInGrid.x,f.originInGrid.y,w,C,Math.abs(f.originInGrid.x-w),Math.abs(f.originInGrid.y-
C),h.shiftKey,h.altKey);d.maybeSuggestBindingForAll([m])}};this.maybeHandleResize=function(f,h){var m=Ee(d.scene.getElements(),d.state),w=f.resize.handleType;d.setState({isResizing:w&&"rotation"!==w,isRotating:"rotation"===w});var C=f.lastCoords;C=ug(C.x-f.resize.offset.x,C.y-f.resize.offset.y,d.state.gridSize);a:{var S=f.resize.arrowDirection,R=h.shiftKey,ba=h.altKey;h=h.shiftKey;var ua=C[0],na=C[1];C=f.resize.center.x;var Ia=f.resize.center.y;if(1===m.length){C=m[0];if("rotation"===w)w=Me(C),w=
5*Math.PI/2+Math.atan2(na-(w[1]+w[3])/2,ua-(w[0]+w[2])/2),R&&(w+=Pb.ay/2,w-=w%Pb.ay),w=pe(w),Bd(C,{angle:w}),vh(C);else if(!Md(C)||2!==C.points.length||"nw"!==w&&"ne"!==w&&"sw"!==w&&"se"!==w)if(!lf(C)||"nw"!==w&&"ne"!==w&&"sw"!==w&&"se"!==w){if(w){S=f.originalElements.get(C.id);var Oa=og(S,S.width,S.height);R=[Oa[0],Oa[1]];f=[Oa[2],Oa[3]];Oa=[(R[0]+f[0])/2,(R[1]+f[1])/2];Ia=Sj([ua,na],Oa,-S.angle);ua=og(C,C.width,C.height);var Na=ua[2]-ua[0],fb=ua[3]-ua[1];ua=(f[0]-R[0])/Na;na=(f[1]-R[1])/fb;w.includes("e")&&
(ua=(Ia[0]-R[0])/Na);w.includes("s")&&(na=(Ia[1]-R[1])/fb);w.includes("w")&&(ua=(f[0]-Ia[0])/Na);w.includes("n")&&(na=(f[1]-Ia[1])/fb);Ia=S.width;Na=S.height;ua*=C.width;na*=C.height;if(ba&&(ua=2*ua-Ia,na=2*na-Na),h){fb=Math.abs(ua)/Ia;var db=Math.abs(na)/Na;if(1===w.length&&(na*=fb,ua*=db),2===w.length)fb=Math.max(fb,db),ua=Ia*fb*Math.sign(ua),na=Na*fb*Math.sign(na)}db=og(S,ua,na);Ia=db[0];Na=db[1];fb=db[2]-Ia;db=db[3]-Na;var Cb=Yf(R);if(["n","w","nw"].includes(w)&&(Cb=[f[0]-Math.abs(fb),f[1]-Math.abs(db)]),
"ne"===w)Cb=[R[0],f[1]],Cb=[Cb[0],Cb[1]-Math.abs(db)];"sw"===w&&(R=[f[0],R[1]],Cb=[R[0]-Math.abs(fb),R[1]]);h&&(["s","n"].includes(w)&&(Cb[0]=Oa[0]-fb/2),["e","w"].includes(w)&&(Cb[1]=Oa[1]-db/2));0>ua&&(w.includes("e")&&(Cb[0]-=Math.abs(fb)),w.includes("w")&&(Cb[0]+=Math.abs(fb)));0>na&&(w.includes("s")&&(Cb[1]-=Math.abs(db)),w.includes("n")&&(Cb[1]+=Math.abs(db)));ba&&(Cb[0]=Oa[0]-Math.abs(fb)/2,Cb[1]=Oa[1]-Math.abs(db)/2);w=S.angle;ba=Sj(Cb,Oa,w);h=Sj([Cb[0]+Math.abs(fb)/2,Cb[1]+Math.abs(db)/2],
Oa,w);Cb=Sj(ba,h,-w);w=Pe(S,ua,na);ba=Yf(Cb);ba[0]+=S.x-Ia;ba[1]+=S.y-Na;w=dc({width:Math.abs(ua),height:Math.abs(na),x:ba[0],y:ba[1]},w);0!==w.width&&0!==w.height&&Number.isFinite(w.x)&&Number.isFinite(w.y)&&(vh(C,{newSize:{width:w.width,height:w.height}}),Bd(C,w))}}else{S=Me(C);f=S[0];R=S[1];h=S[2];S=S[3];na=le(ua,na,(f+h)/2,(R+S)/2,-C.angle);ua=na[0];na=na[1];switch(w){case "se":Oa=Math.max((ua-f)/(h-f),(na-R)/(S-R));break;case "nw":Oa=Math.max((h-ua)/(h-f),(S-na)/(S-R));break;case "ne":Oa=Math.max((ua-
f)/(h-f),(S-na)/(S-R));break;case "sw":Oa=Math.max((h-ua)/(h-f),(na-R)/(S-R))}0<Oa&&(ua=C.width*Oa,Oa*=C.height,na=bg(C,ua,Oa),null!==na&&(Ia=og(C,ua,Oa),f=(f-Ia[0])/2,R=(R-Ia[1])/2,h=(h-Ia[2])/2,S=(S-Ia[3])/2,w={n:/^(n|ne|nw)$/.test(w)||ba&&/^(s|se|sw)$/.test(w),s:/^(s|se|sw)$/.test(w)||ba&&/^(n|ne|nw)$/.test(w),w:/^(w|nw|sw)$/.test(w)||ba&&/^(e|ne|se)$/.test(w),e:/^(e|ne|se)$/.test(w)||ba&&/^(w|nw|sw)$/.test(w)},w=fi(w,C.x,C.y,C.angle,f,R,h,S),Bd(C,{fontSize:na.size,width:ua,height:Oa,baseline:na.baseline,
x:w[0],y:w[1]})));vh(C)}else w=Me(C),ba=le(ua,na,(w[0]+w[2])/2,(w[1]+w[3])/2,-C.angle),w=ba[0],ba=ba[1],ba="end"===S?[w-C.x,ba-C.y]:[C.x+C.points[1][0]-w,C.y+C.points[1][1]-ba],w=ba[0],ba=ba[1],R&&(h=C.angle,w=Gf.apply(void 0,Yf([C.type],le(w,ba,0,0,h))),ba=le(w.width,w.height,0,0,-h),w=ba[0],ba=ba[1]),h=fi("end"===S?{s:!0,e:!0}:{n:!0,w:!0},C.x,C.y,C.angle,0,0,(C.points[1][0]-w)/2,(C.points[1][1]-ba)/2),Bd(C,{x:h[0],y:h[1],points:[[0,0],[w,ba]]});C=!0}else{if(1<m.length){if("rotation"===w){C=(lg(f,
m,ua,na,R,C,Ia),!0);break a}if("nw"===w||"ne"===w||"sw"===w||"se"===w){C=(tk(m,w,ua,na),!0);break a}}C=!1}}return!!C&&(d.maybeSuggestBindingForAll(m),!0)};this.openContextMenu=function(f){var h,m=f.clientX;f=f.clientY;var w=Lf({clientX:m,clientY:f},d.state),C=w.x,S=w.y,R=Ti.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),ba=gl.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());w=Ke().matches;var ua=d.scene.getElements();
C=d.getElementAtPosition(C,S);S=[];(fl&&0<ua.length&&S.push(Pm),el&&0<ua.length&&S.push(Qm),C)?(d.state.selectedElementIds[C.id]||d.setState({selectedElementIds:(h={},h[C.id]=!0,h)}),d.state.viewModeEnabled?Il({options:qj([navigator.clipboard&&sl],S),top:f,left:m,actionManager:d.actionManager,appState:d.state}):Il({options:qj([w&&mn,w&&navigator.clipboard&&sl,w&&navigator.clipboard&&{name:"paste",perform:function(na,Ia){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},
w&&"separator"],S,["separator",Gh,Bh,"separator",R&&Ti,ba&&gl,(R||ba)&&"separator",Sm,"separator",em,Ik,e,l,"separator",L,Zi]),top:f,left:m,actionManager:d.actionManager,appState:d.state})):(h=qj(S,[void 0===d.props.gridModeEnabled&&Nm,void 0===d.props.zenModeEnabled&&ed,void 0===d.props.viewModeEnabled&&Fo,$l]),(Il({options:h,top:f,left:m,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||Il({options:[w&&navigator.clipboard&&{name:"paste",perform:function(na,Ia){return d.pasteFromClipboard(null),
{commitToHistory:!1}},contextItemLabel:"labels.paste"},w&&navigator.clipboard&&"separator",fl&&0<ua.length&&Pm,el&&0<ua.length&&Qm,(fl&&0<ua.length||el&&0<ua.length)&&"separator",E,"separator",void 0===d.props.gridModeEnabled&&Nm,void 0===d.props.zenModeEnabled&&ed,void 0===d.props.viewModeEnabled&&Fo,$l],top:f,left:m,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=Ad(function(f){if(f.preventDefault(),!sn){var h=f.deltaX,m=f.deltaY,w=d.state,C=w.selectedElementIds,S=w.previousSelectedElementIds;
if(f.metaKey||f.ctrlKey){f=Math.sign(m);w=Math.abs(m);10<w&&(w=10);w*=f;0!==Object.keys(S).length&&setTimeout(function(){d.setState({selectedElementIds:S,previousSelectedElementIds:{}})},1E3);var R=d.state.zoom.value-w/100;return R+=Math.log10(Math.max(1,d.state.zoom.value))*-f,R=Math.round(R*Pb.V4*100)/(100*Pb.V4),d.setState(function(ba){var ua=ba.zoom,na=ba.offsetLeft;ba=ba.offsetTop;return{zoom:Oh(dj(R),ua,{left:na,top:ba},{x:Um,y:Vm}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(C).length?
C:S,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}f.shiftKey?d.setState(function(ba){return{scrollX:ba.scrollX-(m||h)/ba.zoom.value}}):d.setState(function(ba){var ua=ba.zoom;return{scrollX:ba.scrollX-h/ua.value,scrollY:ba.scrollY-m/ua.value}})}});this.savePointer=function(f,h,m){var w,C;f&&h&&(f=Lf({clientX:f,clientY:h},d.state),isNaN(f.x)||isNaN(f.y),null===(w=(C=d.props).onPointerUpdate)||void 0===w||w.call(C,{pointer:f,button:m,pointersMap:ck}))};this.resetShouldCacheIgnoreZoomDebounced=
Kf(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Pb.Vi.TEST&&"production"!==Pb.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return $i}},library:{configurable:!0,value:F}}));n(8234);n(4651);var Go=function(d){var f=d.width,h=d.height,m=d.offsetLeft,
w=d.offsetTop,C=d.onChange,S=d.initialData,R=d.excalidrawRef,ba=d.onCollabButtonClick,ua=d.isCollaborating,na=d.onPointerUpdate,Ia=d.onExportToBackend,Oa=d.renderFooter,Na=d.langCode;Na=void 0===Na?Pf.code:Na;var fb=d.viewModeEnabled,db=d.zenModeEnabled;d=d.gridModeEnabled;return(0,Jd.useEffect)(function(){var Cb=function(ec){"number"==typeof ec.scale&&1!==ec.scale&&ec.preventDefault()};return document.addEventListener("touchmove",Cb,{passive:!1}),function(){document.removeEventListener("touchmove",
Cb)}},[]),qa().createElement(vj,{langCode:Na},qa().createElement(Qe,null,qa().createElement(lo,{width:f,height:h,offsetLeft:m,offsetTop:w,onChange:C,initialData:S,excalidrawRef:R,onCollabButtonClick:ba,isCollaborating:ua,onPointerUpdate:na,onExportToBackend:Ia,renderFooter:Oa,langCode:Na,viewModeEnabled:fb,zenModeEnabled:db,gridModeEnabled:d})))};Go.defaultProps={lanCode:Pf.code};var Lp=(0,Jd.forwardRef)(function(d,f){return qa().createElement(Go,Rf()({},d,{excalidrawRef:f}))});const Mp=qa().memo(Lp,
function(d,f){d.initialData;var h=ui()(d,["initialData"]),m=(f.initialData,ui()(f,["initialData"]));d=Object.keys(d);f=Object.keys(f);return d.length===f.length&&d.every(function(w){return h[w]===m[w]})});n(6009);const Np=Mp},4698:J=>{J.exports=H},6207:J=>{J.exports=u}},b={};return A.m=I,A.n=J=>{var t=J&&J.__esModule?()=>J.default:()=>J;return A.d(t,{a:t}),t},x=Object.getPrototypeOf?J=>Object.getPrototypeOf(J):J=>J.__proto__,A.t=function(J,t){if((1&t&&(J=this(J)),8&t)||"object"==typeof J&&J&&(4&t&&
J.__esModule||16&t&&"function"==typeof J.then))return J;var n=Object.create(null);A.r(n);var G={};v=v||[null,x({}),x([]),x(x)];for(t=2&t&&J;"object"==typeof t&&!~v.indexOf(t);t=x(t))Object.getOwnPropertyNames(t).forEach(M=>G[M]=()=>J[M]);return G.default=()=>J,A.d(n,G),n},A.d=(J,t)=>{for(var n in t)A.o(t,n)&&!A.o(J,n)&&Object.defineProperty(J,n,{enumerable:!0,get:t[n]})},A.f={},A.e=J=>Promise.all(Object.keys(A.f).reduce((t,n)=>(A.f[n](J,t),t),[])),A.u=J=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",
60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",
565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[J]+"-"+{9:"4c2d5c85067885b645af",43:"25b9d373be7998ec8292",60:"b1be5a5efcc755c07d59",62:"73f897900f59b18297f8",137:"5405a70006ac91601a5c",149:"6dd9b7298afdffcf91ef",164:"0e0d76b0ec51eec085f9",196:"08b07d372c3d3c8a012c",213:"34f56d7f1f2f80889a14",242:"5c814bfe8c8afece2196",
246:"0156721cbd6f7f7d53c0",262:"6bcb0fc5bb372765fcc4",280:"533afc0d50cc43daa571",304:"6e008d0de37586fe3be9",317:"1ef86d5f25e74cdc8c07",351:"9d87e847bedbcf7eeb2e",364:"36f93b4d67d8f8b386c4",381:"e6484705437c57afd8ba",384:"86c2a2dcf09266c579cb",401:"fc289748fac9d3515954",465:"0098334cb9a435eb74eb",472:"c3caff3c25c838cabb4e",491:"a963182dae0376271aea",526:"dff5b4d6bcb5f52ae5b8",558:"f279c4a807586879abec",565:"d5128dd436bf3fbea3e2",583:"16a0f6cb353a26ac3bb3",661:"b63671a66b4f486a152c",698:"ce2f80ea5452829415f2",
710:"c91b47131199307f68bf",736:"b4c65010480c4491af72",752:"cdaca327e54ab136970b",852:"4b867ec2769274f799f2",869:"d5fa851675c0a792d0f1",920:"f33e34b9500103bb0c9f",933:"d607b524c3147901f4f9"}[J]+".js",A.o=(J,t)=>Object.prototype.hasOwnProperty.call(J,t),D={},A.l=(J,t,n,G)=>{if(D[J])D[J].push(t);else{var M;if(void 0!==n){G=document.getElementsByTagName("script");for(var N=0;N<G.length;N++){var T=G[N];if(T.getAttribute("src")==J||T.getAttribute("data-webpack")=="Excalidraw:"+n){var oa=T;break}}}oa||(M=
!0,(oa=document.createElement("script")).charset="utf-8",oa.timeout=120,A.nc&&oa.setAttribute("nonce",A.nc),oa.setAttribute("data-webpack","Excalidraw:"+n),oa.src=J);D[J]=[t];t=(X,Y)=>{oa.onerror=oa.onload=null;clearTimeout(da);var W=D[J];if(delete D[J],oa.parentNode&&oa.parentNode.removeChild(oa),W&&W.forEach(ya=>ya(Y)),X)return X(Y)};var da=setTimeout(t.bind(null,void 0,{type:"timeout",target:oa}),12E4);oa.onerror=t.bind(null,oa.onerror);oa.onload=t.bind(null,oa.onload);M&&document.head.appendChild(oa)}},
A.r=J=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"});Object.defineProperty(J,"__esModule",{value:!0})},A.p="",(()=>{var J={163:0};A.f.j=(G,M)=>{var N=A.o(J,G)?J[G]:void 0;if(0!==N)if(N)M.push(N[2]);else{var T=new Promise((da,X)=>{N=J[G]=[da,X]});M.push(N[2]=T);M=A.p+A.u(G);var oa=Error();A.l(M,da=>{if(A.o(J,G)&&(0!==(N=J[G])&&(J[G]=void 0),N)){var X=da&&("load"===da.type?"missing":da.type);da=da&&da.target&&da.target.src;oa.message="Loading chunk "+
G+" failed.\n("+X+": "+da+")";oa.name="ChunkLoadError";oa.type=X;oa.request=da;N[1](oa)}},"chunk-"+G,G)}};var t=(G,M)=>{for(var N,T,[oa,da,X]=M,Y=0,W=[];Y<oa.length;Y++)T=oa[Y],A.o(J,T)&&J[T]&&W.push(J[T][0]),J[T]=0;for(N in da)A.o(da,N)&&(A.m[N]=da[N]);X&&X(A);for(G&&G(M);W.length;)W.shift()()},n=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];n.forEach(t.bind(null,0));n.push=t.bind(null,n.push.bind(n))})(),A(3956)})()})};
var bEb=function(a,b){var c=$APP.pC();$APP.l(c)&&$APP.hB($APP.VS(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Sk($APP.E(["Error loading ",a,": ",d]))})},dEb=function(a){var b=$APP.Mx(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Bi(cEb.F(a),b);return a},eEb=new $APP.H(null,"view-mode-enabled","view-mode-enabled",-588220561),fEb=new $APP.H($APP.ta,"view-mode?","frontend.extensions.excalidraw/view-mode?",525380621),gEb=new $APP.H(null,
"viewBackgroundColor","viewBackgroundColor",1889137994),hEb=new $APP.H(null,"grid-mode-enabled","grid-mode-enabled",584978327),iEb=new $APP.H(null,"gridSize","gridSize",843108791),jEb=new $APP.H($APP.ta,"elements","frontend.extensions.excalidraw/elements",1745667967),kEb=new $APP.H($APP.ta,"loading?","frontend.extensions.excalidraw/loading?",-1335058663),lEb=new $APP.H($APP.ta,"data","frontend.extensions.excalidraw/data",-1371036113),mEb=new $APP.H(null,"zen-mode-enabled","zen-mode-enabled",-955634269),
nEb=new $APP.H($APP.ta,"zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),oEb=new $APP.H(null,"appState","appState",-1920687968),pEb=new $APP.H(null,"initial-data","initial-data",-1315709804),cEb=new $APP.H($APP.ta,"draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.Pca("excalidraw");var qEb=$APP.hx(294);var rEb,sEb,tEb,uEb;$APP.fCb={};rEb=$APP.rM($APP.gb(qEb,"default"));sEb=$APP.gl.F(null);
tEb=$APP.Gx($APP.Kx,function(a,b,c){$APP.kC($APP.oC);$APP.Px(sEb);var d=$APP.F.B(a,cEb),e=$APP.F.B(a,nEb),f=$APP.F.B(a,fEb),k=$APP.kC($APP.mM),m=$APP.F.B(a,jEb),p=$APP.en.F(c);return $APP.l(b)?$APP.T("div",{onMouseDown:function(q){return $APP.rB(q)},className:"overflow-hidden"},[$APP.T("div",{style:{fontSize:10},className:"my-1"},[$APP.T("a",{onClick:$APP.GIa,className:"mr-2"},[$APP.ox($APP.fB("Wide Mode (%s)",$APP.E([$APP.l(k)?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.hl.B(e,$APP.rd)},
className:"mr-2"},[$APP.ox($APP.fB("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.hl.B(f,$APP.rd)},className:"mr-2"},[$APP.ox($APP.fB("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),function(){var q=rEb($APP.Cn.K($APP.E([new $APP.h(null,6,[$APP.$V,function(t,x){var z=$APP.qv(t);return $APP.v(z)&&$APP.bk.B(t,$APP.r(m))?(x=$APP.qv(x),$APP.qTa(p,JSON.stringify($APP.rv(new $APP.h(null,5,[$APP.$m,"excalidraw",$APP.L5a,2,$APP.Gr,$APP.oT,
$APP.l5,t,oEb,$APP.dk(x,new $APP.J(null,2,5,$APP.K,[iEb,gEb],null))],null)))),$APP.Bi(m,t)):null},mEb,$APP.r(e),eEb,$APP.r(f),hEb,!1,pEb,b,$APP.KM,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.JM,650],null):new $APP.h(null,1,[$APP.JM,500],null)])));return $APP.T("div",$APP.Lf(q)?$APP.nx($APP.mx($APP.E([new $APP.h(null,1,[$APP.lx,new $APP.J(null,1,5,$APP.K,["draw-wrap"],null)],null),q]))):{className:"draw-wrap"},$APP.Lf(q)?null:[$APP.ox(q)])}()]):null},new $APP.J(null,7,5,$APP.K,[$APP.H8,$APP.Nx(800,
cEb),$APP.Nx(!0,nEb),$APP.Nx(!1,fEb),$APP.Nx(null,jEb),new $APP.h(null,1,[$APP.Cx,dEb],null),new $APP.h(null,1,[$APP.Ex,dEb],null)],null),"frontend.extensions.excalidraw/draw-inner");
uEb=$APP.Gx($APP.Kx,function(a,b){var c=$APP.F.B(a,lEb);a=$APP.F.B(a,kEb);a=$APP.Px(a);c=$APP.Px(c);var d=$APP.kC($APP.atb);return $APP.l($APP.en.F(b))?$APP.l(d)?(b=$APP.dW("Loading"),$APP.T("div",$APP.Lf(b)?$APP.nx($APP.mx($APP.E([new $APP.h(null,1,[$APP.lx,new $APP.J(null,1,5,$APP.K,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Lf(b)?null:[$APP.ox(b)])):!1===a?tEb(c,b):null:null},new $APP.J(null,2,5,$APP.K,[$APP.H8,new $APP.h(null,1,[$APP.Ax,function(a){var b=$APP.Hx.F(a);b=$APP.C.G(b,
0,null);b=$APP.en.F(b);var c=$APP.gl.F(null),d=$APP.gl.F(!0);$APP.l(b)&&bEb(b,function(e){if($APP.Bm(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.Sk($APP.E(["from json error:"])),console.dir(e),f=$APP.GM($APP.bta("Could not load this invalid excalidraw file"),$APP.wp);else throw k;}$APP.Bi(c,f);return $APP.Bi(d,!1)});return $APP.ck.K(a,lEb,c,$APP.E([kEb,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.gCb=$APP.Gx($APP.Jx,function(a){var b=$APP.pC(),c=$APP.kC(new $APP.J(null,2,5,$APP.K,[$APP.SM,b],null));return $APP.RD(b)&&$APP.rd(c)&&$APP.rd($APP.eB())?null:uEb(a)},new $APP.J(null,1,5,$APP.K,[$APP.H8],null),"frontend.extensions.excalidraw/draw");$APP.ic.ji();
}).call(this);